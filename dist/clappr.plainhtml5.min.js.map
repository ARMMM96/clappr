{"version":3,"file":"clappr.plainhtml5.min.js","sources":["../node_modules/@clappr/core/dist/clappr-core.esm.js","../node_modules/@clappr/plugins/dist/clappr-plugins.esm.js","../src/base_bundle.js"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n/* istanbul ignore file */\n\n/**\n * Array.prototype.find\n *\n * Original source : https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * See also : https://tc39.github.io/ecma262/#sec-array.prototype.find\n */\nif (!Array.prototype.find) {\n  // eslint-disable-next-line\n  Object.defineProperty(Array.prototype, 'find', {\n    // Note: ES6 arrow function syntax is not used on purpose to avoid this to be undefined\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) throw new TypeError('\"this\" is null or not defined');\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n      if (typeof predicate !== 'function') throw new TypeError('predicate must be a function'); // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n      var thisArg = arguments[1]; // 5. Let k be 0.\n\n      var k = 0; // 6. Repeat, while k < len\n\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) return kValue; // e. Increase k by 1.\n\n        k++;\n      } // 7. Return undefined.\n\n\n      return undefined;\n    }\n  });\n} // polyfills for smart TVs\n\n\nif (!Object.entries) {\n  Object.entries = function (obj) {\n    var ownProps = Object.keys(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n\n    while (i--) {\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    }\n\n    return resArray;\n  };\n}\n\nif (!Object.values) {\n  Object.values = function (obj) {\n    var ownProps = Object.keys(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n\n    while (i--) {\n      resArray[i] = obj[ownProps[i]];\n    }\n\n    return resArray;\n  };\n}\n/**\n * Object.assign\n * This polyfill doesn't support symbol properties, since ES5 doesn't have symbols anyway\n *\n * Original source : https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    // length of function is 2.\n    value: function assign(target, varArgs) {\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n} // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n\n\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      } // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n\n      var thisArg = arguments[1]; // 5. Let k be 0.\n\n      var k = 0; // 6. Repeat, while k < len\n\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return k.\n        var kValue = o[k];\n\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return k;\n        } // e. Increase k by 1.\n\n\n        k++;\n      } // 7. Return -1.\n\n\n      return -1;\n    },\n    configurable: true,\n    writable: true\n  });\n}\n\n/* istanbul ignore file */\n// https://github.com/mathiasbynens/small\nvar mp4 = 'data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=';\nvar Media = {\n  mp4: mp4\n};\n\n/* Zepto v1.2.0 - zepto ajax callbacks deferred event ie selector - zeptojs.com/license */\nvar Zepto = function () {\n  var undefined$1,\n      key,\n      $,\n      classList,\n      emptyArray = [],\n      concat = emptyArray.concat,\n      filter = emptyArray.filter,\n      slice = emptyArray.slice,\n      document = window.document,\n      elementDisplay = {},\n      classCache = {},\n      cssNumber = {\n    'column-count': 1,\n    'columns': 1,\n    'font-weight': 1,\n    'line-height': 1,\n    'opacity': 1,\n    'z-index': 1,\n    'zoom': 1\n  },\n      fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n      singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n      tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n      rootNodeRE = /^(?:body|html)$/i,\n      capitalRE = /([A-Z])/g,\n      // special attributes that should be get/set via method calls\n  methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n      adjacencyOperators = ['after', 'prepend', 'before', 'append'],\n      table = document.createElement('table'),\n      tableRow = document.createElement('tr'),\n      containers = {\n    'tr': document.createElement('tbody'),\n    'tbody': table,\n    'thead': table,\n    'tfoot': table,\n    'td': tableRow,\n    'th': tableRow,\n    '*': document.createElement('div')\n  },\n      readyRE = /complete|loaded|interactive/,\n      simpleSelectorRE = /^[\\w-]*$/,\n      class2type = {},\n      toString = class2type.toString,\n      zepto = {},\n      camelize,\n      uniq,\n      tempParent = document.createElement('div'),\n      propMap = {\n    'tabindex': 'tabIndex',\n    'readonly': 'readOnly',\n    'for': 'htmlFor',\n    'class': 'className',\n    'maxlength': 'maxLength',\n    'cellspacing': 'cellSpacing',\n    'cellpadding': 'cellPadding',\n    'rowspan': 'rowSpan',\n    'colspan': 'colSpan',\n    'usemap': 'useMap',\n    'frameborder': 'frameBorder',\n    'contenteditable': 'contentEditable'\n  },\n      isArray = Array.isArray || function (object) {\n    return object instanceof Array;\n  };\n\n  zepto.matches = function (element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false;\n    var matchesSelector = element.matches || element.webkitMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.matchesSelector;\n    if (matchesSelector) return matchesSelector.call(element, selector); // fall back to performing a selector:\n\n    var match,\n        parent = element.parentNode,\n        temp = !parent;\n    if (temp) (parent = tempParent).appendChild(element);\n    match = ~zepto.qsa(parent, selector).indexOf(element);\n    temp && tempParent.removeChild(element);\n    return match;\n  };\n\n  function type(obj) {\n    return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n  }\n\n  function isFunction(value) {\n    return type(value) == \"function\";\n  }\n\n  function isWindow(obj) {\n    return obj != null && obj == obj.window;\n  }\n\n  function isDocument(obj) {\n    return obj != null && obj.nodeType == obj.DOCUMENT_NODE;\n  }\n\n  function isObject(obj) {\n    return type(obj) == \"object\";\n  }\n\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype;\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n        type = $.type(obj);\n    return 'function' != type && !isWindow(obj) && ('array' == type || length === 0 || typeof length == 'number' && length > 0 && length - 1 in obj);\n  }\n\n  function compact(array) {\n    return filter.call(array, function (item) {\n      return item != null;\n    });\n  }\n\n  function flatten(array) {\n    return array.length > 0 ? $.fn.concat.apply([], array) : array;\n  }\n\n  camelize = function (str) {\n    return str.replace(/-+(.)?/g, function (match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n  };\n\n  function dasherize(str) {\n    return str.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();\n  }\n\n  uniq = function (array) {\n    return filter.call(array, function (item, idx) {\n      return array.indexOf(item) == idx;\n    });\n  };\n\n  function classRE(name) {\n    return name in classCache ? classCache[name] : classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)');\n  }\n\n  function maybeAddPx(name, value) {\n    return typeof value == \"number\" && !cssNumber[dasherize(name)] ? value + \"px\" : value;\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display;\n\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName);\n      document.body.appendChild(element);\n      display = getComputedStyle(element, '').getPropertyValue(\"display\");\n      element.parentNode.removeChild(element);\n      display == \"none\" && (display = \"block\");\n      elementDisplay[nodeName] = display;\n    }\n\n    return elementDisplay[nodeName];\n  }\n\n  function children(element) {\n    return 'children' in element ? slice.call(element.children) : $.map(element.childNodes, function (node) {\n      if (node.nodeType == 1) return node;\n    });\n  }\n\n  function Z(dom, selector) {\n    var i,\n        len = dom ? dom.length : 0;\n\n    for (i = 0; i < len; i++) this[i] = dom[i];\n\n    this.length = len;\n    this.selector = selector || '';\n  } // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n\n\n  zepto.fragment = function (html, name, properties) {\n    var dom, nodes, container; // A special case optimization for a single tag\n\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1));\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\");\n      if (name === undefined$1) name = fragmentRE.test(html) && RegExp.$1;\n      if (!(name in containers)) name = '*';\n      container = containers[name];\n      container.innerHTML = '' + html;\n      dom = $.each(slice.call(container.childNodes), function () {\n        container.removeChild(this);\n      });\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom);\n      $.each(properties, function (key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value);else nodes.attr(key, value);\n      });\n    }\n\n    return dom;\n  }; // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n\n\n  zepto.Z = function (dom, selector) {\n    return new Z(dom, selector);\n  }; // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n\n\n  zepto.isZ = function (object) {\n    return object instanceof zepto.Z;\n  }; // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n\n\n  zepto.init = function (selector, context) {\n    var dom; // If nothing given, return an empty Zepto collection\n\n    if (!selector) return zepto.Z(); // Optimize for string selectors\n    else if (typeof selector == 'string') {\n        selector = selector.trim(); // If it's a html fragment, create nodes from it\n        // Note: In both Chrome 21 and Firefox 15, DOM error 12\n        // is thrown if the fragment doesn't begin with <\n\n        if (selector[0] == '<' && fragmentRE.test(selector)) dom = zepto.fragment(selector, RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n        // nodes from there\n        else if (context !== undefined$1) return $(context).find(selector); // If it's a CSS selector, use it to select nodes.\n          else dom = zepto.qsa(document, selector);\n      } // If a function is given, call it when the DOM is ready\n      else if (isFunction(selector)) return $(document).ready(selector); // If a Zepto collection is given, just return it\n        else if (zepto.isZ(selector)) return selector;else {\n            // normalize array if an array of nodes is given\n            if (isArray(selector)) dom = compact(selector); // Wrap DOM nodes.\n            else if (isObject(selector)) dom = [selector], selector = null; // If it's a html fragment, create nodes from it\n              else if (fragmentRE.test(selector)) dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n                // nodes from there\n                else if (context !== undefined$1) return $(context).find(selector); // And last but no least, if it's a CSS selector, use it to select nodes.\n                  else dom = zepto.qsa(document, selector);\n          } // create a new Zepto collection from the nodes found\n\n    return zepto.Z(dom, selector);\n  }; // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n\n\n  $ = function (selector, context) {\n    return zepto.init(selector, context);\n  };\n\n  function extend(target, source, deep) {\n    for (key in source) if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) target[key] = {};\n      if (isArray(source[key]) && !isArray(target[key])) target[key] = [];\n      extend(target[key], source[key], deep);\n    } else if (source[key] !== undefined$1) target[key] = source[key];\n  } // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n\n\n  $.extend = function (target) {\n    var deep,\n        args = slice.call(arguments, 1);\n\n    if (typeof target == 'boolean') {\n      deep = target;\n      target = args.shift();\n    }\n\n    args.forEach(function (arg) {\n      extend(target, arg, deep);\n    });\n    return target;\n  }; // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n\n\n  zepto.qsa = function (element, selector) {\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector,\n        // Ensure that a 1 char tag name still gets checked\n    isSimple = simpleSelectorRE.test(nameOnly);\n    return element.getElementById && isSimple && maybeID ? // Safari DocumentFragment doesn't have getElementById\n    (found = element.getElementById(nameOnly)) ? [found] : [] : element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11 ? [] : slice.call(isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n    maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n    element.getElementsByTagName(selector) : // Or a tag\n    element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n    );\n  };\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector);\n  }\n\n  $.contains = document.documentElement.contains ? function (parent, node) {\n    return parent !== node && parent.contains(node);\n  } : function (parent, node) {\n    while (node && (node = node.parentNode)) if (node === parent) return true;\n\n    return false;\n  };\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg;\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value);\n  } // access className property while respecting SVGAnimatedString\n\n\n  function className(node, value) {\n    var klass = node.className || '',\n        svg = klass && klass.baseVal !== undefined$1;\n    if (value === undefined$1) return svg ? klass.baseVal : klass;\n    svg ? klass.baseVal = value : node.className = value;\n  } // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n\n\n  function deserializeValue(value) {\n    try {\n      return value ? value == \"true\" || (value == \"false\" ? false : value == \"null\" ? null : +value + \"\" == value ? +value : /^[\\[\\{]/.test(value) ? $.parseJSON(value) : value) : value;\n    } catch (e) {\n      return value;\n    }\n  }\n\n  $.type = type;\n  $.isFunction = isFunction;\n  $.isWindow = isWindow;\n  $.isArray = isArray;\n  $.isPlainObject = isPlainObject;\n\n  $.isEmptyObject = function (obj) {\n    var name;\n\n    for (name in obj) return false;\n\n    return true;\n  };\n\n  $.isNumeric = function (val) {\n    var num = Number(val),\n        type = typeof val;\n    return val != null && type != 'boolean' && (type != 'string' || val.length) && !isNaN(num) && isFinite(num) || false;\n  };\n\n  $.inArray = function (elem, array, i) {\n    return emptyArray.indexOf.call(array, elem, i);\n  };\n\n  $.camelCase = camelize;\n\n  $.trim = function (str) {\n    return str == null ? \"\" : String.prototype.trim.call(str);\n  }; // plugin compatibility\n\n\n  $.uuid = 0;\n  $.support = {};\n  $.expr = {};\n\n  $.noop = function () {};\n\n  $.map = function (elements, callback) {\n    var value,\n        values = [],\n        i,\n        key;\n    if (likeArray(elements)) for (i = 0; i < elements.length; i++) {\n      value = callback(elements[i], i);\n      if (value != null) values.push(value);\n    } else for (key in elements) {\n      value = callback(elements[key], key);\n      if (value != null) values.push(value);\n    }\n    return flatten(values);\n  };\n\n  $.each = function (elements, callback) {\n    var i, key;\n\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++) if (callback.call(elements[i], i, elements[i]) === false) return elements;\n    } else {\n      for (key in elements) if (callback.call(elements[key], key, elements[key]) === false) return elements;\n    }\n\n    return elements;\n  };\n\n  $.grep = function (elements, callback) {\n    return filter.call(elements, callback);\n  };\n\n  if (window.JSON) $.parseJSON = JSON.parse; // Populate the class2type map\n\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function (i, name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n  }); // Define methods that will be available on all\n  // Zepto collections\n\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function () {\n      var i,\n          value,\n          args = [];\n\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i];\n        args[i] = zepto.isZ(value) ? value.toArray() : value;\n      }\n\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args);\n    },\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function (fn) {\n      return $($.map(this, function (el, i) {\n        return fn.call(el, i, el);\n      }));\n    },\n    slice: function () {\n      return $(slice.apply(this, arguments));\n    },\n    ready: function (callback) {\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($);else document.addEventListener('DOMContentLoaded', function () {\n        callback($);\n      }, false);\n      return this;\n    },\n    get: function (idx) {\n      return idx === undefined$1 ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length];\n    },\n    toArray: function () {\n      return this.get();\n    },\n    size: function () {\n      return this.length;\n    },\n    remove: function () {\n      return this.each(function () {\n        if (this.parentNode != null) this.parentNode.removeChild(this);\n      });\n    },\n    each: function (callback) {\n      emptyArray.every.call(this, function (el, idx) {\n        return callback.call(el, idx, el) !== false;\n      });\n      return this;\n    },\n    filter: function (selector) {\n      if (isFunction(selector)) return this.not(this.not(selector));\n      return $(filter.call(this, function (element) {\n        return zepto.matches(element, selector);\n      }));\n    },\n    add: function (selector, context) {\n      return $(uniq(this.concat($(selector, context))));\n    },\n    is: function (selector) {\n      return this.length > 0 && zepto.matches(this[0], selector);\n    },\n    not: function (selector) {\n      var nodes = [];\n      if (isFunction(selector) && selector.call !== undefined$1) this.each(function (idx) {\n        if (!selector.call(this, idx)) nodes.push(this);\n      });else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) : likeArray(selector) && isFunction(selector.item) ? slice.call(selector) : $(selector);\n        this.forEach(function (el) {\n          if (excludes.indexOf(el) < 0) nodes.push(el);\n        });\n      }\n      return $(nodes);\n    },\n    has: function (selector) {\n      return this.filter(function () {\n        return isObject(selector) ? $.contains(this, selector) : $(this).find(selector).size();\n      });\n    },\n    eq: function (idx) {\n      return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1);\n    },\n    first: function () {\n      var el = this[0];\n      return el && !isObject(el) ? el : $(el);\n    },\n    last: function () {\n      var el = this[this.length - 1];\n      return el && !isObject(el) ? el : $(el);\n    },\n    find: function (selector) {\n      var result,\n          $this = this;\n      if (!selector) result = $();else if (typeof selector == 'object') result = $(selector).filter(function () {\n        var node = this;\n        return emptyArray.some.call($this, function (parent) {\n          return $.contains(parent, node);\n        });\n      });else if (this.length == 1) result = $(zepto.qsa(this[0], selector));else result = this.map(function () {\n        return zepto.qsa(this, selector);\n      });\n      return result;\n    },\n    closest: function (selector, context) {\n      var nodes = [],\n          collection = typeof selector == 'object' && $(selector);\n      this.each(function (_, node) {\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector))) node = node !== context && !isDocument(node) && node.parentNode;\n\n        if (node && nodes.indexOf(node) < 0) nodes.push(node);\n      });\n      return $(nodes);\n    },\n    parents: function (selector) {\n      var ancestors = [],\n          nodes = this;\n\n      while (nodes.length > 0) nodes = $.map(nodes, function (node) {\n        if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n          ancestors.push(node);\n          return node;\n        }\n      });\n\n      return filtered(ancestors, selector);\n    },\n    parent: function (selector) {\n      return filtered(uniq(this.pluck('parentNode')), selector);\n    },\n    children: function (selector) {\n      return filtered(this.map(function () {\n        return children(this);\n      }), selector);\n    },\n    contents: function () {\n      return this.map(function () {\n        return this.contentDocument || slice.call(this.childNodes);\n      });\n    },\n    siblings: function (selector) {\n      return filtered(this.map(function (i, el) {\n        return filter.call(children(el.parentNode), function (child) {\n          return child !== el;\n        });\n      }), selector);\n    },\n    empty: function () {\n      return this.each(function () {\n        this.innerHTML = '';\n      });\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function (property) {\n      return $.map(this, function (el) {\n        return el[property];\n      });\n    },\n    show: function () {\n      return this.each(function () {\n        this.style.display == \"none\" && (this.style.display = '');\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\") this.style.display = defaultDisplay(this.nodeName);\n      });\n    },\n    replaceWith: function (newContent) {\n      return this.before(newContent).remove();\n    },\n    wrap: function (structure) {\n      var func = isFunction(structure);\n      if (this[0] && !func) var dom = $(structure).get(0),\n          clone = dom.parentNode || this.length > 1;\n      return this.each(function (index) {\n        $(this).wrapAll(func ? structure.call(this, index) : clone ? dom.cloneNode(true) : dom);\n      });\n    },\n    wrapAll: function (structure) {\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure));\n        var children; // drill down to the inmost element\n\n        while ((children = structure.children()).length) structure = children.first();\n\n        $(structure).append(this);\n      }\n\n      return this;\n    },\n    wrapInner: function (structure) {\n      var func = isFunction(structure);\n      return this.each(function (index) {\n        var self = $(this),\n            contents = self.contents(),\n            dom = func ? structure.call(this, index) : structure;\n        contents.length ? contents.wrapAll(dom) : self.append(dom);\n      });\n    },\n    unwrap: function () {\n      this.parent().each(function () {\n        $(this).replaceWith($(this).children());\n      });\n      return this;\n    },\n    clone: function () {\n      return this.map(function () {\n        return this.cloneNode(true);\n      });\n    },\n    hide: function () {\n      return this.css(\"display\", \"none\");\n    },\n    toggle: function (setting) {\n      return this.each(function () {\n        var el = $(this);\n        (setting === undefined$1 ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide();\n      });\n    },\n    prev: function (selector) {\n      return $(this.pluck('previousElementSibling')).filter(selector || '*');\n    },\n    next: function (selector) {\n      return $(this.pluck('nextElementSibling')).filter(selector || '*');\n    },\n    html: function (html) {\n      return 0 in arguments ? this.each(function (idx) {\n        var originHtml = this.innerHTML;\n        $(this).empty().append(funcArg(this, html, idx, originHtml));\n      }) : 0 in this ? this[0].innerHTML : null;\n    },\n    text: function (text) {\n      return 0 in arguments ? this.each(function (idx) {\n        var newText = funcArg(this, text, idx, this.textContent);\n        this.textContent = newText == null ? '' : '' + newText;\n      }) : 0 in this ? this.pluck('textContent').join(\"\") : null;\n    },\n    attr: function (name, value) {\n      var result;\n      return typeof name == 'string' && !(1 in arguments) ? 0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined$1 : this.each(function (idx) {\n        if (this.nodeType !== 1) return;\n        if (isObject(name)) for (key in name) setAttribute(this, key, name[key]);else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)));\n      });\n    },\n    removeAttr: function (name) {\n      return this.each(function () {\n        this.nodeType === 1 && name.split(' ').forEach(function (attribute) {\n          setAttribute(this, attribute);\n        }, this);\n      });\n    },\n    prop: function (name, value) {\n      name = propMap[name] || name;\n      return 1 in arguments ? this.each(function (idx) {\n        this[name] = funcArg(this, value, idx, this[name]);\n      }) : this[0] && this[0][name];\n    },\n    removeProp: function (name) {\n      name = propMap[name] || name;\n      return this.each(function () {\n        delete this[name];\n      });\n    },\n    data: function (name, value) {\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase();\n      var data = 1 in arguments ? this.attr(attrName, value) : this.attr(attrName);\n      return data !== null ? deserializeValue(data) : undefined$1;\n    },\n    val: function (value) {\n      if (0 in arguments) {\n        if (value == null) value = \"\";\n        return this.each(function (idx) {\n          this.value = funcArg(this, value, idx, this.value);\n        });\n      } else {\n        return this[0] && (this[0].multiple ? $(this[0]).find('option').filter(function () {\n          return this.selected;\n        }).pluck('value') : this[0].value);\n      }\n    },\n    offset: function (coordinates) {\n      if (coordinates) return this.each(function (index) {\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n          top: coords.top - parentOffset.top,\n          left: coords.left - parentOffset.left\n        };\n        if ($this.css('position') == 'static') props['position'] = 'relative';\n        $this.css(props);\n      });\n      if (!this.length) return null;\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0])) return {\n        top: 0,\n        left: 0\n      };\n      var obj = this[0].getBoundingClientRect();\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      };\n    },\n    css: function (property, value) {\n      if (arguments.length < 2) {\n        var element = this[0];\n\n        if (typeof property == 'string') {\n          if (!element) return;\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property);\n        } else if (isArray(property)) {\n          if (!element) return;\n          var props = {};\n          var computedStyle = getComputedStyle(element, '');\n          $.each(property, function (_, prop) {\n            props[prop] = element.style[camelize(prop)] || computedStyle.getPropertyValue(prop);\n          });\n          return props;\n        }\n      }\n\n      var css = '';\n\n      if (type(property) == 'string') {\n        if (!value && value !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(property));\n        });else css = dasherize(property) + \":\" + maybeAddPx(property, value);\n      } else {\n        for (key in property) if (!property[key] && property[key] !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(key));\n        });else css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';';\n      }\n\n      return this.each(function () {\n        this.style.cssText += ';' + css;\n      });\n    },\n    index: function (element) {\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0]);\n    },\n    hasClass: function (name) {\n      if (!name) return false;\n      return emptyArray.some.call(this, function (el) {\n        return this.test(className(el));\n      }, classRE(name));\n    },\n    addClass: function (name) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        classList = [];\n        var cls = className(this),\n            newName = funcArg(this, name, idx, cls);\n        newName.split(/\\s+/g).forEach(function (klass) {\n          if (!$(this).hasClass(klass)) classList.push(klass);\n        }, this);\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"));\n      });\n    },\n    removeClass: function (name) {\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        if (name === undefined$1) return className(this, '');\n        classList = className(this);\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function (klass) {\n          classList = classList.replace(classRE(klass), \" \");\n        });\n        className(this, classList.trim());\n      });\n    },\n    toggleClass: function (name, when) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        var $this = $(this),\n            names = funcArg(this, name, idx, className(this));\n        names.split(/\\s+/g).forEach(function (klass) {\n          (when === undefined$1 ? !$this.hasClass(klass) : when) ? $this.addClass(klass) : $this.removeClass(klass);\n        });\n      });\n    },\n    scrollTop: function (value) {\n      if (!this.length) return;\n      var hasScrollTop = ('scrollTop' in this[0]);\n      if (value === undefined$1) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset;\n      return this.each(hasScrollTop ? function () {\n        this.scrollTop = value;\n      } : function () {\n        this.scrollTo(this.scrollX, value);\n      });\n    },\n    scrollLeft: function (value) {\n      if (!this.length) return;\n      var hasScrollLeft = ('scrollLeft' in this[0]);\n      if (value === undefined$1) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset;\n      return this.each(hasScrollLeft ? function () {\n        this.scrollLeft = value;\n      } : function () {\n        this.scrollTo(value, this.scrollY);\n      });\n    },\n    position: function () {\n      if (!this.length) return;\n      var elem = this[0],\n          // Get *real* offsetParent\n      offsetParent = this.offsetParent(),\n          // Get correct offsets\n      offset = this.offset(),\n          parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? {\n        top: 0,\n        left: 0\n      } : offsetParent.offset(); // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n\n      offset.top -= parseFloat($(elem).css('margin-top')) || 0;\n      offset.left -= parseFloat($(elem).css('margin-left')) || 0; // Add offsetParent borders\n\n      parentOffset.top += parseFloat($(offsetParent[0]).css('border-top-width')) || 0;\n      parentOffset.left += parseFloat($(offsetParent[0]).css('border-left-width')) || 0; // Subtract the two offsets\n\n      return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left\n      };\n    },\n    offsetParent: function () {\n      return this.map(function () {\n        var parent = this.offsetParent || document.body;\n\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\") parent = parent.offsetParent;\n\n        return parent;\n      });\n    }\n  }; // for now\n\n  $.fn.detach = $.fn.remove // Generate the `width` and `height` functions\n  ;\n  ['width', 'height'].forEach(function (dimension) {\n    var dimensionProperty = dimension.replace(/./, function (m) {\n      return m[0].toUpperCase();\n    });\n\n    $.fn[dimension] = function (value) {\n      var offset,\n          el = this[0];\n      if (value === undefined$1) return isWindow(el) ? el['inner' + dimensionProperty] : isDocument(el) ? el.documentElement['scroll' + dimensionProperty] : (offset = this.offset()) && offset[dimension];else return this.each(function (idx) {\n        el = $(this);\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()));\n      });\n    };\n  });\n\n  function traverseNode(node, fun) {\n    fun(node);\n\n    for (var i = 0, len = node.childNodes.length; i < len; i++) traverseNode(node.childNodes[i], fun);\n  } // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n\n\n  adjacencyOperators.forEach(function (operator, operatorIndex) {\n    var inside = operatorIndex % 2; //=> prepend, append\n\n    $.fn[operator] = function () {\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType,\n          nodes = $.map(arguments, function (arg) {\n        var arr = [];\n        argType = type(arg);\n\n        if (argType == \"array\") {\n          arg.forEach(function (el) {\n            if (el.nodeType !== undefined$1) return arr.push(el);else if ($.zepto.isZ(el)) return arr = arr.concat(el.get());\n            arr = arr.concat(zepto.fragment(el));\n          });\n          return arr;\n        }\n\n        return argType == \"object\" || arg == null ? arg : zepto.fragment(arg);\n      }),\n          parent,\n          copyByClone = this.length > 1;\n      if (nodes.length < 1) return this;\n      return this.each(function (_, target) {\n        parent = inside ? target : target.parentNode; // convert all methods to a \"before\" operation\n\n        target = operatorIndex == 0 ? target.nextSibling : operatorIndex == 1 ? target.firstChild : operatorIndex == 2 ? target : null;\n        var parentInDocument = $.contains(document.documentElement, parent);\n        nodes.forEach(function (node) {\n          if (copyByClone) node = node.cloneNode(true);else if (!parent) return $(node).remove();\n          parent.insertBefore(node, target);\n          if (parentInDocument) traverseNode(node, function (el) {\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' && (!el.type || el.type === 'text/javascript') && !el.src) {\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window;\n              target['eval'].call(target, el.innerHTML);\n            }\n          });\n        });\n      });\n    }; // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n\n\n    $.fn[inside ? operator + 'To' : 'insert' + (operatorIndex ? 'Before' : 'After')] = function (html) {\n      $(html)[operator](this);\n      return this;\n    };\n  });\n  zepto.Z.prototype = Z.prototype = $.fn; // Export internal API functions in the `$.zepto` namespace\n\n  zepto.uniq = uniq;\n  zepto.deserializeValue = deserializeValue;\n  $.zepto = zepto;\n  return $;\n}();\n\nwindow.Zepto = Zepto;\nwindow.$ === undefined && (window.$ = Zepto);\n\n(function ($) {\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a');\n  originAnchor.href = window.location.href; // trigger a custom event and return false if it was cancelled\n\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName);\n    $(context).trigger(event, data);\n    return !event.isDefaultPrevented();\n  } // trigger an Ajax \"global\" event\n\n\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data);\n  } // Number of active Ajax requests\n\n\n  $.active = 0;\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n  }\n\n  function ajaxStop(settings) {\n    if (settings.global && ! --$.active) triggerGlobal(settings, null, 'ajaxStop');\n  } // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n\n\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context;\n    if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n  }\n\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context,\n        status = 'success';\n    settings.success.call(context, data, status, xhr);\n    if (deferred) deferred.resolveWith(context, [data, status, xhr]);\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n    ajaxComplete(status, xhr, settings);\n  } // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\n\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context;\n    settings.error.call(context, xhr, type, error);\n    if (deferred) deferred.rejectWith(context, [xhr, type, error]);\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type]);\n    ajaxComplete(type, xhr, settings);\n  } // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\n\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context;\n    settings.complete.call(context, xhr, status);\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n    ajaxStop(settings);\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data;\n    var context = settings.context;\n    return settings.dataFilter.call(context, data, type);\n  } // Empty function, used as default callback\n\n\n  function empty() {}\n\n  $.ajaxJSONP = function (options, deferred) {\n    if (!('type' in options)) return $.ajax(options);\n\n    var _callbackName = options.jsonpCallback,\n        callbackName = ($.isFunction(_callbackName) ? _callbackName() : _callbackName) || 'Zepto' + jsonpID++,\n        script = document.createElement('script'),\n        originalCallback = window[callbackName],\n        responseData,\n        abort = function (errorType) {\n      $(script).triggerHandler('error', errorType || 'abort');\n    },\n        xhr = {\n      abort: abort\n    },\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    $(script).on('load error', function (e, errorType) {\n      clearTimeout(abortTimeout);\n      $(script).off().remove();\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred);\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred);\n      }\n\n      window[callbackName] = originalCallback;\n      if (responseData && $.isFunction(originalCallback)) originalCallback(responseData[0]);\n      originalCallback = responseData = undefined;\n    });\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort');\n      return xhr;\n    }\n\n    window[callbackName] = function () {\n      responseData = arguments;\n    };\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName);\n    document.head.appendChild(script);\n    if (options.timeout > 0) abortTimeout = setTimeout(function () {\n      abort('timeout');\n    }, options.timeout);\n    return xhr;\n  };\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest();\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json: jsonType,\n      xml: 'application/xml, text/xml',\n      html: htmlType,\n      text: 'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  };\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0];\n    return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url;\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n  } // serialize payload and append it to the URL for GET requests\n\n\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\") options.data = $.param(options.data, options.traditional);\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType)) options.url = appendQuery(options.url, options.data), options.data = undefined;\n  }\n\n  $.ajax = function (options) {\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor,\n        hashIndex;\n\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key];\n\n    ajaxStart(settings);\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a');\n      urlAnchor.href = settings.url; // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n\n      urlAnchor.href = urlAnchor.href;\n      settings.crossDomain = originAnchor.protocol + '//' + originAnchor.host !== urlAnchor.protocol + '//' + urlAnchor.host;\n    }\n\n    if (!settings.url) settings.url = window.location.toString();\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex);\n    serializeData(settings);\n    var dataType = settings.dataType,\n        hasPlaceholder = /\\?.+=\\?/.test(settings.url);\n    if (hasPlaceholder) dataType = 'jsonp';\n    if (settings.cache === false || (!options || options.cache !== true) && ('script' == dataType || 'jsonp' == dataType)) settings.url = appendQuery(settings.url, '_=' + Date.now());\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder) settings.url = appendQuery(settings.url, settings.jsonp ? settings.jsonp + '=?' : settings.jsonp === false ? '' : 'callback=?');\n      return $.ajaxJSONP(settings, deferred);\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = {},\n        setHeader = function (name, value) {\n      headers[name.toLowerCase()] = [name, value];\n    },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest');\n    setHeader('Accept', mime || '*/*');\n\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n      xhr.overrideMimeType && xhr.overrideMimeType(mime);\n    }\n\n    if (settings.contentType || settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET') setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name]);\n    xhr.setRequestHeader = setHeader;\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty;\n        clearTimeout(abortTimeout);\n        var result,\n            error = false;\n\n        if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob') result = xhr.response;else {\n            result = xhr.responseText;\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings);\n              if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result);\n            } catch (e) {\n              error = e;\n            }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred);\n          }\n          ajaxSuccess(result, xhr, settings, deferred);\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred);\n        }\n      }\n    };\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort();\n      ajaxError(null, 'abort', xhr, settings, deferred);\n      return xhr;\n    }\n\n    var async = 'async' in settings ? settings.async : true;\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password);\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name];\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name]);\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n      xhr.onreadystatechange = empty;\n      xhr.abort();\n      ajaxError(null, 'timeout', xhr, settings, deferred);\n    }, settings.timeout); // avoid sending empty string (#319)\n\n    xhr.send(settings.data ? settings.data : null);\n    return xhr;\n  }; // handle optional data/success arguments\n\n\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined;\n    if (!$.isFunction(success)) dataType = success, success = undefined;\n    return {\n      url: url,\n      data: data,\n      success: success,\n      dataType: dataType\n    };\n  }\n\n  $.get = function ()\n  /* url, data, success, dataType */\n  {\n    return $.ajax(parseArguments.apply(null, arguments));\n  };\n\n  $.post = function ()\n  /* url, data, success, dataType */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.type = 'POST';\n    return $.ajax(options);\n  };\n\n  $.getJSON = function ()\n  /* url, data, success */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.dataType = 'json';\n    return $.ajax(options);\n  };\n\n  $.fn.load = function (url, data, success) {\n    if (!this.length) return this;\n    var self = this,\n        parts = url.split(/\\s/),\n        selector,\n        options = parseArguments(url, data, success),\n        callback = options.success;\n    if (parts.length > 1) options.url = parts[0], selector = parts[1];\n\n    options.success = function (response) {\n      self.html(selector ? $('<div>').html(response.replace(rscript, \"\")).find(selector) : response);\n      callback && callback.apply(self, arguments);\n    };\n\n    $.ajax(options);\n    return this;\n  };\n\n  var escape = encodeURIComponent;\n\n  function serialize(params, obj, traditional, scope) {\n    var type,\n        array = $.isArray(obj),\n        hash = $.isPlainObject(obj);\n    $.each(obj, function (key, value) {\n      type = $.type(value);\n      if (scope) key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'; // handle data in serializeArray() format\n\n      if (!scope && array) params.add(value.name, value.value); // recurse into nested objects\n      else if (type == \"array\" || !traditional && type == \"object\") serialize(params, value, traditional, key);else params.add(key, value);\n    });\n  }\n\n  $.param = function (obj, traditional) {\n    var params = [];\n\n    params.add = function (key, value) {\n      if ($.isFunction(value)) value = value();\n      if (value == null) value = \"\";\n      this.push(escape(key) + '=' + escape(value));\n    };\n\n    serialize(params, obj, traditional);\n    return params.join('&').replace(/%20/g, '+');\n  };\n})(Zepto);\n\n(function ($) {\n  // Create a collection of callbacks to be fired in a sequence, with configurable behaviour\n  // Option flags:\n  //   - once: Callbacks fired at most one time.\n  //   - memory: Remember the most recent context and arguments\n  //   - stopOnFalse: Cease iterating over callback list\n  //   - unique: Permit adding at most one instance of the same callback\n  $.Callbacks = function (options) {\n    options = $.extend({}, options);\n\n    var memory,\n        // Last fire value (for non-forgettable lists)\n    fired,\n        // Flag to know if list was already fired\n    firing,\n        // Flag to know if list is currently firing\n    firingStart,\n        // First callback to fire (used internally by add and fireWith)\n    firingLength,\n        // End of the loop when firing\n    firingIndex,\n        // Index of currently firing callback (modified by remove if needed)\n    list = [],\n        // Actual callback list\n    stack = !options.once && [],\n        // Stack of fire calls for repeatable lists\n    fire = function (data) {\n      memory = options.memory && data;\n      fired = true;\n      firingIndex = firingStart || 0;\n      firingStart = 0;\n      firingLength = list.length;\n      firing = true;\n\n      for (; list && firingIndex < firingLength; ++firingIndex) {\n        if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n\n      firing = false;\n\n      if (list) {\n        if (stack) stack.length && fire(stack.shift());else if (memory) list.length = 0;else Callbacks.disable();\n      }\n    },\n        Callbacks = {\n      add: function () {\n        if (list) {\n          var start = list.length,\n              add = function (args) {\n            $.each(args, function (_, arg) {\n              if (typeof arg === \"function\") {\n                if (!options.unique || !Callbacks.has(arg)) list.push(arg);\n              } else if (arg && arg.length && typeof arg !== 'string') add(arg);\n            });\n          };\n\n          add(arguments);\n          if (firing) firingLength = list.length;else if (memory) {\n            firingStart = start;\n            fire(memory);\n          }\n        }\n\n        return this;\n      },\n      remove: function () {\n        if (list) {\n          $.each(arguments, function (_, arg) {\n            var index;\n\n            while ((index = $.inArray(arg, list, index)) > -1) {\n              list.splice(index, 1); // Handle firing indexes\n\n              if (firing) {\n                if (index <= firingLength) --firingLength;\n                if (index <= firingIndex) --firingIndex;\n              }\n            }\n          });\n        }\n\n        return this;\n      },\n      has: function (fn) {\n        return !!(list && (fn ? $.inArray(fn, list) > -1 : list.length));\n      },\n      empty: function () {\n        firingLength = list.length = 0;\n        return this;\n      },\n      disable: function () {\n        list = stack = memory = undefined;\n        return this;\n      },\n      disabled: function () {\n        return !list;\n      },\n      lock: function () {\n        stack = undefined;\n        if (!memory) Callbacks.disable();\n        return this;\n      },\n      locked: function () {\n        return !stack;\n      },\n      fireWith: function (context, args) {\n        if (list && (!fired || stack)) {\n          args = args || [];\n          args = [context, args.slice ? args.slice() : args];\n          if (firing) stack.push(args);else fire(args);\n        }\n\n        return this;\n      },\n      fire: function () {\n        return Callbacks.fireWith(this, arguments);\n      },\n      fired: function () {\n        return !!fired;\n      }\n    };\n\n    return Callbacks;\n  };\n})(Zepto);\n\n(function ($) {\n  var slice = Array.prototype.slice;\n\n  function Deferred(func) {\n    var tuples = [// action, add listener, listener list, final state\n    [\"resolve\", \"done\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"resolved\"], [\"reject\", \"fail\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"rejected\"], [\"notify\", \"progress\", $.Callbacks({\n      memory: 1\n    })]],\n        state = \"pending\",\n        promise = {\n      state: function () {\n        return state;\n      },\n      always: function () {\n        deferred.done(arguments).fail(arguments);\n        return this;\n      },\n      then: function ()\n      /* fnDone [, fnFailed [, fnProgress]] */\n      {\n        var fns = arguments;\n        return Deferred(function (defer) {\n          $.each(tuples, function (i, tuple) {\n            var fn = $.isFunction(fns[i]) && fns[i];\n            deferred[tuple[1]](function () {\n              var returned = fn && fn.apply(this, arguments);\n\n              if (returned && $.isFunction(returned.promise)) {\n                returned.promise().done(defer.resolve).fail(defer.reject).progress(defer.notify);\n              } else {\n                var context = this === promise ? defer.promise() : this,\n                    values = fn ? [returned] : arguments;\n                defer[tuple[0] + \"With\"](context, values);\n              }\n            });\n          });\n          fns = null;\n        }).promise();\n      },\n      promise: function (obj) {\n        return obj != null ? $.extend(obj, promise) : promise;\n      }\n    },\n        deferred = {};\n    $.each(tuples, function (i, tuple) {\n      var list = tuple[2],\n          stateString = tuple[3];\n      promise[tuple[1]] = list.add;\n\n      if (stateString) {\n        list.add(function () {\n          state = stateString;\n        }, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n      }\n\n      deferred[tuple[0]] = function () {\n        deferred[tuple[0] + \"With\"](this === deferred ? promise : this, arguments);\n        return this;\n      };\n\n      deferred[tuple[0] + \"With\"] = list.fireWith;\n    });\n    promise.promise(deferred);\n    if (func) func.call(deferred, deferred);\n    return deferred;\n  }\n\n  $.when = function (sub) {\n    var resolveValues = slice.call(arguments),\n        len = resolveValues.length,\n        i = 0,\n        remain = len !== 1 || sub && $.isFunction(sub.promise) ? len : 0,\n        deferred = remain === 1 ? sub : Deferred(),\n        progressValues,\n        progressContexts,\n        resolveContexts,\n        updateFn = function (i, ctx, val) {\n      return function (value) {\n        ctx[i] = this;\n        val[i] = arguments.length > 1 ? slice.call(arguments) : value;\n\n        if (val === progressValues) {\n          deferred.notifyWith(ctx, val);\n        } else if (! --remain) {\n          deferred.resolveWith(ctx, val);\n        }\n      };\n    };\n\n    if (len > 1) {\n      progressValues = new Array(len);\n      progressContexts = new Array(len);\n      resolveContexts = new Array(len);\n\n      for (; i < len; ++i) {\n        if (resolveValues[i] && $.isFunction(resolveValues[i].promise)) {\n          resolveValues[i].promise().done(updateFn(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFn(i, progressContexts, progressValues));\n        } else {\n          --remain;\n        }\n      }\n    }\n\n    if (!remain) deferred.resolveWith(resolveContexts, resolveValues);\n    return deferred.promise();\n  };\n\n  $.Deferred = Deferred;\n})(Zepto);\n\n(function ($) {\n  var _zid = 1,\n      undefined$1,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function (obj) {\n    return typeof obj == 'string';\n  },\n      handlers = {},\n      specialEvents = {},\n      focusinSupported = ('onfocusin' in window),\n      focus = {\n    focus: 'focusin',\n    blur: 'focusout'\n  },\n      hover = {\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  };\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents';\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++);\n  }\n\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event);\n    if (event.ns) var matcher = matcherFor(event.ns);\n    return (handlers[zid(element)] || []).filter(function (handler) {\n      return handler && (!event.e || handler.e == event.e) && (!event.ns || matcher.test(handler.ns)) && (!fn || zid(handler.fn) === zid(fn)) && (!selector || handler.sel == selector);\n    });\n  }\n\n  function parse(event) {\n    var parts = ('' + event).split('.');\n    return {\n      e: parts[0],\n      ns: parts.slice(1).sort().join(' ')\n    };\n  }\n\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)');\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del && !focusinSupported && handler.e in focus || !!captureSetting;\n  }\n\n  function realEvent(type) {\n    return hover[type] || focusinSupported && focus[type] || type;\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture) {\n    var id = zid(element),\n        set = handlers[id] || (handlers[id] = []);\n    events.split(/\\s/).forEach(function (event) {\n      if (event == 'ready') return $(document).ready(fn);\n      var handler = parse(event);\n      handler.fn = fn;\n      handler.sel = selector; // emulate mouseenter, mouseleave\n\n      if (handler.e in hover) fn = function (e) {\n        var related = e.relatedTarget;\n        if (!related || related !== this && !$.contains(this, related)) return handler.fn.apply(this, arguments);\n      };\n      handler.del = delegator;\n      var callback = delegator || fn;\n\n      handler.proxy = function (e) {\n        e = compatible(e);\n        if (e.isImmediatePropagationStopped()) return;\n        e.data = data;\n        var result = callback.apply(element, e._args == undefined$1 ? [e] : [e].concat(e._args));\n        if (result === false) e.preventDefault(), e.stopPropagation();\n        return result;\n      };\n\n      handler.i = set.length;\n      set.push(handler);\n      if ('addEventListener' in element) element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n    });\n  }\n\n  function remove(element, events, fn, selector, capture) {\n    var id = zid(element);\n    (events || '').split(/\\s/).forEach(function (event) {\n      findHandlers(element, event, fn, selector).forEach(function (handler) {\n        delete handlers[id][handler.i];\n        if ('removeEventListener' in element) element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n      });\n    });\n  }\n\n  $.event = {\n    add: add,\n    remove: remove\n  };\n\n  $.proxy = function (fn, context) {\n    var args = 2 in arguments && slice.call(arguments, 2);\n\n    if (isFunction(fn)) {\n      var proxyFn = function () {\n        return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments);\n      };\n\n      proxyFn._zid = zid(fn);\n      return proxyFn;\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn);\n        return $.proxy.apply(null, args);\n      } else {\n        return $.proxy(fn[context], fn);\n      }\n    } else {\n      throw new TypeError(\"expected function\");\n    }\n  };\n\n  $.fn.bind = function (event, data, callback) {\n    return this.on(event, data, callback);\n  };\n\n  $.fn.unbind = function (event, callback) {\n    return this.off(event, callback);\n  };\n\n  $.fn.one = function (event, selector, data, callback) {\n    return this.on(event, selector, data, callback, 1);\n  };\n\n  var returnTrue = function () {\n    return true;\n  },\n      returnFalse = function () {\n    return false;\n  },\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n    preventDefault: 'isDefaultPrevented',\n    stopImmediatePropagation: 'isImmediatePropagationStopped',\n    stopPropagation: 'isPropagationStopped'\n  };\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event);\n      $.each(eventMethods, function (name, predicate) {\n        var sourceMethod = source[name];\n\n        event[name] = function () {\n          this[predicate] = returnTrue;\n          return sourceMethod && sourceMethod.apply(source, arguments);\n        };\n\n        event[predicate] = returnFalse;\n      });\n      event.timeStamp || (event.timeStamp = Date.now());\n      if (source.defaultPrevented !== undefined$1 ? source.defaultPrevented : 'returnValue' in source ? source.returnValue === false : source.getPreventDefault && source.getPreventDefault()) event.isDefaultPrevented = returnTrue;\n    }\n\n    return event;\n  }\n\n  function createProxy(event) {\n    var key,\n        proxy = {\n      originalEvent: event\n    };\n\n    for (key in event) if (!ignoreProperties.test(key) && event[key] !== undefined$1) proxy[key] = event[key];\n\n    return compatible(proxy, event);\n  }\n\n  $.fn.delegate = function (selector, event, callback) {\n    return this.on(event, selector, callback);\n  };\n\n  $.fn.undelegate = function (selector, event, callback) {\n    return this.off(event, selector, callback);\n  };\n\n  $.fn.live = function (event, callback) {\n    $(document.body).delegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.die = function (event, callback) {\n    $(document.body).undelegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.on = function (event, selector, data, callback, one) {\n    var autoRemove,\n        delegator,\n        $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.on(type, selector, data, fn, one);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = data, data = selector, selector = undefined$1;\n    if (callback === undefined$1 || data === false) callback = data, data = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function (_, element) {\n      if (one) autoRemove = function (e) {\n        remove(element, e.type, callback);\n        return callback.apply(this, arguments);\n      };\n      if (selector) delegator = function (e) {\n        var evt,\n            match = $(e.target).closest(selector, element).get(0);\n\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {\n            currentTarget: match,\n            liveFired: element\n          });\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)));\n        }\n      };\n      add(element, event, callback, data, selector, delegator || autoRemove);\n    });\n  };\n\n  $.fn.off = function (event, selector, callback) {\n    var $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.off(type, selector, fn);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = selector, selector = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function () {\n      remove(this, event, callback, selector);\n    });\n  };\n\n  $.fn.trigger = function (event, args) {\n    event = isString(event) || $.isPlainObject(event) ? $.Event(event) : compatible(event);\n    event._args = args;\n    return this.each(function () {\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type](); // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event);else $(this).triggerHandler(event, args);\n    });\n  }; // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n\n\n  $.fn.triggerHandler = function (event, args) {\n    var e, result;\n    this.each(function (i, element) {\n      e = createProxy(isString(event) ? $.Event(event) : event);\n      e._args = args;\n      e.target = element;\n      $.each(findHandlers(element, event.type || event), function (i, handler) {\n        result = handler.proxy(e);\n        if (e.isImmediatePropagationStopped()) return false;\n      });\n    });\n    return result;\n  } // shortcut methods for `.bind(event, fn)` for each event type\n  ;\n\n  ('focusin focusout focus blur load resize scroll unload click dblclick ' + 'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' + 'change select keydown keypress keyup error').split(' ').forEach(function (event) {\n    $.fn[event] = function (callback) {\n      return 0 in arguments ? this.bind(event, callback) : this.trigger(event);\n    };\n  });\n\n  $.Event = function (type, props) {\n    if (!isString(type)) props = type, type = props.type;\n    var event = document.createEvent(specialEvents[type] || 'Events'),\n        bubbles = true;\n    if (props) for (var name in props) name == 'bubbles' ? bubbles = !!props[name] : event[name] = props[name];\n    event.initEvent(type, bubbles, true);\n    return compatible(event);\n  };\n})(Zepto);\n\n(function () {\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined);\n  } catch (e) {\n    var nativeGetComputedStyle = getComputedStyle;\n\n    window.getComputedStyle = function (element, pseudoElement) {\n      try {\n        return nativeGetComputedStyle(element, pseudoElement);\n      } catch (e) {\n        return null;\n      }\n    };\n  }\n})();\n\n(function ($) {\n  var zepto = $.zepto,\n      oldQsa = zepto.qsa,\n      oldMatches = zepto.matches;\n\n  function visible(elem) {\n    elem = $(elem);\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\";\n  } // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n\n\n  var filters = $.expr[':'] = {\n    visible: function () {\n      if (visible(this)) return this;\n    },\n    hidden: function () {\n      if (!visible(this)) return this;\n    },\n    selected: function () {\n      if (this.selected) return this;\n    },\n    checked: function () {\n      if (this.checked) return this;\n    },\n    parent: function () {\n      return this.parentNode;\n    },\n    first: function (idx) {\n      if (idx === 0) return this;\n    },\n    last: function (idx, nodes) {\n      if (idx === nodes.length - 1) return this;\n    },\n    eq: function (idx, _, value) {\n      if (idx === value) return this;\n    },\n    contains: function (idx, _, text) {\n      if ($(this).text().indexOf(text) > -1) return this;\n    },\n    has: function (idx, _, sel) {\n      if (zepto.qsa(this, sel).length) return this;\n    }\n  };\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n      childRe = /^\\s*>/,\n      classTag = 'Zepto' + +new Date();\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]');\n    var filter,\n        arg,\n        match = filterRe.exec(sel);\n\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3];\n      sel = match[1];\n\n      if (arg) {\n        var num = Number(arg);\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '');else arg = num;\n      }\n    }\n\n    return fn(sel, filter, arg);\n  }\n\n  zepto.qsa = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      try {\n        var taggedParent;\n        if (!sel && filter) sel = '*';else if (childRe.test(sel)) // support \"> *\" child queries by tagging the parent node with a\n          // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.' + classTag + ' ' + sel;\n        var nodes = oldQsa(node, sel);\n      } catch (e) {\n        console.error('error performing selector: %o', selector);\n        throw e;\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag);\n      }\n\n      return !filter ? nodes : zepto.uniq($.map(nodes, function (n, i) {\n        return filter.call(n, i, nodes, arg);\n      }));\n    });\n  };\n\n  zepto.matches = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      return (!sel || oldMatches(node, sel)) && (!filter || filter.call(node, null, arg) === node);\n    });\n  };\n})(Zepto);\n\nvar zepto = Zepto;\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar BROWSER_DATA = [{\n  name: 'Chromium',\n  group: 'Chrome',\n  identifier: 'Chromium/([0-9\\.]*)'\n}, {\n  name: 'Chrome Mobile',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*) Mobile',\n  versionIdentifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome for iOS',\n  group: 'Chrome',\n  identifier: 'CriOS/([0-9\\.]*)'\n}, {\n  name: 'Android Browser',\n  group: 'Chrome',\n  identifier: 'CrMo/([0-9\\.]*)'\n}, {\n  name: 'Firefox',\n  group: 'Firefox',\n  identifier: 'Firefox/([0-9\\.]*)'\n}, {\n  name: 'Opera Mini',\n  group: 'Opera',\n  identifier: 'Opera Mini/([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera ([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}, {\n  name: 'IEMobile',\n  group: 'Explorer',\n  identifier: 'IEMobile/([0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'MSIE ([a-zA-Z0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'Trident/([0-9\\.]*)',\n  versionIdentifier: 'rv:([0-9\\.]*)'\n}, {\n  name: 'Spartan',\n  group: 'Spartan',\n  identifier: 'Edge/([0-9\\.]*)',\n  versionIdentifier: 'Edge/([0-9\\.]*)'\n}, {\n  name: 'Safari',\n  group: 'Safari',\n  identifier: 'Safari/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}];\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar OS_DATA = [{\n  name: 'Windows 2000',\n  group: 'Windows',\n  identifier: 'Windows NT 5.0',\n  version: '5.0'\n}, {\n  name: 'Windows XP',\n  group: 'Windows',\n  identifier: 'Windows NT 5.1',\n  version: '5.1'\n}, {\n  name: 'Windows Vista',\n  group: 'Windows',\n  identifier: 'Windows NT 6.0',\n  version: '6.0'\n}, {\n  name: 'Windows 7',\n  group: 'Windows',\n  identifier: 'Windows NT 6.1',\n  version: '7.0'\n}, {\n  name: 'Windows 8',\n  group: 'Windows',\n  identifier: 'Windows NT 6.2',\n  version: '8.0'\n}, {\n  name: 'Windows 8.1',\n  group: 'Windows',\n  identifier: 'Windows NT 6.3',\n  version: '8.1'\n}, {\n  name: 'Windows 10',\n  group: 'Windows',\n  identifier: 'Windows NT 10.0',\n  version: '10.0'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone ([0-9\\.]*)'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone OS ([0-9\\.]*)'\n}, {\n  name: 'Windows',\n  group: 'Windows',\n  identifier: 'Windows'\n}, {\n  name: 'Chrome OS',\n  group: 'Chrome OS',\n  identifier: 'CrOS'\n}, {\n  name: 'Android',\n  group: 'Android',\n  identifier: 'Android',\n  versionIdentifier: 'Android ([a-zA-Z0-9\\.-]*)'\n}, {\n  name: 'iPad',\n  group: 'iOS',\n  identifier: 'iPad',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPod',\n  group: 'iOS',\n  identifier: 'iPod',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPhone',\n  group: 'iOS',\n  identifier: 'iPhone OS',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X High Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])13([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])12([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X El Capitan',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])11([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Yosemite',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])10([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mavericks',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])9([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mountain Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])8([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])7([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Snow Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])6([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])5([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Tiger',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])4([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Panther',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])3([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Jaguar',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])2([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Puma',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])1([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Cheetah',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])0([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS',\n  group: 'Mac OS',\n  identifier: 'Mac OS'\n}, {\n  name: 'Ubuntu',\n  group: 'Linux',\n  identifier: 'Ubuntu',\n  versionIdentifier: 'Ubuntu/([0-9\\.]*)'\n}, {\n  name: 'Debian',\n  group: 'Linux',\n  identifier: 'Debian'\n}, {\n  name: 'Gentoo',\n  group: 'Linux',\n  identifier: 'Gentoo'\n}, {\n  name: 'Linux',\n  group: 'Linux',\n  identifier: 'Linux'\n}, {\n  name: 'BlackBerry',\n  group: 'BlackBerry',\n  identifier: 'BlackBerry'\n}];\n\nvar Browser = {};\n\nvar hasLocalstorage = function hasLocalstorage() {\n  try {\n    localStorage.setItem('clappr', 'clappr');\n    localStorage.removeItem('clappr');\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nvar hasFlash = function hasFlash() {\n  try {\n    var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n    return !!fo;\n  } catch (e) {\n    return !!(navigator.mimeTypes && navigator.mimeTypes['application/x-shockwave-flash'] !== undefined && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);\n  }\n};\n\nvar getBrowserInfo = function getBrowserInfo(ua) {\n  var parts = ua.match(/\\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [],\n      extra;\n\n  if (/trident/i.test(parts[1])) {\n    extra = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n    return {\n      name: 'IE',\n      version: parseInt(extra[1] || '')\n    };\n  } else if (parts[1] === 'Chrome') {\n    extra = ua.match(/\\bOPR\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Opera',\n      version: parseInt(extra[1])\n    };\n    extra = ua.match(/\\bEdge\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Edge',\n      version: parseInt(extra[1])\n    };\n  } else if (/android/i.test(ua) && (extra = ua.match(/version\\/(\\d+)/i))) {\n    parts.splice(1, 1, 'Android WebView');\n    parts.splice(2, 1, extra[1]);\n  }\n\n  parts = parts[2] ? [parts[1], parts[2]] : [navigator.appName, navigator.appVersion, '-?'];\n  return {\n    name: parts[0],\n    version: parseInt(parts[1])\n  };\n}; //  Get browser data\n\nvar getBrowserData = function getBrowserData() {\n  var browserObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iterator = _createForOfIteratorHelper(BROWSER_DATA),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var browser = _step.value;\n      var browserRegExp = new RegExp(browser.identifier.toLowerCase());\n      var browserRegExpResult = browserRegExp.exec(userAgent);\n\n      if (browserRegExpResult != null && browserRegExpResult[1]) {\n        browserObject.name = browser.name;\n        browserObject.group = browser.group; // Check version\n\n        if (browser.versionIdentifier) {\n          var versionRegExp = new RegExp(browser.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setBrowserVersion(versionRegExpResult[1], browserObject);\n        } else {\n          setBrowserVersion(browserRegExpResult[1], browserObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return browserObject;\n}; // Set browser version\n\nvar setBrowserVersion = function setBrowserVersion(version, browserObject) {\n  var splitVersion = version.split('.', 2);\n  browserObject.fullVersion = version; // Major version\n\n  if (splitVersion[0]) browserObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion[1]) browserObject.minorVersion = parseInt(splitVersion[1]);\n}; //  Get OS data\n\n\nvar getOsData = function getOsData() {\n  var osObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iterator2 = _createForOfIteratorHelper(OS_DATA),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var os = _step2.value;\n      var osRegExp = new RegExp(os.identifier.toLowerCase());\n      var osRegExpResult = osRegExp.exec(userAgent);\n\n      if (osRegExpResult != null) {\n        osObject.name = os.name;\n        osObject.group = os.group; // Version defined\n\n        if (os.version) {\n          setOsVersion(os.version, os.versionSeparator ? os.versionSeparator : '.', osObject); // Version detected\n        } else if (osRegExpResult[1]) {\n          setOsVersion(osRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject); // Version identifier\n        } else if (os.versionIdentifier) {\n          var versionRegExp = new RegExp(os.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setOsVersion(versionRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return osObject;\n}; // Set OS version\n\nvar setOsVersion = function setOsVersion(version, separator, osObject) {\n  var finalSeparator = separator.substr(0, 1) == '[' ? new RegExp(separator, 'g') : separator;\n  var splitVersion = version.split(finalSeparator, 2);\n  if (separator != '.') version = version.replace(new RegExp(separator, 'g'), '.');\n  osObject.fullVersion = version; // Major version\n\n  if (splitVersion && splitVersion[0]) osObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion && splitVersion[1]) osObject.minorVersion = parseInt(splitVersion[1]);\n}; // Set viewport size\n\n\nvar getViewportSize = function getViewportSize() {\n  var viewportObject = {};\n  viewportObject.width = zepto(window).width();\n  viewportObject.height = zepto(window).height();\n  return viewportObject;\n}; // Set viewport orientation\n\nvar setViewportOrientation = function setViewportOrientation() {\n  switch (window.orientation) {\n    case -90:\n    case 90:\n      Browser.viewport.orientation = 'landscape';\n      break;\n\n    default:\n      Browser.viewport.orientation = 'portrait';\n      break;\n  }\n};\n\nvar getDevice = function getDevice(ua) {\n  var platformRegExp = /\\((iP(?:hone|ad|od))?(?:[^;]*; ){0,2}([^)]+(?=\\)))/;\n  var matches = platformRegExp.exec(ua);\n  var device = matches && (matches[1] || matches[2]) || '';\n  return device;\n};\nvar browserInfo = getBrowserInfo(navigator.userAgent);\nBrowser.isEdge = /edge/i.test(navigator.userAgent);\nBrowser.isChrome = /chrome|CriOS/i.test(navigator.userAgent) && !Browser.isEdge;\nBrowser.isSafari = /safari/i.test(navigator.userAgent) && !Browser.isChrome && !Browser.isEdge;\nBrowser.isFirefox = /firefox/i.test(navigator.userAgent);\nBrowser.isLegacyIE = !!window.ActiveXObject;\nBrowser.isIE = Browser.isLegacyIE || /trident.*rv:1\\d/i.test(navigator.userAgent);\nBrowser.isIE11 = /trident.*rv:11/i.test(navigator.userAgent);\nBrowser.isChromecast = Browser.isChrome && /CrKey/i.test(navigator.userAgent);\nBrowser.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent);\nBrowser.isiOS = /iPad|iPhone|iPod/i.test(navigator.userAgent);\nBrowser.isAndroid = /Android/i.test(navigator.userAgent);\nBrowser.isWindowsPhone = /Windows Phone/i.test(navigator.userAgent);\nBrowser.isWin8App = /MSAppHost/i.test(navigator.userAgent);\nBrowser.isWiiU = /WiiU/i.test(navigator.userAgent);\nBrowser.isPS4 = /PlayStation 4/i.test(navigator.userAgent);\nBrowser.hasLocalstorage = hasLocalstorage();\nBrowser.hasFlash = hasFlash();\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.name instead.\n*/\n\nBrowser.name = browserInfo.name;\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.fullVersion instead.\n*/\n\nBrowser.version = browserInfo.version;\nBrowser.userAgent = navigator.userAgent;\nBrowser.data = getBrowserData();\nBrowser.os = getOsData();\nBrowser.viewport = getViewportSize();\nBrowser.device = getDevice(Browser.userAgent);\ntypeof window.orientation !== 'undefined' && setViewportOrientation();\n\nvar idsCounter = {};\nvar videoStack = [];\nvar requestAnimationFrame = (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n  window.setTimeout(fn, 1000 / 60);\n}).bind(window);\nvar cancelAnimationFrame = (window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout).bind(window);\nfunction assign(obj, source) {\n  if (source) {\n    for (var prop in source) {\n      var propDescriptor = Object.getOwnPropertyDescriptor(source, prop);\n      propDescriptor ? Object.defineProperty(obj, prop, propDescriptor) : obj[prop] = source[prop];\n    }\n  }\n\n  return obj;\n}\nfunction extend(parent, properties) {\n  var Surrogate = /*#__PURE__*/function (_parent) {\n    _inherits(Surrogate, _parent);\n\n    var _super = _createSuper(Surrogate);\n\n    function Surrogate() {\n      var _this;\n\n      _classCallCheck(this, Surrogate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      if (properties.initialize) properties.initialize.apply(_assertThisInitialized(_this), args);\n      return _this;\n    }\n\n    return Surrogate;\n  }(parent);\n\n  assign(Surrogate.prototype, properties);\n  return Surrogate;\n}\nfunction formatTime(time, paddedHours) {\n  if (!isFinite(time)) return '--:--';\n  time = time * 1000;\n  time = parseInt(time / 1000);\n  var seconds = time % 60;\n  time = parseInt(time / 60);\n  var minutes = time % 60;\n  time = parseInt(time / 60);\n  var hours = time % 24;\n  var days = parseInt(time / 24);\n  var out = '';\n\n  if (days && days > 0) {\n    out += days + ':';\n    if (hours < 1) out += '00:';\n  }\n\n  if (hours && hours > 0 || paddedHours) out += ('0' + hours).slice(-2) + ':';\n  out += ('0' + minutes).slice(-2) + ':';\n  out += ('0' + seconds).slice(-2);\n  return out.trim();\n}\nvar Fullscreen = {\n  fullscreenElement: function fullscreenElement() {\n    return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n  },\n  requestFullscreen: function requestFullscreen(el) {\n    if (el.requestFullscreen) {\n      return el.requestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      if (typeof el.then === 'function') return el.webkitRequestFullscreen();\n      el.webkitRequestFullscreen();\n    } else if (el.mozRequestFullScreen) {\n      return el.mozRequestFullScreen();\n    } else if (el.msRequestFullscreen) {\n      return el.msRequestFullscreen();\n    } else if (el.querySelector && el.querySelector('video') && el.querySelector('video').webkitEnterFullScreen) {\n      el.querySelector('video').webkitEnterFullScreen();\n    } else if (el.webkitEnterFullScreen) {\n      el.webkitEnterFullScreen();\n    }\n  },\n  cancelFullscreen: function cancelFullscreen() {\n    var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n    if (el.exitFullscreen) el.exitFullscreen();else if (el.webkitCancelFullScreen) el.webkitCancelFullScreen();else if (el.webkitExitFullscreen) el.webkitExitFullscreen();else if (el.mozCancelFullScreen) el.mozCancelFullScreen();else if (el.msExitFullscreen) el.msExitFullscreen();\n  },\n  fullscreenEnabled: function fullscreenEnabled() {\n    return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n  }\n};\nvar Config = /*#__PURE__*/function () {\n  function Config() {\n    _classCallCheck(this, Config);\n  }\n\n  _createClass(Config, null, [{\n    key: \"_defaultConfig\",\n    value: function _defaultConfig() {\n      return {\n        volume: {\n          value: 100,\n          parse: parseInt\n        }\n      };\n    }\n  }, {\n    key: \"_defaultValueFor\",\n    value: function _defaultValueFor(key) {\n      try {\n        return this._defaultConfig()[key].parse(this._defaultConfig()[key].value);\n      } catch (e) {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"_createKeyspace\",\n    value: function _createKeyspace(key) {\n      return \"clappr.\".concat(document.domain, \".\").concat(key);\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(key) {\n      if (Browser.hasLocalstorage && localStorage[this._createKeyspace(key)]) return this._defaultConfig()[key].parse(localStorage[this._createKeyspace(key)]);\n      return this._defaultValueFor(key);\n    }\n  }, {\n    key: \"persist\",\n    value: function persist(key, value) {\n      if (Browser.hasLocalstorage) {\n        try {\n          localStorage[this._createKeyspace(key)] = value;\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n    }\n  }]);\n\n  return Config;\n}();\nvar QueryString = /*#__PURE__*/function () {\n  function QueryString() {\n    _classCallCheck(this, QueryString);\n  }\n\n  _createClass(QueryString, null, [{\n    key: \"parse\",\n    value: function parse(paramsString) {\n      var match;\n\n      var pl = /\\+/g,\n          // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n          decode = function decode(s) {\n        return decodeURIComponent(s.replace(pl, ' '));\n      },\n          params = {};\n\n      while (match = search.exec(paramsString)) {\n        // eslint-disable-line no-cond-assign\n        params[decode(match[1]).toLowerCase()] = decode(match[2]);\n      }\n\n      return params;\n    }\n  }, {\n    key: \"params\",\n    get: function get() {\n      var query = window.location.search.substring(1);\n\n      if (query !== this.query) {\n        this._urlParams = this.parse(query);\n        this.query = query;\n      }\n\n      return this._urlParams;\n    }\n  }, {\n    key: \"hashParams\",\n    get: function get() {\n      var hash = window.location.hash.substring(1);\n\n      if (hash !== this.hash) {\n        this._hashParams = this.parse(hash);\n        this.hash = hash;\n      }\n\n      return this._hashParams;\n    }\n  }]);\n\n  return QueryString;\n}();\nfunction seekStringToSeconds() {\n  var paramName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 't';\n  var seconds = 0;\n  var seekString = QueryString.params[paramName] || QueryString.hashParams[paramName] || '';\n  var parts = seekString.match(/[0-9]+[hms]+/g) || [];\n\n  if (parts.length > 0) {\n    var factor = {\n      'h': 3600,\n      'm': 60,\n      's': 1\n    };\n    parts.forEach(function (el) {\n      if (el) {\n        var suffix = el[el.length - 1];\n        var time = parseInt(el.slice(0, el.length - 1), 10);\n        seconds += time * factor[suffix];\n      }\n    });\n  } else if (seekString) {\n    seconds = parseInt(seekString, 10);\n  }\n\n  return seconds;\n}\nfunction uniqueId(prefix) {\n  idsCounter[prefix] || (idsCounter[prefix] = 0);\n  var id = ++idsCounter[prefix];\n  return prefix + id;\n}\nfunction isNumber(value) {\n  return value - parseFloat(value) + 1 >= 0;\n}\nfunction currentScriptUrl() {\n  var scripts = document.getElementsByTagName('script');\n  return scripts.length ? scripts[scripts.length - 1].src : '';\n}\nfunction getBrowserLanguage() {\n  return window.navigator && window.navigator.language;\n}\nfunction now() {\n  if (window.performance && window.performance.now) return performance.now();\n  return Date.now();\n} // remove the item from the array if it exists in the array\n\nfunction removeArrayItem(arr, item) {\n  var i = arr.indexOf(item);\n  if (i >= 0) arr.splice(i, 1);\n} // find an item regardless of its letter case\n\nfunction listContainsIgnoreCase(item, items) {\n  if (item === undefined || items === undefined) return false;\n  return items.find(function (itemEach) {\n    return item.toLowerCase() === itemEach.toLowerCase();\n  }) !== undefined;\n} // https://github.com/video-dev/can-autoplay\n\nfunction canAutoPlayMedia(cb, options) {\n  options = Object.assign({\n    inline: false,\n    muted: false,\n    timeout: 250,\n    type: 'video',\n    source: Media.mp4,\n    element: null\n  }, options);\n  var element = options.element ? options.element : document.createElement(options.type);\n  element.muted = options.muted;\n  if (options.muted === true) element.setAttribute('muted', 'muted');\n  if (options.inline === true) element.setAttribute('playsinline', 'playsinline');\n  element.src = options.source;\n  var promise = element.play();\n  var timeoutId = setTimeout(function () {\n    setResult(false, new Error(\"Timeout \".concat(options.timeout, \" ms has been reached\")));\n  }, options.timeout);\n\n  var setResult = function setResult(result) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    clearTimeout(timeoutId);\n    cb(result, error);\n  };\n\n  if (promise !== undefined) {\n    promise.then(function () {\n      return setResult(true);\n    })[\"catch\"](function (err) {\n      return setResult(false, err);\n    });\n  } else {\n    setResult(true);\n  }\n} // Simple element factory with video recycle feature.\n\nvar DomRecycler = /*#__PURE__*/function () {\n  function DomRecycler() {\n    _classCallCheck(this, DomRecycler);\n  }\n\n  _createClass(DomRecycler, null, [{\n    key: \"configure\",\n    value: function configure(options) {\n      this.options = zepto.extend(this.options, options);\n    }\n  }, {\n    key: \"create\",\n    value: function create(name) {\n      if (this.options.recycleVideo && name === 'video' && videoStack.length > 0) return videoStack.shift();\n      return document.createElement(name);\n    }\n  }, {\n    key: \"garbage\",\n    value: function garbage(el) {\n      if (!this.options.recycleVideo || el.tagName.toUpperCase() !== 'VIDEO') return;\n      zepto(el).children().remove();\n      Object.values(el.attributes).forEach(function (attr) {\n        return el.removeAttribute(attr.name);\n      });\n      videoStack.push(el);\n    }\n  }]);\n\n  return DomRecycler;\n}();\nDomRecycler.options = {\n  recycleVideo: false\n};\nvar DoubleEventHandler = /*#__PURE__*/function () {\n  function DoubleEventHandler() {\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n    _classCallCheck(this, DoubleEventHandler);\n\n    this.delay = delay;\n    this.lastTime = 0;\n  }\n\n  _createClass(DoubleEventHandler, [{\n    key: \"handle\",\n    value: function handle(event, cb) {\n      var prevented = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      // Based on http://jsfiddle.net/brettwp/J4djY/\n      var currentTime = new Date().getTime();\n      var diffTime = currentTime - this.lastTime;\n\n      if (diffTime < this.delay && diffTime > 0) {\n        cb();\n        prevented && event.preventDefault();\n      }\n\n      this.lastTime = currentTime;\n    }\n  }]);\n\n  return DoubleEventHandler;\n}();\nvar Utils = {\n  Config: Config,\n  Fullscreen: Fullscreen,\n  QueryString: QueryString,\n  DomRecycler: DomRecycler,\n  assign: assign,\n  extend: extend,\n  formatTime: formatTime,\n  seekStringToSeconds: seekStringToSeconds,\n  uniqueId: uniqueId,\n  currentScriptUrl: currentScriptUrl,\n  isNumber: isNumber,\n  requestAnimationFrame: requestAnimationFrame,\n  cancelAnimationFrame: cancelAnimationFrame,\n  getBrowserLanguage: getBrowserLanguage,\n  now: now,\n  removeArrayItem: removeArrayItem,\n  listContainsIgnoreCase: listContainsIgnoreCase,\n  canAutoPlayMedia: canAutoPlayMedia,\n  Media: Media,\n  DoubleEventHandler: DoubleEventHandler\n};\n\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar BOLD = 'font-weight: bold; font-size: 13px;';\nvar INFO = 'color: #006600;' + BOLD;\nvar DEBUG = 'color: #0000ff;' + BOLD;\nvar WARN = 'color: #ff8000;' + BOLD;\nvar ERROR = 'color: #ff0000;' + BOLD;\nvar LEVEL_DEBUG = 0;\nvar LEVEL_INFO = 1;\nvar LEVEL_WARN = 2;\nvar LEVEL_ERROR = 3;\nvar LEVEL_DISABLED = LEVEL_ERROR;\nvar COLORS = [DEBUG, INFO, WARN, ERROR, ERROR];\nvar DESCRIPTIONS = ['debug', 'info', 'warn', 'error', 'disabled'];\n\nvar Log = /*#__PURE__*/function () {\n  _createClass(Log, [{\n    key: \"level\",\n    get: function get() {\n      return this._level;\n    },\n    set: function set(newLevel) {\n      this._level = newLevel;\n    }\n  }]);\n\n  function Log() {\n    var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : LEVEL_INFO;\n    var offLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : LEVEL_DISABLED;\n\n    _classCallCheck(this, Log);\n\n    this.EXCLUDE_LIST = ['timeupdate', 'playback:timeupdate', 'playback:progress', 'container:hover', 'container:timeupdate', 'container:progress'];\n    this.level = level;\n    this.previousLevel = this.level;\n    this.offLevel = offLevel;\n  }\n\n  _createClass(Log, [{\n    key: \"debug\",\n    value: function debug(klass) {\n      this.log(klass, LEVEL_DEBUG, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"info\",\n    value: function info(klass) {\n      this.log(klass, LEVEL_INFO, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(klass) {\n      this.log(klass, LEVEL_WARN, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"error\",\n    value: function error(klass) {\n      this.log(klass, LEVEL_ERROR, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"onOff\",\n    value: function onOff() {\n      if (this.level === this.offLevel) {\n        this.level = this.previousLevel;\n      } else {\n        this.previousLevel = this.level;\n        this.level = this.offLevel;\n      } // handle instances where console.log is unavailable\n\n\n      window.console && window.console.log && window.console.log('%c[Clappr.Log] set log level to ' + DESCRIPTIONS[this.level], WARN);\n    }\n  }, {\n    key: \"log\",\n    value: function log(klass, level, message) {\n      if (this.EXCLUDE_LIST.indexOf(message[0]) >= 0) return;\n      if (level < this.level) return;\n\n      if (!message) {\n        message = klass;\n        klass = null;\n      }\n\n      var color = COLORS[level];\n      var klassDescription = '';\n      if (klass) klassDescription = '[' + klass + ']';\n      window.console && window.console.log && window.console.log.apply(console, ['%c[' + DESCRIPTIONS[level] + ']' + klassDescription, color].concat(message));\n    }\n  }]);\n\n  return Log;\n}();\nLog.LEVEL_DEBUG = LEVEL_DEBUG;\nLog.LEVEL_INFO = LEVEL_INFO;\nLog.LEVEL_WARN = LEVEL_WARN;\nLog.LEVEL_ERROR = LEVEL_ERROR;\n\nLog.getInstance = function () {\n  if (this._instance === undefined) this._instance = new this();\n  return this._instance;\n};\n\nLog.setLevel = function (level) {\n  this.getInstance().level = level;\n};\n\nLog.debug = function () {\n  this.getInstance().debug.apply(this.getInstance(), arguments);\n};\n\nLog.info = function () {\n  this.getInstance().info.apply(this.getInstance(), arguments);\n};\n\nLog.warn = function () {\n  this.getInstance().warn.apply(this.getInstance(), arguments);\n};\n\nLog.error = function () {\n  this.getInstance().error.apply(this.getInstance(), arguments);\n};\n\nvar slice = Array.prototype.slice;\nvar eventSplitter = /\\s+/;\n\nvar eventsApi = function eventsApi(obj, action, name, rest) {\n  if (!name) return true; // Handle event maps.\n\n  if (_typeof(name) === 'object') {\n    for (var key in name) {\n      obj[action].apply(obj, [key, name[key]].concat(rest));\n    }\n\n    return false;\n  } // Handle space separated event names.\n\n\n  if (eventSplitter.test(name)) {\n    var names = name.split(eventSplitter);\n\n    for (var i = 0, l = names.length; i < l; i++) {\n      obj[action].apply(obj, [names[i]].concat(rest));\n    }\n\n    return false;\n  }\n\n  return true;\n};\n\nvar triggerEvents = function triggerEvents(events, args, klass, name) {\n  var ev,\n      i = -1;\n  var l = events.length,\n      a1 = args[0],\n      a2 = args[1],\n      a3 = args[2];\n  run();\n\n  function run() {\n    try {\n      switch (args.length) {\n        /* eslint-disable curly */\n        case 0:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx);\n          }\n\n          return;\n\n        case 1:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1);\n          }\n\n          return;\n\n        case 2:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2);\n          }\n\n          return;\n\n        case 3:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n          }\n\n          return;\n\n        default:\n          while (++i < l) {\n            (ev = events[i]).callback.apply(ev.ctx, args);\n          }\n\n          return;\n      }\n    } catch (exception) {\n      Log.error.apply(Log, [klass, 'error on event', name, 'trigger', '-', exception]);\n      run();\n    }\n  }\n};\n/**\n * @class Events\n * @constructor\n * @module base\n */\n\n\nvar Events = /*#__PURE__*/function () {\n  function Events() {\n    _classCallCheck(this, Events);\n  }\n\n  _createClass(Events, [{\n    key: \"on\",\n\n    /**\n     * listen to an event indefinitely, if you want to stop you need to call `off`\n     * @method on\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n    value: function on(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({\n        callback: callback,\n        context: context,\n        ctx: context || this\n      });\n      return this;\n    }\n    /**\n     * listen to an event only once\n     * @method once\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(name, callback, context) {\n      var _this = this;\n\n      var _once;\n\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\n      var off = function off() {\n        return _this.off(name, _once);\n      };\n\n      _once = function once() {\n        off();\n        callback.apply(this, arguments);\n      };\n\n      return this.on(name, _once, context);\n    }\n    /**\n     * stop listening to an event\n     * @method off\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\n      if (!name && !callback && !context) {\n        this._events = void 0;\n        return this;\n      }\n\n      names = name ? [name] : Object.keys(this._events); // jshint maxdepth:5\n\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        events = this._events[name];\n\n        if (events) {\n          this._events[name] = retain = [];\n\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if (callback && callback !== ev.callback && callback !== ev.callback._callback || context && context !== ev.context) retain.push(ev);\n            }\n          }\n\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    }\n    /**\n     * triggers an event given its `name`\n     * @method trigger\n     * @param {String} name\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(name) {\n      var klass = this.name || this.constructor.name;\n      Log.debug.apply(Log, [klass].concat(Array.prototype.slice.call(arguments)));\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args, klass, name);\n      if (allEvents) triggerEvents(allEvents, arguments, klass, name);\n      return this;\n    }\n    /**\n     * stop listening an event for a given object\n     * @method stopListening\n     * @param {Object} obj\n     * @param {String} name\n     * @param {Function} callback\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(obj, name, callback) {\n      var listeningTo = this._listeningTo;\n      if (!listeningTo) return this;\n      var remove = !name && !callback;\n      if (!callback && _typeof(name) === 'object') callback = this;\n      if (obj) (listeningTo = {})[obj._listenId] = obj;\n\n      for (var id in listeningTo) {\n        obj = listeningTo[id];\n        obj.off(name, callback, this);\n        if (remove || Object.keys(obj._events).length === 0) delete this._listeningTo[id];\n      }\n\n      return this;\n    }\n  }], [{\n    key: \"register\",\n    value: function register(eventName) {\n      Events.Custom || (Events.Custom = {});\n      var property = typeof eventName === 'string' && eventName.toUpperCase().trim();\n\n      if (property && !Events.Custom[property]) {\n        Events.Custom[property] = property.toLowerCase().split('_').map(function (value, index) {\n          return index === 0 ? value : value = value[0].toUpperCase() + value.slice(1);\n        }).join('');\n      } else Log.error('Events', 'Error when register event: ' + eventName);\n    }\n  }, {\n    key: \"listAvailableCustomEvents\",\n    value: function listAvailableCustomEvents() {\n      Events.Custom || (Events.Custom = {});\n      return Object.keys(Events.Custom).filter(function (property) {\n        return typeof Events.Custom[property] === 'string';\n      });\n    }\n  }]);\n\n  return Events;\n}();\nvar listenMethods = {\n  listenTo: 'on',\n  listenToOnce: 'once'\n};\nObject.keys(listenMethods).forEach(function (method) {\n  Events.prototype[method] = function (obj, name, callback) {\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var id = obj._listenId || (obj._listenId = uniqueId('l'));\n    listeningTo[id] = obj;\n    if (!callback && _typeof(name) === 'object') callback = this;\n    obj[listenMethods[method]](name, callback, this);\n    return this;\n  };\n}); // PLAYER EVENTS\n\n/**\n * Fired when the player is ready on startup\n *\n * @event PLAYER_READY\n */\n\nEvents.PLAYER_READY = 'ready';\n/**\n * Fired when player resizes\n *\n * @event PLAYER_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.PLAYER_RESIZE = 'resize';\n/**\n * Fired when player changes its fullscreen state\n *\n * @event PLAYER_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.PLAYER_FULLSCREEN = 'fullscreen';\n/**\n * Fired when player starts to play\n *\n * @event PLAYER_PLAY\n */\n\nEvents.PLAYER_PLAY = 'play';\n/**\n * Fired when player pauses\n *\n * @event PLAYER_PAUSE\n */\n\nEvents.PLAYER_PAUSE = 'pause';\n/**\n * Fired when player stops\n *\n * @event PLAYER_STOP\n */\n\nEvents.PLAYER_STOP = 'stop';\n/**\n * Fired when player ends the video\n *\n * @event PLAYER_ENDED\n */\n\nEvents.PLAYER_ENDED = 'ended';\n/**\n * Fired when player seeks the video\n *\n * @event PLAYER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.PLAYER_SEEK = 'seek';\n/**\n * Fired when player receives an error\n *\n * @event PLAYER_ERROR\n * @param {Object} error the error\n */\n\nEvents.PLAYER_ERROR = 'playererror';\n/**\n * Fired when there is an error\n *\n * @event ERROR\n * @param {Object} error\n * the error with the following format `{code, description, level, raw, origin, scope}`\n * @param {String} [options.code]\n * error's code: code to identify error in the following format: origin:code\n * @param {String} [options.description]\n * error's description: description of the error\n * @param {String} [options.level]\n * error's level: FATAL or WARN.\n * @param {String} [options.origin]\n * error's origin. Example: hls, html5, etc\n * @param {String} [options.scope]\n * error's scope. Example: playback, container, etc\n * @param {String} [options.raw]\n * raw error: the initial error received\n */\n\nEvents.ERROR = 'error';\n/**\n * Fired when the time is updated on player\n *\n * @event PLAYER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYER_TIMEUPDATE = 'timeupdate';\n/**\n * Fired when player updates its volume\n *\n * @event PLAYER_VOLUMEUPDATE\n * @param {Number} volume the current volume\n */\n\nEvents.PLAYER_VOLUMEUPDATE = 'volumeupdate';\n/**\n * Fired when subtitle is available\n *\n * @event PLAYER_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYER_SUBTITLE_AVAILABLE = 'subtitleavailable'; // Playback Events\n\n/**\n * Fired when the playback is downloading the media\n *\n * @event PLAYBACK_PROGRESS\n * @param progress {Object}\n * Data progress object\n * @param [progress.start] {Number}\n * start position of buffered content at current position\n * @param [progress.current] {Number}\n * end position of buffered content at current position\n * @param [progress.total] {Number}\n * total content to be downloaded\n * @param buffered {Array}\n * array of buffered segments ({start, end}). [Only for supported playbacks]\n */\n\nEvents.PLAYBACK_PROGRESS = 'playback:progress';\n/**\n * Fired when the time is updated on playback\n *\n * @event PLAYBACK_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYBACK_TIMEUPDATE = 'playback:timeupdate';\n/**\n * Fired when playback is ready\n *\n * @event PLAYBACK_READY\n */\n\nEvents.PLAYBACK_READY = 'playback:ready';\n/**\n * Fired when the playback starts having to buffer because\n * playback can currently not be smooth.\n *\n * This corresponds to the playback `buffering` property being\n * `true`.\n *\n * @event PLAYBACK_BUFFERING\n */\n\nEvents.PLAYBACK_BUFFERING = 'playback:buffering';\n/**\n * Fired when the playback has enough in the buffer to be\n * able to play smoothly, after previously being unable to\n * do this.\n *\n * This corresponds to the playback `buffering` property being\n * `false`.\n *\n * @event PLAYBACK_BUFFERFULL\n */\n\nEvents.PLAYBACK_BUFFERFULL = 'playback:bufferfull';\n/**\n * Fired when playback changes any settings (volume, seek and etc)\n *\n * @event PLAYBACK_SETTINGSUPDATE\n */\n\nEvents.PLAYBACK_SETTINGSUPDATE = 'playback:settingsupdate';\n/**\n * Fired when playback loaded its metadata\n *\n * @event PLAYBACK_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.PLAYBACK_LOADEDMETADATA = 'playback:loadedmetadata';\n/**\n * Fired when playback updates its video quality\n *\n * @event PLAYBACK_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.PLAYBACK_HIGHDEFINITIONUPDATE = 'playback:highdefinitionupdate';\n/**\n * Fired when playback updates its bitrate\n *\n * @event PLAYBACK_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.PLAYBACK_BITRATE = 'playback:bitrate';\n/**\n * Fired when the playback has its levels\n *\n * @event PLAYBACK_LEVELS_AVAILABLE\n * @param {Array} levels\n * the ordered levels, each one with the following format `{id: 1, label: '500kbps'}` ps: id should be a number >= 0\n * @param {Number} initial\n * the initial level otherwise -1 (AUTO)\n */\n\nEvents.PLAYBACK_LEVELS_AVAILABLE = 'playback:levels:available';\n/**\n * Fired when the playback starts to switch level\n *\n * @event PLAYBACK_LEVEL_SWITCH_START\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_START = 'playback:levels:switch:start';\n/**\n * Fired when the playback ends the level switch\n *\n * @event PLAYBACK_LEVEL_SWITCH_END\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_END = 'playback:levels:switch:end';\n/**\n * Fired when playback internal state changes\n *\n * @event PLAYBACK_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.PLAYBACK_PLAYBACKSTATE = 'playback:playbackstate';\n/**\n * Fired when DVR becomes enabled/disabled.\n *\n * @event PLAYBACK_DVR\n * @param {boolean} state true if dvr enabled\n */\n\nEvents.PLAYBACK_DVR = 'playback:dvr'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_DISABLE = 'playback:mediacontrol:disable'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_ENABLE = 'playback:mediacontrol:enable';\n/**\n * Fired when the media for a playback ends.\n *\n * @event PLAYBACK_ENDED\n * @param {String} name the name of the playback\n */\n\nEvents.PLAYBACK_ENDED = 'playback:ended';\n/**\n * Fired when user requests `play()`\n *\n * @event PLAYBACK_PLAY_INTENT\n */\n\nEvents.PLAYBACK_PLAY_INTENT = 'playback:play:intent';\n/**\n * Fired when the media for a playback starts playing.\n * This is not necessarily when the user requests `play()`\n * The media may have to buffer first.\n * I.e. `isPlaying()` might return `true` before this event is fired,\n * because `isPlaying()` represents the intended state.\n *\n * @event PLAYBACK_PLAY\n */\n\nEvents.PLAYBACK_PLAY = 'playback:play';\n/**\n * Fired when the media for a playback pauses.\n *\n * @event PLAYBACK_PAUSE\n */\n\nEvents.PLAYBACK_PAUSE = 'playback:pause';\n/**\n * Fired when the media for a playback is seeking.\n *\n * @event PLAYBACK_SEEK\n */\n\nEvents.PLAYBACK_SEEK = 'playback:seek';\n/**\n * Fired when the media for a playback is seeked.\n *\n * @event PLAYBACK_SEEKED\n */\n\nEvents.PLAYBACK_SEEKED = 'playback:seeked';\n/**\n * Fired when the media for a playback is stopped.\n *\n * @event PLAYBACK_STOP\n */\n\nEvents.PLAYBACK_STOP = 'playback:stop';\n/**\n * Fired if an error occurs in the playback.\n *\n * @event PLAYBACK_ERROR\n * @param {Object} error An object containing the error details\n * @param {String} name Playback name\n */\n\nEvents.PLAYBACK_ERROR = 'playback:error'; // TODO doc\n\nEvents.PLAYBACK_STATS_ADD = 'playback:stats:add'; // TODO doc\n\nEvents.PLAYBACK_FRAGMENT_LOADED = 'playback:fragment:loaded'; // TODO doc\n\nEvents.PLAYBACK_LEVEL_SWITCH = 'playback:level:switch';\n/**\n * Fired when subtitle is available on playback for display\n *\n * @event PLAYBACK_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYBACK_SUBTITLE_AVAILABLE = 'playback:subtitle:available';\n/**\n * Fired when playback subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.PLAYBACK_SUBTITLE_CHANGED = 'playback:subtitle:changed'; // Core Events\n\n/**\n * Fired when the containers are created\n *\n * @event CORE_CONTAINERS_CREATED\n */\n\nEvents.CORE_CONTAINERS_CREATED = 'core:containers:created';\n/**\n * Fired when the active container changed\n *\n * @event CORE_ACTIVE_CONTAINER_CHANGED\n */\n\nEvents.CORE_ACTIVE_CONTAINER_CHANGED = 'core:active:container:changed';\n/**\n * Fired when the options were changed for the core\n *\n * @event CORE_OPTIONS_CHANGE\n * @param {Object} new options provided to configure() method\n */\n\nEvents.CORE_OPTIONS_CHANGE = 'core:options:change';\n/**\n * Fired after creating containers, when the core is ready\n *\n * @event CORE_READY\n */\n\nEvents.CORE_READY = 'core:ready';\n/**\n * Fired when the fullscreen state change\n *\n * @event CORE_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.CORE_FULLSCREEN = 'core:fullscreen';\n/**\n * Fired when core updates size\n *\n * @event CORE_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.CORE_RESIZE = 'core:resize';\n/**\n * Fired when the screen orientation has changed.\n * This event is trigger only for mobile devices.\n *\n * @event CORE_SCREEN_ORIENTATION_CHANGED\n * @param {Object} screen An object with screen orientation\n * screen object\n * @param {Object} [screen.event]\n * window resize event object\n * @param {String} [screen.orientation]\n * screen orientation (ie: 'landscape' or 'portrait')\n */\n\nEvents.CORE_SCREEN_ORIENTATION_CHANGED = 'core:screen:orientation:changed';\n/**\n * Fired when occurs mouse move event on core element\n *\n * @event CORE_MOUSE_MOVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_MOVE = 'core:mousemove';\n/**\n * Fired when occurs mouse leave event on core element\n *\n * @event CORE_MOUSE_LEAVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_LEAVE = 'core:mouseleave'; // Container Events\n\n/**\n * Fired when the container internal state changes\n *\n * @event CONTAINER_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.CONTAINER_PLAYBACKSTATE = 'container:playbackstate';\nEvents.CONTAINER_PLAYBACKDVRSTATECHANGED = 'container:dvr';\n/**\n * Fired when the container updates its bitrate\n *\n * @event CONTAINER_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.CONTAINER_BITRATE = 'container:bitrate';\nEvents.CONTAINER_STATS_REPORT = 'container:stats:report';\nEvents.CONTAINER_DESTROYED = 'container:destroyed';\n/**\n * Fired when the container is ready\n *\n * @event CONTAINER_READY\n */\n\nEvents.CONTAINER_READY = 'container:ready';\n/**\n * Fired when the container was resized.\n *\n * Some fullscreen modes won't trigger this resize since they don't affect the container, only the playback contents.\n *\n * @event CONTAINER_RESIZE\n */\n\nEvents.CONTAINER_RESIZE = 'container:resize';\nEvents.CONTAINER_ERROR = 'container:error';\n/**\n * Fired when the container loaded its metadata\n *\n * @event CONTAINER_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.CONTAINER_LOADEDMETADATA = 'container:loadedmetadata';\n/**\n * Fired when subtitle is available on container for display\n *\n * @event CONTAINER_SUBTITLE_AVAILABLE\n */\n\nEvents.CONTAINER_SUBTITLE_AVAILABLE = 'container:subtitle:available';\n/**\n * Fired when subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.CONTAINER_SUBTITLE_CHANGED = 'container:subtitle:changed';\n/**\n * Fired when the time is updated on container\n *\n * @event CONTAINER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.CONTAINER_TIMEUPDATE = 'container:timeupdate';\n/**\n * Fired when the container is downloading the media\n *\n * @event CONTAINER_PROGRESS\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.start]\n * initial downloaded content\n * @param {Number} [progress.current]\n * current dowloaded content\n * @param {Number} [progress.total]\n * total content to be downloaded\n */\n\nEvents.CONTAINER_PROGRESS = 'container:progress';\nEvents.CONTAINER_PLAY = 'container:play';\nEvents.CONTAINER_STOP = 'container:stop';\nEvents.CONTAINER_PAUSE = 'container:pause';\nEvents.CONTAINER_ENDED = 'container:ended';\nEvents.CONTAINER_CLICK = 'container:click';\nEvents.CONTAINER_DBLCLICK = 'container:dblclick';\nEvents.CONTAINER_CONTEXTMENU = 'container:contextmenu';\nEvents.CONTAINER_MOUSE_ENTER = 'container:mouseenter';\nEvents.CONTAINER_MOUSE_LEAVE = 'container:mouseleave';\n/**\n * Fired when the container seeks the video\n *\n * @event CONTAINER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEK = 'container:seek';\n/**\n * Fired when the container was finished the seek video\n *\n * @event CONTAINER_SEEKED\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEKED = 'container:seeked';\nEvents.CONTAINER_VOLUME = 'container:volume';\nEvents.CONTAINER_FULLSCREEN = 'container:fullscreen';\n/**\n * Fired when container is buffering\n *\n * @event CONTAINER_STATE_BUFFERING\n */\n\nEvents.CONTAINER_STATE_BUFFERING = 'container:state:buffering';\n/**\n * Fired when the container filled the buffer\n *\n * @event CONTAINER_STATE_BUFFERFULL\n */\n\nEvents.CONTAINER_STATE_BUFFERFULL = 'container:state:bufferfull';\n/**\n * Fired when the container changes any settings (volume, seek and etc)\n *\n * @event CONTAINER_SETTINGSUPDATE\n */\n\nEvents.CONTAINER_SETTINGSUPDATE = 'container:settingsupdate';\n/**\n * Fired when container updates its video quality\n *\n * @event CONTAINER_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.CONTAINER_HIGHDEFINITIONUPDATE = 'container:highdefinitionupdate';\n/**\n * Fired when the media control shows\n *\n * @event CONTAINER_MEDIACONTROL_SHOW\n */\n\nEvents.CONTAINER_MEDIACONTROL_SHOW = 'container:mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event CONTAINER_MEDIACONTROL_HIDE\n */\n\nEvents.CONTAINER_MEDIACONTROL_HIDE = 'container:mediacontrol:hide';\nEvents.CONTAINER_MEDIACONTROL_DISABLE = 'container:mediacontrol:disable';\nEvents.CONTAINER_MEDIACONTROL_ENABLE = 'container:mediacontrol:enable';\nEvents.CONTAINER_STATS_ADD = 'container:stats:add';\n/**\n * Fired when the options were changed for the container\n *\n * @event CONTAINER_OPTIONS_CHANGE\n */\n\nEvents.CONTAINER_OPTIONS_CHANGE = 'container:options:change'; // MediaControl Events\n\nEvents.MEDIACONTROL_RENDERED = 'mediacontrol:rendered';\n/**\n * Fired when the player enters/exit on fullscreen\n *\n * @event MEDIACONTROL_FULLSCREEN\n */\n\nEvents.MEDIACONTROL_FULLSCREEN = 'mediacontrol:fullscreen';\n/**\n * Fired when the media control shows\n *\n * @event MEDIACONTROL_SHOW\n */\n\nEvents.MEDIACONTROL_SHOW = 'mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event MEDIACONTROL_HIDE\n */\n\nEvents.MEDIACONTROL_HIDE = 'mediacontrol:hide';\n/**\n * Fired when mouse enters on the seekbar\n *\n * @event MEDIACONTROL_MOUSEMOVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSEMOVE_SEEKBAR = 'mediacontrol:mousemove:seekbar';\n/**\n * Fired when mouse leaves the seekbar\n *\n * @event MEDIACONTROL_MOUSELEAVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSELEAVE_SEEKBAR = 'mediacontrol:mouseleave:seekbar';\n/**\n * Fired when the media is being played\n *\n * @event MEDIACONTROL_PLAYING\n */\n\nEvents.MEDIACONTROL_PLAYING = 'mediacontrol:playing';\n/**\n * Fired when the media is not being played\n *\n * @event MEDIACONTROL_NOTPLAYING\n */\n\nEvents.MEDIACONTROL_NOTPLAYING = 'mediacontrol:notplaying';\n/**\n * Fired when the container was changed\n *\n * @event MEDIACONTROL_CONTAINERCHANGED\n */\n\nEvents.MEDIACONTROL_CONTAINERCHANGED = 'mediacontrol:containerchanged';\n/**\n * Fired when the options were changed for the mediacontrol\n *\n * @event MEDIACONTROL_OPTIONS_CHANGE\n */\n\nEvents.MEDIACONTROL_OPTIONS_CHANGE = 'mediacontrol:options:change';\n\n/**\n * @class BaseObject\n * @constructor\n * @extends Events\n * @module base\n */\n\nvar BaseObject = /*#__PURE__*/function (_Events) {\n  _inherits(BaseObject, _Events);\n\n  var _super = _createSuper(BaseObject);\n\n  _createClass(BaseObject, [{\n    key: \"options\",\n\n    /**\n     * returns the object options\n     * @property options\n     * @type Object\n     */\n    get: function get() {\n      return this._options;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options\n     */\n\n  }]);\n\n  function BaseObject() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BaseObject);\n\n    _this = _super.call(this, options);\n    _this._options = options;\n    _this.uniqueId = uniqueId('o');\n    return _this;\n  }\n  /**\n  * a unique id prefixed with `'o'`, `o1, o232`\n  *\n  * @property uniqueId\n  * @type String\n  */\n\n\n  return BaseObject;\n}(Events);\n\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n/**\n * A base class to create ui object.\n * @class UIObject\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar UIObject = /*#__PURE__*/function (_BaseObject) {\n  _inherits(UIObject, _BaseObject);\n\n  var _super = _createSuper(UIObject);\n\n  _createClass(UIObject, [{\n    key: \"tagName\",\n\n    /**\n     * a unique id prefixed with `'c'`, `c1, c232`\n     *\n     * @property cid\n     * @type String\n     */\n\n    /**\n     * the dom element itself\n     *\n     * @property el\n     * @type HTMLElement\n     */\n\n    /**\n     * the dom element wrapped by `$`\n     *\n     * @property $el\n     * @type HTMLElement\n     */\n\n    /**\n     * gets the tag name for the ui component\n     * @method tagName\n     * @default div\n     * @return {String} tag's name\n     */\n    get: function get() {\n      return 'div';\n    }\n    /**\n     * a literal object mapping element's events to methods\n     * @property events\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *   constructor(options) {\n     *     super(options)\n     *     this.myId = 0\n     *   }\n     *   get events() { return { 'click': 'myClick' } }\n     *   myClick(){ this.myId = 42 }\n     * }\n     *\n     * // when you click on MyButton the method `myClick` will be called\n     *```\n     */\n\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * a literal object mapping attributes and values to the element\n     * element's attribute name and the value the attribute value\n     * @property attributes\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *    constructor(options) { super(options) }\n     *    get attributes() { return { class: 'my-button'} }\n     * }\n     *\n     * // MyButton.el.className will be 'my-button'\n     * ```\n     */\n\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * it builds an ui component by:\n     *  * creating an id for the component `cid`\n     *  * making sure the element is created `$el`\n     *  * delegating all `events` to the element\n     * @method constructor\n     * @param {Object} options the options object\n     */\n\n  }]);\n\n  function UIObject(options) {\n    var _this;\n\n    _classCallCheck(this, UIObject);\n\n    _this = _super.call(this, options);\n    _this.cid = uniqueId('c');\n\n    _this._ensureElement();\n\n    _this.delegateEvents();\n\n    return _this;\n  }\n  /**\n   * selects within the component.\n   * @method $\n   * @param {String} selector a selector to find within the component.\n   * @return {HTMLElement} an element, if it exists.\n   * @example\n   * ```javascript\n   * fullScreenBarUIComponent.$('.button-full') //will return only `.button-full` within the component\n   * ```\n   */\n\n\n  _createClass(UIObject, [{\n    key: \"$\",\n    value: function $(selector) {\n      return this.$el.find(selector);\n    }\n    /**\n     * render the component, usually attach it to a real existent `element`\n     * @method render\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n    /**\n     * removes the ui component from DOM\n     * @method destroy\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$el.remove();\n      this.stopListening();\n      this.undelegateEvents();\n      return this;\n    }\n    /**\n     * set element to `el` and `$el`\n     * @method setElement\n     * @param {HTMLElement} element\n     * @param {Boolean} delegate whether is delegate or not\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"setElement\",\n    value: function setElement(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = zepto.zepto.isZ(element) ? element : zepto(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    }\n    /**\n     * delegates all the original `events` on `element` to its callbacks\n     * @method delegateEvents\n     * @param {Object} events\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"delegateEvents\",\n    value: function delegateEvents(events) {\n      if (!events) events = this.events;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (method && method.constructor !== Function) method = this[events[key]];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1],\n            selector = match[2];\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') this.$el.on(eventName, method.bind(this));else this.$el.on(eventName, selector, method.bind(this));\n      }\n\n      return this;\n    }\n    /**\n     * undelegats all the `events`\n     * @method undelegateEvents\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"undelegateEvents\",\n    value: function undelegateEvents() {\n      this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    }\n    /**\n     * ensures the creation of this ui component\n     * @method _ensureElement\n     * @private\n     */\n\n  }, {\n    key: \"_ensureElement\",\n    value: function _ensureElement() {\n      if (!this.el) {\n        var attrs = zepto.extend({}, this.attributes);\n        if (this.id) attrs.id = this.id;\n        if (this.className) attrs['class'] = this.className;\n        var $el = zepto(DomRecycler.create(this.tagName)).attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(this.el, false);\n      }\n    }\n  }]);\n\n  return UIObject;\n}(BaseObject);\n\n/**\n * The PlayerError is responsible to receive and propagate errors.\n * @class PlayerError\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar PlayerError = /*#__PURE__*/function (_BaseObject) {\n  _inherits(PlayerError, _BaseObject);\n\n  var _super = _createSuper(PlayerError);\n\n  _createClass(PlayerError, [{\n    key: \"name\",\n    get: function get() {\n      return 'error';\n    }\n    /**\n     * @property Levels\n     * @type {Object} object with error levels\n     */\n\n  }], [{\n    key: \"Levels\",\n    get: function get() {\n      return {\n        FATAL: 'FATAL',\n        WARN: 'WARN',\n        INFO: 'INFO'\n      };\n    }\n  }]);\n\n  function PlayerError() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var core = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, PlayerError);\n\n    _this = _super.call(this, options);\n    _this.core = core;\n    return _this;\n  }\n  /**\n   * creates and trigger an error.\n   * @method createError\n   * @param {Object} err should be an object with code, description, level, origin, scope and raw error.\n   */\n\n\n  _createClass(PlayerError, [{\n    key: \"createError\",\n    value: function createError(err) {\n      if (!this.core) {\n        Log.warn(this.name, 'Core is not set. Error: ', err);\n        return;\n      }\n\n      this.core.trigger(Events.ERROR, err);\n    }\n  }]);\n\n  return PlayerError;\n}(BaseObject);\n\nvar ErrorMixin = {\n  /**\n   * creates an error.\n   * @method createError\n   * @param {Object} error should be an object with code, description, level and raw error.\n   * @return {Object} Object with formatted error data including origin and scope\n   */\n  createError: function createError(error) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      useCodePrefix: true\n    };\n    var scope = this.constructor && this.constructor.type || '';\n    var origin = this.name || scope;\n    var i18n = this.i18n || this.core && this.core.i18n || this.container && this.container.i18n;\n    var prefixedCode = \"\".concat(origin, \":\").concat(error && error.code || 'unknown');\n    var defaultError = {\n      description: '',\n      level: PlayerError.Levels.FATAL,\n      origin: origin,\n      scope: scope,\n      raw: {}\n    };\n    var errorData = Object.assign({}, defaultError, error, {\n      code: options.useCodePrefix ? prefixedCode : error.code\n    });\n\n    if (i18n && errorData.level == PlayerError.Levels.FATAL && !errorData.UI) {\n      var defaultUI = {\n        title: i18n.t('default_error_title'),\n        message: i18n.t('default_error_message')\n      };\n      errorData.UI = defaultUI;\n    }\n\n    this.playerError ? this.playerError.createError(errorData) : Log.warn(origin, 'PlayerError is not defined. Error: ', errorData);\n    return errorData;\n  }\n};\n\nvar UICorePlugin = /*#__PURE__*/function (_UIObject) {\n  _inherits(UICorePlugin, _UIObject);\n\n  var _super = _createSuper(UICorePlugin);\n\n  _createClass(UICorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function UICorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, UICorePlugin);\n\n    _this = _super.call(this, core.options);\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(UICorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n  }]);\n\n  return UICorePlugin;\n}(UIObject);\nObject.assign(UICorePlugin.prototype, ErrorMixin);\n\nUICorePlugin.extend = function (properties) {\n  return extend(UICorePlugin, properties);\n};\n\nUICorePlugin.type = 'core';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".container[data-container] {\\n  position: absolute;\\n  background-color: black;\\n  height: 100%;\\n  width: 100%;\\n  max-width: 100%; }\\n  .container[data-container] .chromeless {\\n    cursor: default; }\\n\\n[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled {\\n  cursor: pointer; }\\n\";\nstyleInject(css_248z);\n\n/**\n * An abstraction to represent a container for a given playback\n * TODO: describe its responsabilities\n * @class Container\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Container = /*#__PURE__*/function (_UIObject) {\n  _inherits(Container, _UIObject);\n\n  var _super = _createSuper(Container);\n\n  _createClass(Container, [{\n    key: \"name\",\n\n    /**\n     * container's name\n     * @method name\n     * @default Container\n     * @return {String} container's name\n     */\n    get: function get() {\n      return 'Container';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        \"class\": 'container',\n        'data-container': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked',\n        'dblclick': 'dblClicked',\n        'touchend': 'dblTap',\n        'contextmenu': 'onContextMenu',\n        'mouseenter': 'mouseEnter',\n        'mouseleave': 'mouseLeave'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.playback.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.playback.buffering;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * checks if has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.playback.hasClosedCaptionsTracks;\n    }\n    /**\n     * gets the available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return this.playback.closedCaptionsTracks;\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this.playback.closedCaptionsTrackId;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {\n      this.playback.closedCaptionsTrackId = trackId;\n    }\n    /**\n     * it builds a container\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Container(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, options);\n    _this._i18n = i18n;\n    _this.currentTime = 0;\n    _this.volume = 100;\n    _this.playback = options.playback;\n    _this.playerError = playerError;\n    _this.settings = zepto.extend({}, _this.playback.settings);\n    _this.isReady = false;\n    _this.mediaControlDisabled = false;\n    _this.plugins = [_this.playback];\n    _this.dblTapHandler = new DoubleEventHandler(500);\n    _this.clickTimer = null;\n    _this.clickDelay = 200; // FIXME: could be a player option\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * binds playback events to the methods of the container.\n   * it listens to playback's events and triggers them as container events.\n   *\n   * | Playback |\n   * |----------|\n   * | progress |\n   * | timeupdate |\n   * | ready |\n   * | buffering |\n   * | bufferfull |\n   * | settingsupdate |\n   * | loadedmetadata |\n   * | highdefinitionupdate |\n   * | bitrate |\n   * | playbackstate |\n   * | dvr |\n   * | mediacontrol_disable |\n   * | mediacontrol_enable |\n   * | ended |\n   * | play |\n   * | pause |\n   * | error |\n   *\n   * ps: the events usually translate from PLABACK_x to CONTAINER_x, you can check all the events at `Event` class.\n   *\n   * @method bindEvents\n   */\n\n\n  _createClass(Container, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.playback, Events.PLAYBACK_PROGRESS, this.onProgress);\n      this.listenTo(this.playback, Events.PLAYBACK_TIMEUPDATE, this.timeUpdated);\n      this.listenTo(this.playback, Events.PLAYBACK_READY, this.ready);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERING, this.onBuffering);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERFULL, this.bufferfull);\n      this.listenTo(this.playback, Events.PLAYBACK_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_LOADEDMETADATA, this.loadedMetadata);\n      this.listenTo(this.playback, Events.PLAYBACK_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_BITRATE, this.updateBitrate);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAYBACKSTATE, this.playbackStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_DVR, this.playbackDvrStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_DISABLE, this.disableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_ENABLE, this.enableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_SEEKED, this.onSeeked);\n      this.listenTo(this.playback, Events.PLAYBACK_ENDED, this.onEnded);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAY, this.playing);\n      this.listenTo(this.playback, Events.PLAYBACK_PAUSE, this.paused);\n      this.listenTo(this.playback, Events.PLAYBACK_STOP, this.stopped);\n      this.listenTo(this.playback, Events.PLAYBACK_ERROR, this.error);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_AVAILABLE, this.subtitleAvailable);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_CHANGED, this.subtitleChanged);\n    }\n  }, {\n    key: \"subtitleAvailable\",\n    value: function subtitleAvailable() {\n      this.trigger(Events.CONTAINER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"subtitleChanged\",\n    value: function subtitleChanged(track) {\n      this.trigger(Events.CONTAINER_SUBTITLE_CHANGED, track);\n    }\n  }, {\n    key: \"playbackStateChanged\",\n    value: function playbackStateChanged(state) {\n      this.trigger(Events.CONTAINER_PLAYBACKSTATE, state);\n    }\n  }, {\n    key: \"playbackDvrStateChanged\",\n    value: function playbackDvrStateChanged(dvrInUse) {\n      this.settings = this.playback.settings;\n      this.dvrInUse = dvrInUse;\n      this.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, dvrInUse);\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(newBitrate) {\n      this.trigger(Events.CONTAINER_BITRATE, newBitrate);\n    }\n  }, {\n    key: \"statsReport\",\n    value: function statsReport(metrics) {\n      this.trigger(Events.CONTAINER_STATS_REPORT, metrics);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.playback.getPlaybackType();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return !!this.playback.dvrEnabled;\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return !!this.dvrInUse;\n    }\n    /**\n     * destroys the container\n     * @method destroy\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.trigger(Events.CONTAINER_DESTROYED, this, this.name);\n      this.stopListening();\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      this.$el.css(style);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(style, duration) {\n      return this.$el.animate(style, duration).promise();\n    }\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      this.isReady = true;\n      this.trigger(Events.CONTAINER_READY, this.name);\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.playback.isPlaying();\n    }\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.playback.getStartTimeOffset();\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.playback.getDuration();\n    }\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      if (!this.isReady) this.ready();\n      this.trigger(Events.CONTAINER_ERROR, _error, this.name);\n    }\n  }, {\n    key: \"loadedMetadata\",\n    value: function loadedMetadata(metadata) {\n      this.trigger(Events.CONTAINER_LOADEDMETADATA, metadata);\n    }\n  }, {\n    key: \"timeUpdated\",\n    value: function timeUpdated(timeProgress) {\n      this.currentTime = timeProgress.current;\n      this.trigger(Events.CONTAINER_TIMEUPDATE, timeProgress, this.name);\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.trigger.apply(this, [Events.CONTAINER_PROGRESS].concat(args, [this.name]));\n    }\n  }, {\n    key: \"playing\",\n    value: function playing() {\n      this.trigger(Events.CONTAINER_PLAY, this.name);\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      this.trigger(Events.CONTAINER_PAUSE, this.name);\n    }\n    /**\n     * plays the playback\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.playback.play();\n    }\n    /**\n     * stops the playback\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.playback.stop();\n      this.currentTime = 0;\n    }\n    /**\n     * pauses the playback\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.playback.pause();\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.trigger(Events.CONTAINER_ENDED, this, this.name);\n      this.currentTime = 0;\n    }\n  }, {\n    key: \"stopped\",\n    value: function stopped() {\n      this.trigger(Events.CONTAINER_STOP);\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      var _this2 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        // The event is delayed because it can be canceled by a double-click event\n        // An example of use is to prevent playback from pausing when switching to full screen\n        this.clickTimer = setTimeout(function () {\n          _this2.clickTimer && _this2.trigger(Events.CONTAINER_CLICK, _this2, _this2.name);\n        }, this.clickDelay);\n      }\n    }\n  }, {\n    key: \"cancelClicked\",\n    value: function cancelClicked() {\n      clearTimeout(this.clickTimer);\n      this.clickTimer = null;\n    }\n  }, {\n    key: \"dblClicked\",\n    value: function dblClicked() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.cancelClicked();\n        this.trigger(Events.CONTAINER_DBLCLICK, this, this.name);\n      }\n    }\n  }, {\n    key: \"dblTap\",\n    value: function dblTap(evt) {\n      var _this3 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.dblTapHandler.handle(evt, function () {\n          _this3.cancelClicked();\n\n          _this3.trigger(Events.CONTAINER_DBLCLICK, _this3, _this3.name);\n        });\n      }\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(event) {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_CONTEXTMENU, event, this.name);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.trigger(Events.CONTAINER_SEEK, time, this.name);\n      this.playback.seek(time);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.trigger(Events.CONTAINER_SEEKED, this.name);\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var duration = this.getDuration();\n\n      if (percentage >= 0 && percentage <= 100) {\n        var time = duration * (percentage / 100);\n        this.seek(time);\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      this.volume = parseFloat(value);\n      this.trigger(Events.CONTAINER_VOLUME, this.volume, this.name);\n      this.playback.volume(this.volume);\n    }\n  }, {\n    key: \"fullscreen\",\n    value: function fullscreen() {\n      this.trigger(Events.CONTAINER_FULLSCREEN, this.name);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERING, this.name);\n    }\n  }, {\n    key: \"bufferfull\",\n    value: function bufferfull() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERFULL, this.name);\n    }\n    /**\n     * adds plugin to the container\n     * @method addPlugin\n     * @param {Object} plugin\n     */\n\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n    /**\n     * checks if a plugin, given its name, exist\n     * @method hasPlugin\n     * @param {String} name\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n    /**\n     * get the plugin given its name\n     * @method getPlugin\n     * @param {String} name\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"mouseEnter\",\n    value: function mouseEnter() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_ENTER);\n    }\n  }, {\n    key: \"mouseLeave\",\n    value: function mouseLeave() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_LEAVE);\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      this.settings = this.playback.settings;\n      this.trigger(Events.CONTAINER_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.trigger(Events.CONTAINER_HIGHDEFINITIONUPDATE, isHD);\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return this.playback.isHighDefinitionInUse();\n    }\n  }, {\n    key: \"disableMediaControl\",\n    value: function disableMediaControl() {\n      if (!this.mediaControlDisabled) {\n        this.mediaControlDisabled = true;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_DISABLE);\n      }\n    }\n  }, {\n    key: \"enableMediaControl\",\n    value: function enableMediaControl() {\n      if (this.mediaControlDisabled) {\n        this.mediaControlDisabled = false;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_ENABLE);\n      }\n    }\n  }, {\n    key: \"updateStyle\",\n    value: function updateStyle() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.$el.removeClass('chromeless');else this.$el.addClass('chromeless');\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this4 = this;\n\n      this.disableResizeObserver();\n      this.resizeObserverInterval = setInterval(function () {\n        return _this4.checkResize();\n      }, 500);\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n    }\n  }, {\n    key: \"checkResize\",\n    value: function checkResize() {\n      var newSize = {\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      };\n\n      var _ref = this.currentSize || {},\n          width = _ref.width,\n          height = _ref.height;\n\n      var isResize = height !== newSize.height || width !== newSize.width;\n\n      if (isResize) {\n        this.currentSize = newSize;\n        this.trigger(Events.CONTAINER_RESIZE, newSize);\n      }\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n      this.updateStyle();\n      this.playback.configure(this.options);\n      this.trigger(Events.CONTAINER_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.append(this.playback.render().el);\n      this.updateStyle();\n      this.checkResize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Container;\n}(UIObject);\nObject.assign(Container.prototype, ErrorMixin);\n\n/**\n * An abstraction to represent a generic playback, it's like an interface to be implemented by subclasses.\n * @class Playback\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Playback = /*#__PURE__*/function (_UIObject) {\n  _inherits(Playback, _UIObject);\n\n  var _super = _createSuper(Playback);\n\n  _createClass(Playback, [{\n    key: \"isAudioOnly\",\n\n    /**\n    * Determine if the playback does not contain video/has video but video should be ignored.\n    * @property isAudioOnly\n    * @type Boolean\n    */\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isAdaptive\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Playback(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Playback);\n\n    _this = _super.call(this, options);\n    _this.settings = {};\n    _this._i18n = i18n;\n    _this.playerError = playerError;\n    _this._consented = false;\n    return _this;\n  }\n  /**\n   * Gives user consent to playback (mobile devices).\n   * @method consent\n   * @param {Function} callback function called when playback is consented\n   */\n\n\n  _createClass(Playback, [{\n    key: \"consent\",\n    value: function consent(cb) {\n      typeof cb === 'function' && cb();\n    }\n    /**\n     * plays the playback.\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {}\n    /**\n     * pauses the playback.\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {}\n    /**\n     * stops the playback.\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {}\n    /**\n     * seeks the playback to a given `time` in seconds\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * seeks the playback to a given `percentage` in percentage\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return 0;\n    }\n    /**\n     * gets the duration in seconds\n     * @method getDuration\n     * @return {Number} duration (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return 0;\n    }\n    /**\n     * checks if the playback is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current playback is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return false;\n    }\n    /**\n     * checks if the playback is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the current playback is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"getPlaybackType\",\n    // eslint-disable-line no-unused-vars\n\n    /**\n     * gets the playback type (`'vod', 'live', 'aod'`)\n     * @method getPlaybackType\n     * @return {String} you should write the playback type otherwise it'll assume `'no_op'`\n     * @example\n     * ```javascript\n     * html5VideoPlayback.getPlaybackType() //vod\n     * html5AudioPlayback.getPlaybackType() //aod\n     * html5VideoPlayback.getPlaybackType() //live\n     * flashHlsPlayback.getPlaybackType() //live\n     * ```\n     */\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n    /**\n     * checks if the playback is in HD.\n     * @method isHighDefinitionInUse\n     * @return {Boolean} `true` if the playback is playing in HD, otherwise `false`\n     */\n\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    }\n    /**\n     * mutes the playback\n     * @method mute\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {}\n    /**\n     * restores the playback volume\n     * @method unmute\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {}\n    /**\n     * sets the volume for the playback\n     * @method volume\n     * @param {Number} value a number between 0 (`muted`) to 100 (`max`)\n     */\n\n  }, {\n    key: \"volume\",\n    value: function volume(value) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * enables to configure the playback after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n    }\n    /**\n     * attempt to autoplays the playback.\n     * @method attemptAutoPlay\n     */\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        // eslint-disable-line no-unused-vars\n        result && _this2.play();\n      });\n    }\n    /**\n     * checks if the playback can autoplay.\n     * @method canAutoPlay\n     * @param {Function} callback function where first param is Boolean and second param is playback Error or null\n     */\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      cb(true, null); // Assume playback can autoplay by default\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * checks if the playback has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.closedCaptionsTracks.length > 0;\n    }\n    /**\n     * gets the playback available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return [];\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return -1;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {}\n  }]);\n\n  return Playback;\n}(UIObject);\nObject.assign(Playback.prototype, ErrorMixin);\n\nPlayback.extend = function (properties) {\n  return extend(Playback, properties);\n};\n/**\n * checks if the playback can play a given `source`\n * If a mimeType is provided then this will be used instead of inferring the mimetype\n * from the source extension.\n * @method canPlay\n * @static\n * @param {String} source the given source ex: `http://example.com/play.mp4`\n * @param {String} [mimeType] the given mime type, ex: `'application/vnd.apple.mpegurl'`\n * @return {Boolean} `true` if the playback is playable, otherwise `false`\n */\n\n\nPlayback.canPlay = function (source, mimeType) {\n  // eslint-disable-line no-unused-vars\n  return false;\n};\n/**\n * a playback type for video on demand\n *\n * @property VOD\n * @static\n * @type String\n */\n\n\nPlayback.VOD = 'vod';\n/**\n * a playback type for audio on demand\n *\n * @property AOD\n * @static\n * @type String\n */\n\nPlayback.AOD = 'aod';\n/**\n * a playback type for live video\n *\n * @property LIVE\n * @static\n * @type String\n */\n\nPlayback.LIVE = 'live';\n/**\n * a default playback type\n *\n * @property NO_OP\n * @static\n * @type String\n */\n\nPlayback.NO_OP = 'no_op';\n/**\n * the plugin type\n *\n * @property type\n * @static\n * @type String\n */\n\nPlayback.type = 'playback';\n\nvar ContainerFactory = /*#__PURE__*/function (_BaseObject) {\n  _inherits(ContainerFactory, _BaseObject);\n\n  var _super = _createSuper(ContainerFactory);\n\n  _createClass(ContainerFactory, [{\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this._options = options;\n    }\n  }]);\n\n  function ContainerFactory(options, loader, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, ContainerFactory);\n\n    _this = _super.call(this, options);\n    _this._i18n = i18n;\n    _this.loader = loader;\n    _this.playerError = playerError;\n    return _this;\n  }\n\n  _createClass(ContainerFactory, [{\n    key: \"createContainers\",\n    value: function createContainers() {\n      var _this2 = this;\n\n      return zepto.Deferred(function (promise) {\n        promise.resolve(_this2.options.sources.map(function (source) {\n          return _this2.createContainer(source);\n        }));\n      });\n    }\n  }, {\n    key: \"findPlaybackPlugin\",\n    value: function findPlaybackPlugin(source, mimeType) {\n      return this.loader.playbackPlugins.filter(function (p) {\n        return p.canPlay(source, mimeType);\n      })[0];\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source) {\n      var resolvedSource = null;\n      var mimeType = this.options.mimeType;\n\n      if (_typeof(source) === 'object') {\n        resolvedSource = source.source.toString();\n        if (source.mimeType) mimeType = source.mimeType;\n      } else {\n        resolvedSource = source.toString();\n      }\n\n      if (resolvedSource.match(/^\\/\\//)) resolvedSource = window.location.protocol + resolvedSource;\n\n      var options = _objectSpread2(_objectSpread2({}, this.options), {}, {\n        src: resolvedSource,\n        mimeType: mimeType\n      });\n\n      var playbackPlugin = this.findPlaybackPlugin(resolvedSource, mimeType); // Fallback to empty playback object until we sort out unsupported sources error without NoOp playback\n\n      var playback = playbackPlugin ? new playbackPlugin(options, this._i18n, this.playerError) : new Playback();\n      options = _objectSpread2(_objectSpread2({}, options), {}, {\n        playback: playback\n      });\n      var container = new Container(options, this._i18n, this.playerError);\n      var defer = zepto.Deferred();\n      defer.promise(container);\n      this.addContainerPlugins(container);\n      this.listenToOnce(container, Events.CONTAINER_READY, function () {\n        return defer.resolve(container);\n      });\n      return container;\n    }\n  }, {\n    key: \"addContainerPlugins\",\n    value: function addContainerPlugins(container) {\n      this.loader.containerPlugins.forEach(function (Plugin) {\n        container.addPlugin(new Plugin(container));\n      });\n    }\n  }]);\n\n  return ContainerFactory;\n}(BaseObject);\n\nvar css_248z$1 = \"[data-player] {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  user-select: none;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  transform: translate3d(0, 0, 0);\\n  position: relative;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  font-style: normal;\\n  font-weight: normal;\\n  text-align: center;\\n  overflow: hidden;\\n  font-size: 100%;\\n  font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n  text-shadow: 0 0 0;\\n  box-sizing: border-box; }\\n  [data-player] div, [data-player] span, [data-player] applet, [data-player] object, [data-player] iframe,\\n  [data-player] h1, [data-player] h2, [data-player] h3, [data-player] h4, [data-player] h5, [data-player] h6, [data-player] p, [data-player] blockquote, [data-player] pre,\\n  [data-player] a, [data-player] abbr, [data-player] acronym, [data-player] address, [data-player] big, [data-player] cite, [data-player] code,\\n  [data-player] del, [data-player] dfn, [data-player] em, [data-player] img, [data-player] ins, [data-player] kbd, [data-player] q, [data-player] s, [data-player] samp,\\n  [data-player] small, [data-player] strike, [data-player] strong, [data-player] sub, [data-player] sup, [data-player] tt, [data-player] var,\\n  [data-player] b, [data-player] u, [data-player] i, [data-player] center,\\n  [data-player] dl, [data-player] dt, [data-player] dd, [data-player] ol, [data-player] ul, [data-player] li,\\n  [data-player] fieldset, [data-player] form, [data-player] label, [data-player] legend,\\n  [data-player] table, [data-player] caption, [data-player] tbody, [data-player] tfoot, [data-player] thead, [data-player] tr, [data-player] th, [data-player] td,\\n  [data-player] article, [data-player] aside, [data-player] canvas, [data-player] details, [data-player] embed,\\n  [data-player] figure, [data-player] figcaption, [data-player] footer, [data-player] header, [data-player] hgroup,\\n  [data-player] menu, [data-player] nav, [data-player] output, [data-player] ruby, [data-player] section, [data-player] summary,\\n  [data-player] time, [data-player] mark, [data-player] audio, [data-player] video {\\n    margin: 0;\\n    padding: 0;\\n    border: 0;\\n    font: inherit;\\n    font-size: 100%;\\n    vertical-align: baseline; }\\n  [data-player] table {\\n    border-collapse: collapse;\\n    border-spacing: 0; }\\n  [data-player] caption, [data-player] th, [data-player] td {\\n    text-align: left;\\n    font-weight: normal;\\n    vertical-align: middle; }\\n  [data-player] q, [data-player] blockquote {\\n    quotes: none; }\\n    [data-player] q:before, [data-player] q:after, [data-player] blockquote:before, [data-player] blockquote:after {\\n      content: \\\"\\\";\\n      content: none; }\\n  [data-player] a img {\\n    border: none; }\\n  [data-player]:focus {\\n    outline: 0; }\\n  [data-player] * {\\n    box-sizing: inherit; }\\n  [data-player] > * {\\n    float: none;\\n    max-width: none; }\\n  [data-player] > div {\\n    display: block; }\\n  [data-player].fullscreen {\\n    width: 100% !important;\\n    height: 100% !important;\\n    top: 0;\\n    left: 0; }\\n  [data-player].nocursor {\\n    cursor: none; }\\n\\n.clappr-style {\\n  display: none !important; }\\n\";\nstyleInject(css_248z$1);\n\n/**\n * The Core is responsible to manage Containers and the player state.\n * @class Core\n * @constructor\n * @extends UIObject\n * @module components\n */\n\nvar Core = /*#__PURE__*/function (_UIObject) {\n  _inherits(Core, _UIObject);\n\n  var _super = _createSuper(Core);\n\n  _createClass(Core, [{\n    key: \"events\",\n    get: function get() {\n      return {\n        'webkitfullscreenchange': 'handleFullscreenChange',\n        'mousemove': 'onMouseMove',\n        'mouseleave': 'onMouseLeave'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-player': '',\n        tabindex: 9999\n      };\n    }\n    /**\n     * checks if the core is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the core is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this.ready;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.getPlugin('strings') || {\n        t: function t(key) {\n          return key;\n        }\n      };\n    }\n    /**\n     * @deprecated\n     * This property currently exists for backward compatibility reasons.\n     * If you need to access the media control instance, use the method getPlugin('media_control').\n     * This approach is still not recommended.\n     */\n\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this._mediaControl || (this._mediaControl = this.getPlugin('media_control')) || this.dummyMediaControl;\n    }\n  }, {\n    key: \"dummyMediaControl\",\n    get: function get() {\n      if (this._dummyMediaControl) return this._dummyMediaControl;\n      this._dummyMediaControl = new UICorePlugin(this);\n      return this._dummyMediaControl;\n    }\n    /**\n     * gets the active container reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activeContainer\",\n    get: function get() {\n      return this._activeContainer;\n    }\n    /**\n     * sets the active container reference and trigger a event with the new reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n    ,\n    set: function set(container) {\n      this._activeContainer = container;\n      this.trigger(Events.CORE_ACTIVE_CONTAINER_CHANGED, this._activeContainer);\n    }\n    /**\n     * gets the active playback reference.\n     * @property activePlayback\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activePlayback\",\n    get: function get() {\n      return this.activeContainer && this.activeContainer.playback;\n    }\n  }]);\n\n  function Core(options) {\n    var _this;\n\n    _classCallCheck(this, Core);\n\n    _this = _super.call(this, options);\n    _this.playerError = new PlayerError(options, _assertThisInitialized(_this));\n\n    _this.configureDomRecycler();\n\n    _this.firstResize = true;\n    _this.plugins = [];\n    _this.containers = []; //FIXME fullscreen api sucks\n\n    _this._boundFullscreenHandler = function () {\n      return _this.handleFullscreenChange();\n    };\n\n    zepto(document).bind('fullscreenchange', _this._boundFullscreenHandler);\n    zepto(document).bind('MSFullscreenChange', _this._boundFullscreenHandler);\n    zepto(document).bind('mozfullscreenchange', _this._boundFullscreenHandler);\n    Browser.isMobile && zepto(window).bind('resize', function (o) {\n      _this.handleWindowResize(o);\n    });\n    return _this;\n  }\n\n  _createClass(Core, [{\n    key: \"configureDomRecycler\",\n    value: function configureDomRecycler() {\n      var recycleVideo = this.options && this.options.playback && this.options.playback.recycleVideo;\n      DomRecycler.configure({\n        recycleVideo: recycleVideo\n      });\n    }\n  }, {\n    key: \"createContainers\",\n    value: function createContainers(options) {\n      this.defer = zepto.Deferred();\n      this.defer.promise(this);\n      this.containerFactory = new ContainerFactory(options, options.loader, this.i18n, this.playerError);\n      this.prepareContainers();\n    }\n  }, {\n    key: \"prepareContainers\",\n    value: function prepareContainers() {\n      var _this2 = this;\n\n      this.containerFactory.createContainers().then(function (containers) {\n        return _this2.setupContainers(containers);\n      }).then(function (containers) {\n        return _this2.resolveOnContainersReady(containers);\n      });\n    }\n  }, {\n    key: \"updateSize\",\n    value: function updateSize() {\n      this.isFullscreen() ? this.setFullscreen() : this.setPlayerSize();\n    }\n  }, {\n    key: \"setFullscreen\",\n    value: function setFullscreen() {\n      if (!Browser.isiOS) {\n        this.$el.addClass('fullscreen');\n        this.$el.removeAttr('style');\n        this.previousSize = {\n          width: this.options.width,\n          height: this.options.height\n        };\n        this.currentSize = {\n          width: zepto(window).width(),\n          height: zepto(window).height()\n        };\n      }\n    }\n  }, {\n    key: \"setPlayerSize\",\n    value: function setPlayerSize() {\n      this.$el.removeClass('fullscreen');\n      this.currentSize = this.previousSize;\n      this.previousSize = {\n        width: zepto(window).width(),\n        height: zepto(window).height()\n      };\n      this.resize(this.currentSize);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(options) {\n      if (!isNumber(options.height) && !isNumber(options.width)) {\n        this.el.style.height = \"\".concat(options.height);\n        this.el.style.width = \"\".concat(options.width);\n      } else {\n        this.el.style.height = \"\".concat(options.height, \"px\");\n        this.el.style.width = \"\".concat(options.width, \"px\");\n      }\n\n      this.previousSize = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.options.width = options.width;\n      this.options.height = options.height;\n      this.currentSize = options;\n      this.triggerResize(this.currentSize);\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this3 = this;\n\n      this.disableResizeObserver();\n\n      var checkSizeCallback = function checkSizeCallback() {\n        _this3.triggerResize({\n          width: _this3.el.clientWidth,\n          height: _this3.el.clientHeight\n        });\n      };\n\n      this.resizeObserverInterval = setInterval(checkSizeCallback, 500);\n    }\n  }, {\n    key: \"triggerResize\",\n    value: function triggerResize(newSize) {\n      var thereWasChange = this.firstResize || this.oldHeight !== newSize.height || this.oldWidth !== newSize.width;\n\n      if (thereWasChange) {\n        this.oldHeight = newSize.height;\n        this.oldWidth = newSize.width;\n        this.computedSize = newSize;\n        this.firstResize = false;\n        this.trigger(Events.CORE_RESIZE, newSize);\n      }\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n      this.resizeObserverInterval = null;\n    }\n  }, {\n    key: \"resolveOnContainersReady\",\n    value: function resolveOnContainersReady(containers) {\n      var _this4 = this;\n\n      zepto.when.apply(zepto, containers).done(function () {\n        _this4.defer.resolve(_this4);\n\n        _this4.ready = true;\n\n        _this4.trigger(Events.CORE_READY);\n      });\n    }\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType) {\n      this.options.mimeType = mimeType;\n      sources = sources && sources.constructor === Array ? sources : [sources];\n      this.options.sources = sources;\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.containerFactory.options = zepto.extend(this.options, {\n        sources: sources\n      });\n      this.prepareContainers();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n      zepto(document).unbind('fullscreenchange', this._boundFullscreenHandler);\n      zepto(document).unbind('MSFullscreenChange', this._boundFullscreenHandler);\n      zepto(document).unbind('mozfullscreenchange', this._boundFullscreenHandler);\n      this.stopListening();\n    }\n  }, {\n    key: \"handleFullscreenChange\",\n    value: function handleFullscreenChange() {\n      this.trigger(Events.CORE_FULLSCREEN, this.isFullscreen());\n      this.updateSize();\n    }\n  }, {\n    key: \"handleWindowResize\",\n    value: function handleWindowResize(event) {\n      var orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';\n      if (this._screenOrientation === orientation) return;\n      this._screenOrientation = orientation;\n      this.triggerResize({\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      });\n      this.trigger(Events.CORE_SCREEN_ORIENTATION_CHANGED, {\n        event: event,\n        orientation: this._screenOrientation\n      });\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer(container) {\n      this.stopListening(container);\n      this.containers = this.containers.filter(function (c) {\n        return c !== container;\n      });\n    }\n  }, {\n    key: \"setupContainer\",\n    value: function setupContainer(container) {\n      this.listenTo(container, Events.CONTAINER_DESTROYED, this.removeContainer);\n      this.containers.push(container);\n    }\n  }, {\n    key: \"setupContainers\",\n    value: function setupContainers(containers) {\n      containers.forEach(this.setupContainer.bind(this));\n      this.trigger(Events.CORE_CONTAINERS_CREATED);\n      this.renderContainers();\n      this.activeContainer = containers[0];\n      this.render();\n      this.appendToParent();\n      return this.containers;\n    }\n  }, {\n    key: \"renderContainers\",\n    value: function renderContainers() {\n      var _this5 = this;\n\n      this.containers.forEach(function (container) {\n        return _this5.el.appendChild(container.render().el);\n      });\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source, options) {\n      var container = this.containerFactory.createContainer(source, options);\n      this.setupContainer(container);\n      this.el.appendChild(container.render().el);\n      return container;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current container reference, use the activeContainer getter.\n     */\n\n  }, {\n    key: \"getCurrentContainer\",\n    value: function getCurrentContainer() {\n      return this.activeContainer;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current playback reference, use the activePlayback getter.\n     */\n\n  }, {\n    key: \"getCurrentPlayback\",\n    value: function getCurrentPlayback() {\n      return this.activePlayback;\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.activeContainer && this.activeContainer.getPlaybackType();\n    }\n  }, {\n    key: \"isFullscreen\",\n    value: function isFullscreen() {\n      // Ensure current instance is in fullscreen mode by checking fullscreen element\n      var fullscreenElement = Fullscreen.fullscreenElement();\n      if (!fullscreenElement) return false;\n      var playbackEl = this.activePlayback && this.activePlayback.el;\n      return fullscreenElement === this.el || fullscreenElement === playbackEl;\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      var _this6 = this;\n\n      if (this.isFullscreen()) {\n        Fullscreen.cancelFullscreen();\n        !Browser.isiOS && this.$el.removeClass('fullscreen nocursor');\n      } else {\n        var fullscreenEl = Browser.isiOS ? this.activePlayback && this.activePlayback.el : this.el;\n        if (!fullscreenEl) return;\n        Browser.isSafari || Browser.isiOS ? // Safari doesn't return a promise like the other browsers. See more in https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen\n        Fullscreen.requestFullscreen(fullscreenEl) : Fullscreen.requestFullscreen(fullscreenEl).then(function (_) {\n          return _;\n        }, function (error) {\n          return setTimeout(function () {\n            // fixes the issue https://github.com/clappr/clappr/issues/1860\n            if (!_this6.isFullscreen()) throw new ReferenceError(error);\n          }, 600);\n        });\n        !Browser.isiOS && this.$el.addClass('fullscreen');\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      this.trigger(Events.CORE_MOUSE_MOVE, event);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(event) {\n      this.trigger(Events.CORE_MOUSE_LEAVE, event);\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      var _this7 = this;\n\n      this._options = zepto.extend(this._options, options);\n      this.configureDomRecycler();\n      var sources = options.source || options.sources;\n      sources && this.load(sources, options.mimeType || this.options.mimeType);\n      this.trigger(Events.CORE_OPTIONS_CHANGE, options); // Trigger with newly provided options\n\n      this.containers.forEach(function (container) {\n        return container.configure(_this7.options);\n      });\n    }\n  }, {\n    key: \"appendToParent\",\n    value: function appendToParent() {\n      var hasCoreParent = this.$el.parent() && this.$el.parent().length;\n      !hasCoreParent && this.$el.appendTo(this.options.parentElement);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.options.width = this.options.width || this.$el.width();\n      this.options.height = this.options.height || this.$el.height();\n      var size = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.previousSize = this.currentSize = this.computedSize = size;\n      this.updateSize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Core;\n}(UIObject);\nObject.assign(Core.prototype, ErrorMixin);\n\n/**\n * The Core Factory is responsible for instantiate the core and it's plugins.\n * @class CoreFactory\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar CoreFactory = /*#__PURE__*/function (_BaseObject) {\n  _inherits(CoreFactory, _BaseObject);\n\n  var _super = _createSuper(CoreFactory);\n\n  _createClass(CoreFactory, [{\n    key: \"loader\",\n    get: function get() {\n      return this.player.loader;\n    }\n    /**\n     * it builds the core factory\n     * @method constructor\n     * @param {Player} player the player object\n     */\n\n  }]);\n\n  function CoreFactory(player) {\n    var _this;\n\n    _classCallCheck(this, CoreFactory);\n\n    _this = _super.call(this);\n    _this.player = player;\n    _this._options = player.options;\n    return _this;\n  }\n  /**\n   * creates a core and its plugins\n   * @method create\n   * @return {Core} created core\n   */\n\n\n  _createClass(CoreFactory, [{\n    key: \"create\",\n    value: function create() {\n      this.options.loader = this.loader;\n      this.core = new Core(this.options);\n      this.addCorePlugins();\n      this.core.createContainers(this.options);\n      return this.core;\n    }\n    /**\n     * given the core plugins (`loader.corePlugins`) it builds each one\n     * @method addCorePlugins\n     * @return {Core} the core with all plugins\n     */\n\n  }, {\n    key: \"addCorePlugins\",\n    value: function addCorePlugins() {\n      var _this2 = this;\n\n      this.loader.corePlugins.forEach(function (Plugin) {\n        var plugin = new Plugin(_this2.core);\n\n        _this2.core.addPlugin(plugin);\n\n        _this2.setupExternalInterface(plugin);\n      });\n      return this.core;\n    }\n  }, {\n    key: \"setupExternalInterface\",\n    value: function setupExternalInterface(plugin) {\n      var externalFunctions = plugin.getExternalInterface();\n\n      for (var key in externalFunctions) {\n        this.player[key] = externalFunctions[key].bind(plugin);\n      }\n    }\n  }]);\n\n  return CoreFactory;\n}(BaseObject);\n\nvar VERSION_REGEX = /(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?/;\n\nvar Version = /*#__PURE__*/function () {\n  _createClass(Version, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var matches = str.match(VERSION_REGEX) || [];\n\n      var _matches = _slicedToArray(matches, 4),\n          major = _matches[1],\n          minor = _matches[2],\n          patch = _matches[3];\n\n      if (typeof major === 'undefined') return null;\n      return new Version(major, minor, patch);\n    }\n  }]);\n\n  function Version(major, minor, patch) {\n    _classCallCheck(this, Version);\n\n    this.major = parseInt(major || 0, 10);\n    this.minor = parseInt(minor || 0, 10);\n    this.patch = parseInt(patch || 0, 10);\n  }\n\n  _createClass(Version, [{\n    key: \"compare\",\n    value: function compare(other) {\n      var diff = this.major - other.major;\n      diff = diff || this.minor - other.minor;\n      diff = diff || this.patch - other.patch;\n      return diff;\n    }\n  }, {\n    key: \"inc\",\n    value: function inc() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'patch';\n      typeof this[type] !== 'undefined' && (this[type] += 1);\n      return this;\n    }\n  }, {\n    key: \"satisfies\",\n    value: function satisfies(min, max) {\n      return this.compare(min) >= 0 && (!max || this.compare(max) < 0);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.major, \".\").concat(this.minor, \".\").concat(this.patch);\n    }\n  }]);\n\n  return Version;\n}();\n\nvar filterPluginsByType = function filterPluginsByType(plugins, type) {\n  if (!plugins || !type) return {};\n  return Object.entries(plugins).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        value = _ref2[1];\n\n    return value.type === type;\n  }).reduce(function (obj, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return obj[key] = value, obj;\n  }, {});\n};\n/**\n * It keeps a list of the default plugins (playback, container, core) and it merges external plugins with its internals.\n * @class Loader\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\n\nvar Loader = (function () {\n  var registry = {\n    plugins: {},\n    playbacks: []\n  };\n  var currentVersion = \"0.4.14\";\n  return /*#__PURE__*/function () {\n    _createClass(Loader, null, [{\n      key: \"checkVersionSupport\",\n      value: function checkVersionSupport(entry) {\n        var _entry$prototype = entry.prototype,\n            supportedVersion = _entry$prototype.supportedVersion,\n            name = _entry$prototype.name;\n\n        if (!supportedVersion || !supportedVersion.min) {\n          Log.warn('Loader', \"missing version information for \".concat(name));\n          return false;\n        }\n\n        var maxVersion = supportedVersion.max ? Version.parse(supportedVersion.max) : Version.parse(supportedVersion.min).inc('minor');\n        var minVersion = Version.parse(supportedVersion.min);\n\n        if (!Version.parse(currentVersion).satisfies(minVersion, maxVersion)) {\n          Log.warn('Loader', \"unsupported plugin \".concat(name, \": Clappr version \").concat(currentVersion, \" does not match required range [\").concat(minVersion, \",\").concat(maxVersion, \")\"));\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"registerPlugin\",\n      value: function registerPlugin(pluginEntry) {\n        if (!pluginEntry || !pluginEntry.prototype.name) {\n          Log.warn('Loader', \"missing information to register plugin: \".concat(pluginEntry));\n          return false;\n        }\n\n        Loader.checkVersionSupport(pluginEntry);\n        var pluginRegistry = registry.plugins;\n        if (!pluginRegistry) return false;\n        var previousEntry = pluginRegistry[pluginEntry.prototype.name];\n        if (previousEntry) Log.warn('Loader', \"overriding plugin entry: \".concat(pluginEntry.prototype.name, \" - \").concat(previousEntry));\n        pluginRegistry[pluginEntry.prototype.name] = pluginEntry;\n        return true;\n      }\n    }, {\n      key: \"registerPlayback\",\n      value: function registerPlayback(playbackEntry) {\n        if (!playbackEntry || !playbackEntry.prototype.name) return false;\n        Loader.checkVersionSupport(playbackEntry);\n        var playbacks = registry.playbacks;\n        var previousEntryIdx = playbacks.findIndex(function (entry) {\n          return entry.prototype.name === playbackEntry.prototype.name;\n        });\n\n        if (previousEntryIdx >= 0) {\n          var previousEntry = playbacks[previousEntryIdx];\n          playbacks.splice(previousEntryIdx, 1);\n          Log.warn('Loader', \"overriding playback entry: \".concat(previousEntry.name, \" - \").concat(previousEntry));\n        }\n\n        registry.playbacks = [playbackEntry].concat(_toConsumableArray(playbacks));\n        return true;\n      }\n    }, {\n      key: \"unregisterPlugin\",\n      value: function unregisterPlugin(name) {\n        if (!name) return false;\n        var plugins = registry.plugins;\n        var plugin = plugins[name];\n        if (!plugin) return false;\n        delete plugins[name];\n        return true;\n      }\n    }, {\n      key: \"unregisterPlayback\",\n      value: function unregisterPlayback(name) {\n        if (!name) return false;\n        var playbacks = registry.playbacks;\n        var index = playbacks.findIndex(function (entry) {\n          return entry.prototype.name === name;\n        });\n        if (index < 0) return false;\n        playbacks.splice(index, 1);\n        registry.playbacks = playbacks;\n        return true;\n      }\n    }, {\n      key: \"clearPlugins\",\n      value: function clearPlugins() {\n        registry.plugins = {};\n      }\n    }, {\n      key: \"clearPlaybacks\",\n      value: function clearPlaybacks() {\n        registry.playbacks = [];\n      }\n      /**\n       * builds the loader\n       * @method constructor\n       * @param {Object} externalPlugins the external plugins\n       * @param {Number} playerId you can embed multiple instances of clappr, therefore this is the unique id of each one.\n       */\n\n    }, {\n      key: \"registeredPlaybacks\",\n      get: function get() {\n        return _toConsumableArray(registry.playbacks);\n      }\n    }, {\n      key: \"registeredPlugins\",\n      get: function get() {\n        var plugins = registry.plugins;\n        var core = filterPluginsByType(plugins, 'core');\n        var container = filterPluginsByType(plugins, 'container');\n        return {\n          core: core,\n          container: container\n        };\n      }\n    }]);\n\n    function Loader() {\n      var externalPlugins = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var playerId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      _classCallCheck(this, Loader);\n\n      this.playerId = playerId;\n      this.playbackPlugins = _toConsumableArray(registry.playbacks);\n      var _Loader$registeredPlu = Loader.registeredPlugins,\n          core = _Loader$registeredPlu.core,\n          container = _Loader$registeredPlu.container;\n      this.containerPlugins = Object.values(container);\n      this.corePlugins = Object.values(core);\n      if (!Array.isArray(externalPlugins)) this.validateExternalPluginsType(externalPlugins);\n      this.addExternalPlugins(externalPlugins);\n    }\n    /**\n     * groups by type the external plugins that were passed through `options.plugins` it they're on a flat array\n     * @method addExternalPlugins\n     * @private\n     * @param {Object} an config object or an array of plugins\n     * @return {Object} plugins the config object with the plugins separated by type\n     */\n\n\n    _createClass(Loader, [{\n      key: \"groupPluginsByType\",\n      value: function groupPluginsByType(plugins) {\n        if (Array.isArray(plugins)) {\n          plugins = plugins.reduce(function (memo, plugin) {\n            memo[plugin.type] || (memo[plugin.type] = []);\n            memo[plugin.type].push(plugin);\n            return memo;\n          }, {});\n        }\n\n        return plugins;\n      }\n    }, {\n      key: \"removeDups\",\n      value: function removeDups(list) {\n        var useReversePrecedence = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        var groupUp = function groupUp(plugins, plugin) {\n          if (plugins[plugin.prototype.name] && useReversePrecedence) return plugins;\n          plugins[plugin.prototype.name] && delete plugins[plugin.prototype.name];\n          plugins[plugin.prototype.name] = plugin;\n          return plugins;\n        };\n\n        var pluginsMap = list.reduceRight(groupUp, Object.create(null));\n        var plugins = [];\n\n        for (var key in pluginsMap) {\n          plugins.unshift(pluginsMap[key]);\n        }\n\n        return plugins;\n      }\n      /**\n       * adds all the external plugins that were passed through `options.plugins`\n       * @method addExternalPlugins\n       * @private\n       * @param {Object} plugins the config object with all plugins\n       */\n\n    }, {\n      key: \"addExternalPlugins\",\n      value: function addExternalPlugins(plugins) {\n        var loadExternalPluginsFirst = typeof plugins.loadExternalPluginsFirst === 'boolean' ? plugins.loadExternalPluginsFirst : true;\n        var loadExternalPlaybacksFirst = typeof plugins.loadExternalPlaybacksFirst === 'boolean' ? plugins.loadExternalPlaybacksFirst : true;\n        plugins = this.groupPluginsByType(plugins);\n\n        if (plugins.playback) {\n          var playbacks = plugins.playback.filter(function (playback) {\n            return Loader.checkVersionSupport(playback), true;\n          });\n          this.playbackPlugins = loadExternalPlaybacksFirst ? this.removeDups(playbacks.concat(this.playbackPlugins)) : this.removeDups(this.playbackPlugins.concat(playbacks), true);\n        }\n\n        if (plugins.container) {\n          var containerPlugins = plugins.container.filter(function (plugin) {\n            return Loader.checkVersionSupport(plugin), true;\n          });\n          this.containerPlugins = loadExternalPluginsFirst ? this.removeDups(containerPlugins.concat(this.containerPlugins)) : this.removeDups(this.containerPlugins.concat(containerPlugins), true);\n        }\n\n        if (plugins.core) {\n          var corePlugins = plugins.core.filter(function (plugin) {\n            return Loader.checkVersionSupport(plugin), true;\n          });\n          this.corePlugins = loadExternalPluginsFirst ? this.removeDups(corePlugins.concat(this.corePlugins)) : this.removeDups(this.corePlugins.concat(corePlugins), true);\n        }\n      }\n      /**\n       * validate if the external plugins that were passed through `options.plugins` are associated to the correct type\n       * @method validateExternalPluginsType\n       * @private\n       * @param {Object} plugins the config object with all plugins\n       */\n\n    }, {\n      key: \"validateExternalPluginsType\",\n      value: function validateExternalPluginsType(plugins) {\n        var pluginTypes = ['playback', 'container', 'core'];\n        pluginTypes.forEach(function (type) {\n          (plugins[type] || []).forEach(function (el) {\n            var errorMessage = 'external ' + el.type + ' plugin on ' + type + ' array';\n            if (el.type !== type) throw new ReferenceError(errorMessage);\n          });\n        });\n      }\n    }]);\n\n    return Loader;\n  }();\n})();\n\nvar baseUrl = currentScriptUrl().replace(/\\/[^/]+$/, '');\n/**\n * @class Player\n * @constructor\n * @extends BaseObject\n * @module components\n * @example\n * ### Using the Player\n *\n * Add the following script on your HTML:\n * ```html\n * <head>\n *   <script type=\"text/javascript\" src=\"http://cdn.clappr.io/latest/clappr.min.js\"></script>\n * </head>\n * ```\n * Now, create the player:\n * ```html\n * <body>\n *   <div id=\"player\"></div>\n *   <script>\n *     var player = new Clappr.Player({source: \"http://your.video/here.mp4\", parentId: \"#player\"});\n *   </script>\n * </body>\n * ```\n */\n\nvar Player = /*#__PURE__*/function (_BaseObject) {\n  _inherits(Player, _BaseObject);\n\n  var _super = _createSuper(Player);\n\n  _createClass(Player, [{\n    key: \"loader\",\n    set: function set(loader) {\n      this._loader = loader;\n    },\n    get: function get() {\n      if (!this._loader) this._loader = new Loader(this.options.plugins || {}, this.options.playerId);\n      return this._loader;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.core.activeContainer.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.core.activeContainer.buffering;\n    }\n    /*\n     * determine if the player is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the player is ready. ie PLAYER_READY event has fired\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this._ready;\n    }\n    /**\n     * An events map that allows the user to add custom callbacks in player's options.\n     * @property eventsMapping\n     * @type {Object}\n     */\n\n  }, {\n    key: \"eventsMapping\",\n    get: function get() {\n      return {\n        onReady: Events.PLAYER_READY,\n        onResize: Events.PLAYER_RESIZE,\n        onPlay: Events.PLAYER_PLAY,\n        onPause: Events.PLAYER_PAUSE,\n        onStop: Events.PLAYER_STOP,\n        onEnded: Events.PLAYER_ENDED,\n        onSeek: Events.PLAYER_SEEK,\n        onError: Events.PLAYER_ERROR,\n        onTimeUpdate: Events.PLAYER_TIMEUPDATE,\n        onVolumeUpdate: Events.PLAYER_VOLUMEUPDATE,\n        onSubtitleAvailable: Events.PLAYER_SUBTITLE_AVAILABLE\n      };\n    }\n    /**\n     * @typedef {Object} PlaybackConfig\n     * @prop {boolean} disableContextMenu\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @prop {boolean} preload\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @prop {boolean} controls\n     * enabled/disables displaying controls\n     * @prop {boolean} crossOrigin\n     * enables cross-origin capability for media-resources\n     * @prop {boolean} playInline\n     * enables in-line video elements\n     * @prop {boolean} audioOnly\n     * enforce audio-only playback (when possible)\n     * @prop {Object} externalTracks\n     * pass externaly loaded track to playback\n     * @prop {Number} [maxBufferLength]\n     * The default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @prop {Number} [maxBackBufferLength]\n     * After how much distance of the playhead data should be pruned from the buffer (influences memory consumption\n     * of adaptive media-engines like Hls.js or Shaka)\n     * @prop {Number} [minBufferLength]\n     * After how much data in the buffer at least we attempt to consume it (influences QoS-related behavior\n     * of adaptive media-engines like Hls.js or Shaka). If this is too low, and the available bandwidth is varying a lot\n     * and too close to the streamed bitrate, we may continuously hit under-runs.\n     * @prop {Number} [initialBandwidthEstimate]\n     * define an initial bandwidth \"guess\" (or previously stored/established value) for underlying adaptive-bitreate engines\n     * of adaptive playback implementations, like Hls.js or Shaka\n     * @prop {Number} [maxAdaptiveBitrate]\n     * Limits the streamed bitrate (for adaptive media-engines in underlying playback implementations)\n     * @prop {Object} [maxAdaptiveVideoDimensions]\n     * Limits the video dimensions in adaptive media-engines. Should be a literal object with `height` and `width`.\n     * @prop {Boolean}[enableAutomaticABR] **default**: `true`\n     * Allows to enable/disable automatic bitrate switching in adaptive media-engines\n     * @prop {String} [preferredTextLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred text language, that may be enabled by the media-engine if available.\n     * @prop {String} [preferredAudioLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred audio language, that may be enabled by the media-engine if available.\n     */\n\n    /**\n     * ## Player's constructor\n     *\n     * You might pass the options object to build the player.\n     * ```javascript\n     * var options = {source: \"http://example.com/video.mp4\", param1: \"val1\"};\n     * var player = new Clappr.Player(options);\n     * ```\n     *\n     * @method constructor\n     * @param {Object} options Data\n     * options to build a player instance\n     * @param {Number} [options.width]\n     * player's width **default**: `640`\n     * @param {Number} [options.height]\n     * player's height **default**: `360`\n     * @param {String} [options.parentId]\n     * the id of the element on the page that the player should be inserted into\n     * @param {Object} [options.parent]\n     * a reference to a dom element that the player should be inserted into\n     * @param {String} [options.source]\n     * The media source URL, or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Object} [options.sources]\n     * An array of media source URL's, or an array of {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Boolean} [options.autoPlay]\n     * automatically play after page load **default**: `false`\n     * @param {Boolean} [options.loop]\n     * automatically replay after it ends **default**: `false`\n     * @param {Boolean} [options.chromeless]\n     * player acts in chromeless mode **default**: `false`\n     * @param {Boolean} [options.allowUserInteraction]\n     * whether or not the player should handle click events when in chromeless mode **default**: `false` on desktops browsers, `true` on mobile.\n     * @param {Boolean} [options.disableKeyboardShortcuts]\n     * disable keyboard shortcuts. **default**: `false`. `true` if `allowUserInteraction` is `false`.\n     * @param {Boolean} [options.mute]\n     * start the video muted **default**: `false`\n     * @param {String} [options.mimeType]\n     * add `mimeType: \"application/vnd.apple.mpegurl\"` if you need to use a url without extension.\n     * @param {Boolean} [options.actualLiveTime]\n     * show duration and seek time relative to actual time.\n     * @param {String} [options.actualLiveServerTime]\n     * specify server time as a string, format: \"2015/11/26 06:01:03\". This option is meant to be used with actualLiveTime.\n     * @param {Boolean} [options.persistConfig]\n     * persist player's settings (volume) through the same domain **default**: `true`\n     * @param {String} [options.preload] @deprecated\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @param {Number} [options.maxBufferLength] @deprecated\n     * the default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @param {String} [options.gaAccount]\n     * enable Google Analytics events dispatch **(play/pause/stop/buffering/etc)** by adding your `gaAccount`\n     * @param {String} [options.gaTrackerName]\n     * besides `gaAccount` you can optionally, pass your favorite trackerName as `gaTrackerName`\n     * @param {Object} [options.mediacontrol]\n     * customize control bar colors, example: `mediacontrol: {seekbar: \"#E113D3\", buttons: \"#66B2FF\"}`\n     * @param {Boolean} [options.hideMediaControl]\n     * control media control auto hide **default**: `true`\n     * @param {Boolean} [options.hideVolumeBar]\n     * when embedded with width less than 320, volume bar will hide. You can force this behavior for all sizes by adding `true` **default**: `false`\n     * @param {String} [options.watermark]\n     * put `watermark: 'http://url/img.png'` on your embed parameters to automatically add watermark on your video.\n     * You can customize corner position by defining position parameter. Positions can be `bottom-left`, `bottom-right`, `top-left` and `top-right`.\n     * @param {String} [options.watermarkLink]\n     * `watermarkLink: 'http://example.net/'` - define URL to open when the watermark is clicked. If not provided watermark will not be clickable.\n     * @param {Boolean} [options.disableVideoTagContextMenu] @deprecated\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @param {Boolean} [options.autoSeekFromUrl]\n     * Automatically seek to the seconds provided in the url (e.g example.com?t=100) **default**: `true`\n     * @param {Boolean} [options.exitFullscreenOnEnd]\n     * Automatically exit full screen when the media finishes. **default**: `true`\n     * @param {String} [options.poster]\n     * define a poster by adding its address `poster: 'http://url/img.png'`. It will appear after video embed, disappear on play and go back when user stops the video.\n     * @param {String} [options.playbackNotSupportedMessage]\n     * define a custom message to be displayed when a playback is not supported.\n     * @param {Object} [options.events]\n     * Specify listeners which will be registered with their corresponding player events.\n     * E.g. onReady -> \"PLAYER_READY\", onTimeUpdate -> \"PLAYER_TIMEUPDATE\"\n     * @param {PlaybackConfig} [options.playback]\n     * Generic `Playback` component related configuration\n     * @param {Boolean} [options.disableErrorScreen]\n     * disables the error screen plugin.\n     * @param {Number} [options.autoPlayTimeout]\n     * autoplay check timeout.\n     */\n\n  }]);\n\n  function Player(options) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _super.call(this, options);\n    var playbackDefaultOptions = {\n      recycleVideo: true\n    };\n    var defaultOptions = {\n      playerId: uniqueId(''),\n      persistConfig: true,\n      width: 640,\n      height: 360,\n      baseUrl: baseUrl,\n      allowUserInteraction: Browser.isMobile,\n      playback: playbackDefaultOptions\n    };\n    _this._options = zepto.extend(defaultOptions, options);\n    _this.options.sources = _this._normalizeSources(options);\n\n    if (!_this.options.chromeless) {\n      // \"allowUserInteraction\" cannot be false if not in chromeless mode.\n      _this.options.allowUserInteraction = true;\n    }\n\n    if (!_this.options.allowUserInteraction) {\n      // if user iteraction is not allowed ensure keyboard shortcuts are disabled\n      _this.options.disableKeyboardShortcuts = true;\n    }\n\n    _this._registerOptionEventListeners(_this.options.events);\n\n    _this._coreFactory = new CoreFactory(_assertThisInitialized(_this));\n    if (_this.options.parentId) _this.setParentId(_this.options.parentId);else if (_this.options.parent) _this.attachTo(_this.options.parent);\n    return _this;\n  }\n  /**\n   * Specify a `parentId` to the player.\n   * @method setParentId\n   * @param {String} parentId the element parent id.\n   * @return {Player} itself\n   */\n\n\n  _createClass(Player, [{\n    key: \"setParentId\",\n    value: function setParentId(parentId) {\n      var el = document.querySelector(parentId);\n      if (el) this.attachTo(el);\n      return this;\n    }\n    /**\n     * You can use this method to attach the player to a given element. You don't need to do this when you specify it during the player instantiation passing the `parentId` param.\n     * @method attachTo\n     * @param {Object} element a given element.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(element) {\n      this.options.parentElement = element;\n      this.core = this._coreFactory.create();\n\n      this._addEventListeners();\n\n      return this;\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      if (!this.core.isReady) this.listenToOnce(this.core, Events.CORE_READY, this._onReady);else this._onReady();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this._containerChanged);\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this._onFullscreenChange);\n      this.listenTo(this.core, Events.CORE_RESIZE, this._onResize);\n      return this;\n    }\n  }, {\n    key: \"_addContainerEventListeners\",\n    value: function _addContainerEventListeners() {\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_PLAY, this._onPlay);\n        this.listenTo(container, Events.CONTAINER_PAUSE, this._onPause);\n        this.listenTo(container, Events.CONTAINER_STOP, this._onStop);\n        this.listenTo(container, Events.CONTAINER_ENDED, this._onEnded);\n        this.listenTo(container, Events.CONTAINER_SEEK, this._onSeek);\n        this.listenTo(container, Events.CONTAINER_ERROR, this._onError);\n        this.listenTo(container, Events.CONTAINER_TIMEUPDATE, this._onTimeUpdate);\n        this.listenTo(container, Events.CONTAINER_VOLUME, this._onVolumeUpdate);\n        this.listenTo(container, Events.CONTAINER_SUBTITLE_AVAILABLE, this._onSubtitleAvailable);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_registerOptionEventListeners\",\n    value: function _registerOptionEventListeners() {\n      var _this2 = this;\n\n      var newEvents = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var hasNewEvents = Object.keys(newEvents).length > 0;\n      hasNewEvents && Object.keys(events).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n        eventType && _this2.off(eventType, events[userEvent]);\n      });\n      Object.keys(newEvents).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n\n        if (eventType) {\n          var eventFunction = newEvents[userEvent];\n          eventFunction = typeof eventFunction === 'function' && eventFunction;\n          eventFunction && _this2.on(eventType, eventFunction);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"_containerChanged\",\n    value: function _containerChanged() {\n      this.stopListening();\n\n      this._addEventListeners();\n    }\n  }, {\n    key: \"_onReady\",\n    value: function _onReady() {\n      this._ready = true;\n\n      this._addContainerEventListeners();\n\n      this.trigger(Events.PLAYER_READY);\n    }\n  }, {\n    key: \"_onFullscreenChange\",\n    value: function _onFullscreenChange(fullscreen) {\n      this.trigger(Events.PLAYER_FULLSCREEN, fullscreen);\n    }\n  }, {\n    key: \"_onVolumeUpdate\",\n    value: function _onVolumeUpdate(volume) {\n      this.trigger(Events.PLAYER_VOLUMEUPDATE, volume);\n    }\n  }, {\n    key: \"_onSubtitleAvailable\",\n    value: function _onSubtitleAvailable() {\n      this.trigger(Events.PLAYER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize(size) {\n      this.trigger(Events.PLAYER_RESIZE, size);\n    }\n  }, {\n    key: \"_onPlay\",\n    value: function _onPlay() {\n      this.trigger(Events.PLAYER_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this.trigger(Events.PLAYER_PAUSE);\n    }\n  }, {\n    key: \"_onStop\",\n    value: function _onStop() {\n      this.trigger(Events.PLAYER_STOP, this.getCurrentTime());\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this.trigger(Events.PLAYER_ENDED);\n    }\n  }, {\n    key: \"_onSeek\",\n    value: function _onSeek(time) {\n      this.trigger(Events.PLAYER_SEEK, time);\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate(timeProgress) {\n      this.trigger(Events.PLAYER_TIMEUPDATE, timeProgress);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(error) {\n      this.trigger(Events.PLAYER_ERROR, error);\n    }\n  }, {\n    key: \"_normalizeSources\",\n    value: function _normalizeSources(options) {\n      var sources = options.sources || (options.source !== undefined ? [options.source] : []);\n      return sources.length === 0 ? [{\n        source: '',\n        mimeType: ''\n      }] : sources;\n    }\n    /**\n     * resizes the current player canvas.\n     * @method resize\n     * @param {Object} size should be a literal object with `height` and `width`.\n     * @return {Player} itself\n     * @example\n     * ```javascript\n     * player.resize({height: 360, width: 640})\n     * ```\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(size) {\n      this.core.resize(size);\n      return this;\n    }\n    /**\n     * loads a new source.\n     * @method load\n     * @param {Array|String} sources source or sources of video.\n     * An array item can be a string or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {String} mimeType a mime type, example: `'application/vnd.apple.mpegurl'`\n     * @param {Boolean} [autoPlay=false] whether playing should be started immediately\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType, autoPlay) {\n      if (autoPlay !== undefined) this.configure({\n        autoPlay: !!autoPlay\n      });\n      this.core.load(sources, mimeType);\n      return this;\n    }\n    /**\n     * destroys the current player and removes it from the DOM.\n     * @method destroy\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n      this.core.destroy();\n      return this;\n    }\n    /**\n     * Gives user consent to playback. Required by mobile device after a click event before Player.load().\n     * @method consent\n     * @param {Function} callback function called when current playback is consented\n     * @example\n     * ```javascript\n     * player.consent(function() { doSomethingNext(); });\n     * ```\n     */\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      this.core.getCurrentPlayback().consent(cb);\n    }\n    /**\n     * plays the current video (`source`).\n     * @method play\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.core.activeContainer.play();\n      return this;\n    }\n    /**\n     * pauses the current video (`source`).\n     * @method pause\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.core.activeContainer.pause();\n      return this;\n    }\n    /**\n     * stops the current video (`source`).\n     * @method stop\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.core.activeContainer.stop();\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(120)` will seek to second 120 (2minutes) of the current video.\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.core.activeContainer.seek(time);\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(50)` will seek to the middle of the current video.\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      this.core.activeContainer.seekPercentage(percentage);\n      return this;\n    }\n    /**\n     * mutes the current video (`source`).\n     * @method mute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.core.activePlayback.mute();\n      return this;\n    }\n    /**\n     * unmutes the current video (`source`).\n     * @method unmute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.core.activePlayback.unmute();\n      return this;\n    }\n    /**\n     * checks if the player is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current source is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.core.activeContainer.isPlaying();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return this.core.activeContainer.isDvrEnabled();\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return this.core.activeContainer.isDvrInUse();\n    }\n    /**\n     * enables to configure a player after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._registerOptionEventListeners(options.events, this.options.events);\n\n      this.core.configure(options);\n      return this;\n    }\n    /**\n     * get a plugin by its name.\n     * @method getPlugin\n     * @param {String} name of the plugin.\n     * @return {Object} the plugin instance\n     * @example\n     * ```javascript\n     * var poster = player.getPlugin('poster');\n     * poster.hidePlayButton();\n     * ```\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      var plugins = this.core.plugins.concat(this.core.activeContainer.plugins);\n      return plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n    /**\n     * the current time in seconds.\n     * @method getCurrentTime\n     * @return {Number} current time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.core.activeContainer.getCurrentTime();\n    }\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.core.activeContainer.getStartTimeOffset();\n    }\n    /**\n     * the duration time in seconds.\n     * @method getDuration\n     * @return {Number} duration time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.core.activeContainer.getDuration();\n    }\n  }]);\n\n  return Player;\n}(BaseObject);\nObject.assign(Player.prototype, ErrorMixin);\n\n/**\n * The base class for a container plugin\n * @class ContainerPlugin\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar ContainerPlugin = /*#__PURE__*/function (_BaseObject) {\n  _inherits(ContainerPlugin, _BaseObject);\n\n  var _super = _createSuper(ContainerPlugin);\n\n  _createClass(ContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function ContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, ContainerPlugin);\n\n    _this = _super.call(this, container.options);\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(ContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return ContainerPlugin;\n}(BaseObject);\nObject.assign(ContainerPlugin.prototype, ErrorMixin);\n\nContainerPlugin.extend = function (properties) {\n  return extend(ContainerPlugin, properties);\n};\n\nContainerPlugin.type = 'container';\n\nvar CorePlugin = /*#__PURE__*/function (_BaseObject) {\n  _inherits(CorePlugin, _BaseObject);\n\n  var _super = _createSuper(CorePlugin);\n\n  _createClass(CorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function CorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, CorePlugin);\n\n    _this = _super.call(this, core.options);\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(CorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return CorePlugin;\n}(BaseObject);\nObject.assign(CorePlugin.prototype, ErrorMixin);\n\nCorePlugin.extend = function (properties) {\n  return extend(CorePlugin, properties);\n};\n\nCorePlugin.type = 'core';\n\n/**\n * The base class for an ui container plugin\n * @class UIContainerPlugin\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar UIContainerPlugin = /*#__PURE__*/function (_UIObject) {\n  _inherits(UIContainerPlugin, _UIObject);\n\n  var _super = _createSuper(UIContainerPlugin);\n\n  _createClass(UIContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function UIContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, UIContainerPlugin);\n\n    _this = _super.call(this, container.options);\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(UIContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }]);\n\n  return UIContainerPlugin;\n}(UIObject);\nObject.assign(UIContainerPlugin.prototype, ErrorMixin);\n\nUIContainerPlugin.extend = function (properties) {\n  return extend(UIContainerPlugin, properties);\n};\n\nUIContainerPlugin.type = 'container';\n\n/* eslint-disable no-var */\n// Simple JavaScript Templating\n// Paul Miller (http://paulmillr.com)\n// http://underscorejs.org\n// (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n// By default, Underscore uses ERB-style template delimiters, change the\n// following template settings to use alternative delimiters.\nvar settings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n}; // When customizing `templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\n\nvar noMatch = /(.)^/; // Certain characters need to be escaped so that they can be put into a\n// string literal.\n\nvar escapes = {\n  '\\'': '\\'',\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\t': 't',\n  \"\\u2028\": 'u2028',\n  \"\\u2029\": 'u2029'\n};\nvar escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g; // List of HTML entities for escaping.\n\nvar htmlEntities = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#x27;'\n};\nvar entityRe = new RegExp('[&<>\"\\']', 'g');\n\nvar escapeExpr = function escapeExpr(string) {\n  if (string === null) return '';\n  return ('' + string).replace(entityRe, function (match) {\n    return htmlEntities[match];\n  });\n};\n\nvar counter = 0; // JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n\nvar tmpl = function tmpl(text, data) {\n  var render; // Combine delimiters into one regular expression via alternation.\n\n  var matcher = new RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g'); // Compile the template source, escaping string literals appropriately.\n\n  var index = 0;\n  var source = '__p+=\\'';\n  text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escaper, function (match) {\n      return '\\\\' + escapes[match];\n    });\n    if (escape) source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':escapeExpr(__t))+\\n\\'';\n    if (interpolate) source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n    if (evaluate) source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n    index = offset + match.length;\n    return match;\n  });\n  source += '\\';\\n'; // If a variable is not specified, place data values in local scope.\n\n  if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n  source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' + 'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' + source + 'return __p;\\n//# sourceURL=/microtemplates/source[' + counter++ + ']';\n\n  try {\n    /*jshint -W054 */\n    // TODO: find a way to avoid eval\n    render = new Function(settings.variable || 'obj', 'escapeExpr', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  if (data) return render(data, escapeExpr);\n\n  var template = function template(data) {\n    return render.call(this, data, escapeExpr);\n  }; // Provide the compiled function source as a convenience for precompilation.\n\n\n  template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n  return template;\n};\n\ntmpl.settings = settings;\n\nvar tracksHTML = \"<% for (var i = 0; i < tracks.length; i++) { %>\\n  <track data-html5-video-track=\\\"<%= i %>\\\" kind=\\\"<%= tracks[i].kind %>\\\" label=\\\"<%= tracks[i].label %>\\\" srclang=\\\"<%= tracks[i].lang %>\\\" src=\\\"<%= tracks[i].src %>\\\">\\n<% }; %>\\n\";\n\nvar css_248z$2 = \"[data-html5-video] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  display: block; }\\n\";\nstyleInject(css_248z$2);\n\nvar MIMETYPES = {\n  'mp4': ['avc1.42E01E', 'avc1.58A01E', 'avc1.4D401E', 'avc1.64001E', 'mp4v.20.8', 'mp4v.20.240', 'mp4a.40.2'].map(function (codec) {\n    return 'video/mp4; codecs=\"' + codec + ', mp4a.40.2\"';\n  }),\n  'ogg': ['video/ogg; codecs=\"theora, vorbis\"', 'video/ogg; codecs=\"dirac\"', 'video/ogg; codecs=\"theora, speex\"'],\n  '3gpp': ['video/3gpp; codecs=\"mp4v.20.8, samr\"'],\n  'webm': ['video/webm; codecs=\"vp8, vorbis\"'],\n  'mkv': ['video/x-matroska; codecs=\"theora, vorbis\"'],\n  'm3u8': ['application/x-mpegurl']\n};\nMIMETYPES['ogv'] = MIMETYPES['ogg'];\nMIMETYPES['3gp'] = MIMETYPES['3gpp'];\nvar AUDIO_MIMETYPES = {\n  'wav': ['audio/wav'],\n  'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n  'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n  'oga': ['audio/ogg']\n};\nvar KNOWN_AUDIO_MIMETYPES = Object.keys(AUDIO_MIMETYPES).reduce(function (acc, k) {\n  return [].concat(_toConsumableArray(acc), _toConsumableArray(AUDIO_MIMETYPES[k]));\n}, []);\nvar UNKNOWN_ERROR = {\n  code: 'unknown',\n  message: 'unknown'\n}; // TODO: rename this Playback to HTML5Playback (breaking change, only after 0.3.0)\n\nvar HTML5Video = /*#__PURE__*/function (_Playback) {\n  _inherits(HTML5Video, _Playback);\n\n  var _super = _createSuper(HTML5Video);\n\n  _createClass(HTML5Video, [{\n    key: \"name\",\n    get: function get() {\n      return 'html5_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return this.isAudioOnly ? 'audio' : 'video';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      var resourceUrl = this.options.src;\n\n      var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, AUDIO_MIMETYPES, this.options.mimeType);\n\n      return this.options.playback && this.options.playback.audioOnly || this.options.audioOnly || KNOWN_AUDIO_MIMETYPES.indexOf(mimeTypes[0]) >= 0;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html5-video': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'canplay': '_onCanPlay',\n        'canplaythrough': '_handleBufferingEvents',\n        'durationchange': '_onDurationChange',\n        'ended': '_onEnded',\n        'error': '_onError',\n        'loadeddata': '_onLoadedData',\n        'loadedmetadata': '_onLoadedMetadata',\n        'pause': '_onPause',\n        'playing': '_onPlaying',\n        'progress': '_onProgress',\n        'seeking': '_onSeeking',\n        'seeked': '_onSeeked',\n        'stalled': '_handleBufferingEvents',\n        'timeupdate': '_onTimeUpdate',\n        'waiting': '_onWaiting'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.el.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * This is related to the PLAYBACK_BUFFERING and PLAYBACK_BUFFERFULL events\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this._isBuffering;\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      return this.getPlaybackType() === Playback.LIVE;\n    }\n  }, {\n    key: \"dvrEnabled\",\n    get: function get() {\n      return this.getDuration() >= this._minDvrSize && this.isLive;\n    }\n  }, {\n    key: \"minimumDVRSizeConfig\",\n    get: function get() {\n      return this.options.playback && this.options.playback.minimumDvrSize;\n    }\n  }, {\n    key: \"isValidMinimumDVRSizeConfig\",\n    get: function get() {\n      return typeof this.minimumDVRSizeConfig !== 'undefined' && typeof this.minimumDVRSizeConfig === 'number';\n    }\n  }]);\n\n  function HTML5Video() {\n    var _this;\n\n    _classCallCheck(this, HTML5Video);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._destroyed = false;\n    _this._loadStarted = false;\n    _this._isBuffering = false;\n    _this._playheadMoving = false;\n    _this._playheadMovingTimer = null;\n    _this._stopped = false;\n    _this._ccTrackId = -1;\n\n    _this._setupSrc(_this.options.src); // backwards compatibility (TODO: remove on 0.3.0)\n\n\n    _this.options.playback || (_this.options.playback = _this.options || {});\n    _this.options.playback.disableContextMenu = _this.options.playback.disableContextMenu || _this.options.disableVideoTagContextMenu;\n    _this._minDvrSize = _this.isValidMinimumDVRSizeConfig ? _this.minimumDVRSizeConfig : 60;\n    var playbackConfig = _this.options.playback;\n    var preload = playbackConfig.preload || (Browser.isSafari ? 'auto' : _this.options.preload);\n    var posterUrl; // FIXME: poster plugin should always convert poster to object with expected properties ?\n\n    if (_this.options.poster) {\n      if (typeof _this.options.poster === 'string') posterUrl = _this.options.poster;else if (typeof _this.options.poster.url === 'string') posterUrl = _this.options.poster.url;\n    }\n\n    zepto.extend(_this.el, {\n      muted: _this.options.mute,\n      defaultMuted: _this.options.mute,\n      loop: _this.options.loop,\n      poster: posterUrl,\n      preload: preload || 'metadata',\n      crossOrigin: playbackConfig.crossOrigin,\n      'x-webkit-playsinline': playbackConfig.playInline\n    });\n    if (playbackConfig.controls || _this.options.useVideoTagDefaultControls) _this.$el.attr('controls', '');\n    playbackConfig.playInline && _this.$el.attr({\n      playsinline: 'playsinline'\n    });\n    playbackConfig.crossOrigin && _this.$el.attr({\n      crossorigin: playbackConfig.crossOrigin\n    }); // TODO should settings be private?\n\n    _this.settings = {\n      \"default\": ['seekbar']\n    };\n    _this.settings.left = ['playpause', 'position', 'duration'];\n    _this.settings.right = ['fullscreen', 'volume', 'hd-indicator'];\n    playbackConfig.externalTracks && _this._setupExternalTracks(playbackConfig.externalTracks);\n    _this.options.autoPlay && _this.attemptAutoPlay();\n    return _this;\n  }\n\n  _createClass(HTML5Video, [{\n    key: \"configure\",\n    value: function configure(options) {\n      _get(_getPrototypeOf(HTML5Video.prototype), \"configure\", this).call(this, options);\n\n      this.el.loop = !!options.loop;\n    } // See Playback.attemptAutoPlay()\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        error && Log.warn(_this2.name, 'autoplay error.', {\n          result: result,\n          error: error\n        }); // https://github.com/clappr/clappr/issues/1076\n\n        result && setTimeout(function () {\n          return !_this2._destroyed && _this2.play();\n        }, 0);\n      });\n    } // See Playback.canAutoPlay()\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      if (this.options.disableCanAutoPlay) {\n        cb(true, null);\n        return;\n      }\n\n      var opts = {\n        timeout: this.options.autoPlayTimeout || 500,\n        inline: this.options.playback.playInline || false,\n        muted: this.options.mute || false // Known issue: mediacontrols may asynchronously mute video\n\n      }; // Use current video element if recycling feature enabled with mobile devices\n\n      if (Browser.isMobile && DomRecycler.options.recycleVideo) opts.element = this.el; // Desktop browser autoplay policy may require user action\n      // Mobile browser autoplay require user consent and video recycling feature enabled\n      // It may returns a false positive with source-less player consent\n\n      canAutoPlayMedia(cb, opts);\n    }\n  }, {\n    key: \"_setupExternalTracks\",\n    value: function _setupExternalTracks(tracks) {\n      this._externalTracks = tracks.map(function (track) {\n        return {\n          kind: track.kind || 'subtitles',\n          // Default is 'subtitles'\n          label: track.label,\n          lang: track.lang,\n          src: track.src\n        };\n      });\n    }\n    /**\n     * Sets the source url on the <video> element, and also the 'src' property.\n     * @method setupSrc\n     * @private\n     * @param {String} srcUrl The source URL.\n     */\n\n  }, {\n    key: \"_setupSrc\",\n    value: function _setupSrc(srcUrl) {\n      if (this.el.src === srcUrl) return;\n      this._ccIsSetup = false;\n      this.el.src = srcUrl;\n      this._src = this.el.src;\n    }\n  }, {\n    key: \"_onLoadedMetadata\",\n    value: function _onLoadedMetadata(e) {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_LOADEDMETADATA, {\n        duration: e.target.duration,\n        data: e\n      });\n\n      this._updateSettings();\n\n      var autoSeekFromUrl = typeof this._options.autoSeekFromUrl === 'undefined' || this._options.autoSeekFromUrl;\n      if (this.getPlaybackType() !== Playback.LIVE && autoSeekFromUrl) this._checkInitialSeek();\n    }\n  }, {\n    key: \"_onDurationChange\",\n    value: function _onDurationChange() {\n      this._updateSettings();\n\n      this._onTimeUpdate(); // onProgress uses the duration\n\n\n      this._onProgress();\n    }\n  }, {\n    key: \"_updateSettings\",\n    value: function _updateSettings() {\n      // we can't figure out if hls resource is VoD or not until it is being loaded or duration has changed.\n      // that's why we check it again and update media control accordingly.\n      if (this.getPlaybackType() === Playback.VOD || this.getPlaybackType() === Playback.AOD) this.settings.left = ['playpause', 'position', 'duration'];else this.settings.left = ['playstop'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"isSeekEnabled\",\n    value: function isSeekEnabled() {\n      return isFinite(this.getDuration());\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      var onDemandType = this.tagName === 'audio' ? Playback.AOD : Playback.VOD;\n      return [0, undefined, Infinity].indexOf(this.el.duration) >= 0 ? Playback.LIVE : onDemandType;\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    } // On mobile device, HTML5 video element \"retains\" user action consent if\n    // load() method is called. See Player.consent().\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      var _this3 = this;\n\n      if (this.isPlaying()) {\n        _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", this).call(this, cb);\n      } else {\n        var eventHandler = function eventHandler() {\n          _this3.el.removeEventListener('loadedmetadata', eventHandler, false);\n\n          _this3.el.removeEventListener('error', eventHandler, false);\n\n          _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", _this3).call(_this3, cb);\n        };\n\n        this.el.addEventListener('loadedmetadata', eventHandler, false);\n        this.el.addEventListener('error', eventHandler, false);\n        this.el.load();\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.trigger(Events.PLAYBACK_PLAY_INTENT);\n      this._stopped = false;\n\n      this._setupSrc(this._src);\n\n      this._handleBufferingEvents();\n\n      var promise = this.el.play(); // For more details, see https://developers.google.com/web/updates/2016/03/play-returns-promise\n\n      if (promise && promise[\"catch\"]) promise[\"catch\"](function () {});\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.el.pause();\n      this.dvrEnabled && this._updateDvr(true);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.pause();\n      this._stopped = true; // src will be added again in play()\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_STOP);\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(value) {\n      if (value === 0) {\n        this.$el.attr({\n          muted: 'true'\n        });\n        this.el.muted = true;\n      } else {\n        this.$el.attr({\n          muted: null\n        });\n        this.el.muted = false;\n        this.el.volume = value / 100;\n      }\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.el.muted = true;\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.el.muted = false;\n    }\n  }, {\n    key: \"isMuted\",\n    value: function isMuted() {\n      return this.el.muted === true || this.el.volume === 0;\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return !this.el.paused && !this.el.ended;\n    }\n  }, {\n    key: \"_startPlayheadMovingChecks\",\n    value: function _startPlayheadMovingChecks() {\n      if (this._playheadMovingTimer !== null) return;\n      this._playheadMovingTimeOnCheck = null;\n\n      this._determineIfPlayheadMoving();\n\n      this._playheadMovingTimer = setInterval(this._determineIfPlayheadMoving.bind(this), 500);\n    }\n  }, {\n    key: \"_stopPlayheadMovingChecks\",\n    value: function _stopPlayheadMovingChecks() {\n      if (this._playheadMovingTimer === null) return;\n      clearInterval(this._playheadMovingTimer);\n      this._playheadMovingTimer = null;\n      this._playheadMoving = false;\n    }\n  }, {\n    key: \"_determineIfPlayheadMoving\",\n    value: function _determineIfPlayheadMoving() {\n      var before = this._playheadMovingTimeOnCheck;\n      var now = this.el.currentTime;\n      this._playheadMoving = before !== now;\n      this._playheadMovingTimeOnCheck = now;\n\n      this._handleBufferingEvents();\n    } // this seems to happen when the user is having to wait\n    // for something to happen AFTER A USER INTERACTION\n    // e.g the player might be buffering, but when `play()` is called\n    // only at this point will this be called.\n    // Or the user may seek somewhere but the new area requires buffering,\n    // so it will fire then as well.\n    // On devices where playing is blocked until requested with a user action,\n    // buffering may start, but never finish until the user initiates a play,\n    // but this only happens when play is actually requested\n\n  }, {\n    key: \"_onWaiting\",\n    value: function _onWaiting() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // called after the first frame has loaded\n    // note this doesn't fire on ios before the user has requested play\n    // ideally the \"loadstart\" event would be used instead, but this fires\n    // before a user has requested play on iOS, and also this is always fired\n    // even if the preload setting is \"none\". In both these cases this causes\n    // infinite buffering until the user does something which isn't great.\n\n  }, {\n    key: \"_onLoadedData\",\n    value: function _onLoadedData() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // note this doesn't fire on ios before user has requested play\n\n  }, {\n    key: \"_onCanPlay\",\n    value: function _onCanPlay() {\n      this._handleBufferingEvents();\n    }\n  }, {\n    key: \"_onPlaying\",\n    value: function _onPlaying() {\n      this._checkForClosedCaptions();\n\n      this._startPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PAUSE);\n    }\n  }, {\n    key: \"_onSeeking\",\n    value: function _onSeeking() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEK);\n    }\n  }, {\n    key: \"_onSeeked\",\n    value: function _onSeeked() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEKED);\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    } // The playback should be classed as buffering if the following are true:\n    // - the ready state is less then HAVE_FUTURE_DATA or the playhead isn't moving and it should be\n    // - the media hasn't \"ended\",\n    // - the media hasn't been stopped\n    // - loading has started\n\n  }, {\n    key: \"_handleBufferingEvents\",\n    value: function _handleBufferingEvents() {\n      var playheadShouldBeMoving = !this.el.ended && !this.el.paused;\n      var buffering = this._loadStarted && !this.el.ended && !this._stopped && (playheadShouldBeMoving && !this._playheadMoving || this.el.readyState < this.el.HAVE_FUTURE_DATA);\n\n      if (this._isBuffering !== buffering) {\n        this._isBuffering = buffering;\n        if (buffering) this.trigger(Events.PLAYBACK_BUFFERING, this.name);else this.trigger(Events.PLAYBACK_BUFFERFULL, this.name);\n      }\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError() {\n      var _ref = this.el.error || UNKNOWN_ERROR,\n          code = _ref.code,\n          message = _ref.message;\n\n      var isUnknownError = code === UNKNOWN_ERROR.code;\n      var formattedError = this.createError({\n        code: code,\n        description: message,\n        raw: this.el.error,\n        level: isUnknownError ? PlayerError.Levels.WARN : PlayerError.Levels.FATAL\n      });\n      if (isUnknownError) Log.warn(this.name, 'HTML5 unknown error: ', formattedError);else this.trigger(Events.PLAYBACK_ERROR, formattedError);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroyed = true;\n      this.handleTextTrackChange && this.el.textTracks.removeEventListener('change', this.handleTextTrackChange);\n\n      _get(_getPrototypeOf(HTML5Video.prototype), \"destroy\", this).call(this);\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._src = null;\n      DomRecycler.garbage(this.el);\n    }\n  }, {\n    key: \"_updateDvr\",\n    value: function _updateDvr(status) {\n      this.trigger(Events.PLAYBACK_DVR, status);\n      this.trigger(Events.PLAYBACK_STATS_ADD, {\n        'dvr': status\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      if (time < 0) {\n        Log.warn('Attempt to seek to a negative time. Resetting to live point. Use seekToLivePoint() to seek to the live point.');\n        time = this.getDuration();\n      } // assume live if time within 3 seconds of end of stream\n\n\n      this.dvrEnabled && this._updateDvr(time < this.getDuration() - 3);\n      time += this.el.seekable.start(0);\n      this.el.currentTime = time;\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var time = this.el.duration * (percentage / 100);\n      this.seek(time);\n    }\n  }, {\n    key: \"_checkInitialSeek\",\n    value: function _checkInitialSeek() {\n      var seekTime = seekStringToSeconds();\n      if (seekTime !== 0) this.seek(seekTime);\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.el.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      var _this4 = this;\n\n      if (this.isLive) {\n        try {\n          return this.el.seekable.end(0) - this.el.seekable.start(0);\n        } catch (e) {\n          setTimeout(function () {\n            return _this4._updateSettings();\n          }, 1000);\n        }\n      }\n\n      return this.el.duration;\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate() {\n      var duration = this.isLive ? this.getDuration() : this.el.duration;\n      this.trigger(Events.PLAYBACK_TIMEUPDATE, {\n        current: this.el.currentTime,\n        total: duration\n      }, this.name);\n    }\n  }, {\n    key: \"_onProgress\",\n    value: function _onProgress() {\n      if (!this.el.buffered.length) return;\n      var buffered = [];\n      var bufferedPos = 0;\n\n      for (var i = 0; i < this.el.buffered.length; i++) {\n        buffered = [].concat(_toConsumableArray(buffered), [{\n          start: this.el.buffered.start(i),\n          end: this.el.buffered.end(i)\n        }]);\n        if (this.el.currentTime >= buffered[i].start && this.el.currentTime <= buffered[i].end) bufferedPos = i;\n      }\n\n      var progress = {\n        start: buffered[bufferedPos].start,\n        current: buffered[bufferedPos].end,\n        total: this.el.duration\n      };\n      this.trigger(Events.PLAYBACK_PROGRESS, progress, buffered);\n    }\n  }, {\n    key: \"_typeFor\",\n    value: function _typeFor(src) {\n      var mimeTypes = HTML5Video._mimeTypesForUrl(src, MIMETYPES, this.options.mimeType);\n\n      if (mimeTypes.length === 0) mimeTypes = HTML5Video._mimeTypesForUrl(src, AUDIO_MIMETYPES, this.options.mimeType);\n      var mimeType = mimeTypes[0] || '';\n      return mimeType.split(';')[0];\n    }\n  }, {\n    key: \"_ready\",\n    value: function _ready() {\n      if (this._isReadyState) return;\n      this._isReadyState = true;\n      this.trigger(Events.PLAYBACK_READY, this.name);\n    }\n  }, {\n    key: \"_checkForClosedCaptions\",\n    value: function _checkForClosedCaptions() {\n      // Check if CC available only if current playback is HTML5Video\n      if (this.isHTML5Video && !this._ccIsSetup) {\n        if (this.hasClosedCaptionsTracks) {\n          this.trigger(Events.PLAYBACK_SUBTITLE_AVAILABLE);\n          var trackId = this.closedCaptionsTrackId;\n          this.closedCaptionsTrackId = trackId;\n          this.handleTextTrackChange = this._handleTextTrackChange.bind(this);\n          this.el.textTracks.addEventListener('change', this.handleTextTrackChange);\n        }\n\n        this._ccIsSetup = true;\n      }\n    }\n  }, {\n    key: \"_handleTextTrackChange\",\n    value: function _handleTextTrackChange() {\n      var tracks = this.closedCaptionsTracks;\n      var track = tracks.find(function (track) {\n        return track.track.mode === 'showing';\n      }) || {\n        id: -1\n      };\n\n      if (this._ccTrackId !== track.id) {\n        this._ccTrackId = track.id;\n        this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n          id: track.id\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.options.playback.disableContextMenu) {\n        this.$el.on('contextmenu', function () {\n          return false;\n        });\n      }\n\n      if (this._externalTracks && this._externalTracks.length > 0) {\n        this.$el.html(this.template({\n          tracks: this._externalTracks\n        }));\n      }\n\n      this._ready();\n\n      return this;\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return this._isReadyState;\n    }\n  }, {\n    key: \"isHTML5Video\",\n    get: function get() {\n      return this.name === HTML5Video.prototype.name;\n    }\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      var id = 0;\n\n      var trackId = function trackId() {\n        return id++;\n      };\n\n      var textTracks = this.el.textTracks ? Array.from(this.el.textTracks) : [];\n      return textTracks.filter(function (track) {\n        return track.kind === 'subtitles' || track.kind === 'captions';\n      }).map(function (track) {\n        return {\n          id: trackId(),\n          name: track.label,\n          track: track\n        };\n      });\n    }\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this._ccTrackId;\n    },\n    set: function set(trackId) {\n      if (!isNumber(trackId)) return;\n      var tracks = this.closedCaptionsTracks;\n      var showingTrack; // Note: -1 is for hide all tracks\n\n      if (trackId !== -1) {\n        showingTrack = tracks.find(function (track) {\n          return track.id === trackId;\n        });\n        if (!showingTrack) return; // Track id not found\n\n        if (showingTrack.track.mode === 'showing') return; // Track already showing\n      } // Since it is possible to display multiple tracks,\n      // ensure that all tracks are hidden.\n\n\n      tracks.filter(function (track) {\n        return track.track.mode !== 'hidden';\n      }).forEach(function (track) {\n        return track.track.mode = 'hidden';\n      });\n      showingTrack && (showingTrack.track.mode = 'showing');\n      this._ccTrackId = trackId;\n      this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n        id: trackId\n      });\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(tracksHTML);\n    }\n  }]);\n\n  return HTML5Video;\n}(Playback);\n\nHTML5Video._mimeTypesForUrl = function (resourceUrl, mimeTypesByExtension, mimeType) {\n  var extension = (resourceUrl.split('?')[0].match(/.*\\.(.*)$/) || [])[1];\n  var mimeTypes = mimeType || extension && mimeTypesByExtension[extension.toLowerCase()] || [];\n  return mimeTypes.constructor === Array ? mimeTypes : [mimeTypes];\n};\n\nHTML5Video._canPlay = function (type, mimeTypesByExtension, resourceUrl, mimeType) {\n  var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, mimeTypesByExtension, mimeType);\n\n  var media = document.createElement(type);\n  return !!mimeTypes.filter(function (mediaType) {\n    return !!media.canPlayType(mediaType).replace(/no/, '');\n  })[0];\n};\n\nHTML5Video.canPlay = function (resourceUrl, mimeType) {\n  return HTML5Video._canPlay('audio', AUDIO_MIMETYPES, resourceUrl, mimeType) || HTML5Video._canPlay('video', MIMETYPES, resourceUrl, mimeType);\n};\n\nvar HTML5Audio = /*#__PURE__*/function (_HTML5Video) {\n  _inherits(HTML5Audio, _HTML5Video);\n\n  var _super = _createSuper(HTML5Audio);\n\n  function HTML5Audio() {\n    _classCallCheck(this, HTML5Audio);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HTML5Audio, [{\n    key: \"updateSettings\",\n    value: function updateSettings() {\n      this.settings.left = ['playpause', 'position', 'duration'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.AOD;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html5_audio';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'audio';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HTML5Audio;\n}(HTML5Video);\n\nHTML5Audio.canPlay = function (resourceUrl, mimeType) {\n  var mimetypes = {\n    'wav': ['audio/wav'],\n    'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n    'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n    'oga': ['audio/ogg']\n  };\n  return HTML5Video._canPlay('audio', mimetypes, resourceUrl, mimeType);\n};\n\nvar css_248z$3 = \"[data-html-img] {\\n  max-width: 100%;\\n  max-height: 100%; }\\n\";\nstyleInject(css_248z$3);\n\nvar HTMLImg = /*#__PURE__*/function (_Playback) {\n  _inherits(HTMLImg, _Playback);\n\n  var _super = _createSuper(HTMLImg);\n\n  _createClass(HTMLImg, [{\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html_img';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'img';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html-img': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'load': '_onLoad',\n        'abort': '_onError',\n        'error': '_onError'\n      };\n    }\n  }]);\n\n  function HTMLImg(params) {\n    var _this;\n\n    _classCallCheck(this, HTMLImg);\n\n    _this = _super.call(this, params);\n    _this.el.src = params.src;\n    return _this;\n  }\n\n  _createClass(HTMLImg, [{\n    key: \"render\",\n    value: function render() {\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      return this;\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad() {\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(evt) {\n      var m = evt.type === 'error' ? 'load error' : 'loading aborted';\n      this.trigger(Events.PLAYBACK_ERROR, {\n        message: m\n      }, this.name);\n    }\n  }]);\n\n  return HTMLImg;\n}(Playback);\n\nHTMLImg.canPlay = function (resource) {\n  return /\\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\\?.*)$/i.test(resource);\n};\n\nvar noOpHTML = \"<canvas data-no-op-canvas></canvas>\\n<p data-no-op-msg><%=message%></p><p>\\n</p>\";\n\nvar css_248z$4 = \"[data-no-op] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  text-align: center; }\\n\\n[data-no-op] p[data-no-op-msg] {\\n  position: absolute;\\n  text-align: center;\\n  font-size: 25px;\\n  left: 0;\\n  right: 0;\\n  color: white;\\n  padding: 10px;\\n  /* center vertically */\\n  top: 50%;\\n  transform: translateY(-50%);\\n  max-height: 100%;\\n  overflow: auto; }\\n\\n[data-no-op] canvas[data-no-op-canvas] {\\n  background-color: #777;\\n  height: 100%;\\n  width: 100%; }\\n\";\nstyleInject(css_248z$4);\n\nvar NoOp = /*#__PURE__*/function (_Playback) {\n  _inherits(NoOp, _Playback);\n\n  var _super = _createSuper(NoOp);\n\n  _createClass(NoOp, [{\n    key: \"name\",\n    get: function get() {\n      return 'no_op';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(noOpHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-no-op': ''\n      };\n    }\n  }]);\n\n  function NoOp() {\n    var _this;\n\n    _classCallCheck(this, NoOp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._noiseFrameNum = -1;\n    return _this;\n  }\n\n  _createClass(NoOp, [{\n    key: \"render\",\n    value: function render() {\n      var playbackNotSupported = this.options.playbackNotSupportedMessage || this.i18n.t('playback_not_supported');\n      this.$el.html(this.template({\n        message: playbackNotSupported\n      }));\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      if (this.options.autoPlay || !showForNoOp) this._animate();\n      return this;\n    }\n  }, {\n    key: \"_noise\",\n    value: function _noise() {\n      this._noiseFrameNum = (this._noiseFrameNum + 1) % 5;\n\n      if (this._noiseFrameNum) {\n        // only update noise every 5 frames to save cpu\n        return;\n      }\n\n      var idata = this.context.createImageData(this.context.canvas.width, this.context.canvas.height);\n      var buffer32;\n\n      try {\n        buffer32 = new Uint32Array(idata.data.buffer);\n      } catch (err) {\n        buffer32 = new Uint32Array(this.context.canvas.width * this.context.canvas.height * 4);\n        var data = idata.data;\n\n        for (var i = 0; i < data.length; i++) {\n          buffer32[i] = data[i];\n        }\n      }\n\n      var len = buffer32.length,\n          m = Math.random() * 6 + 4;\n      var run = 0,\n          color = 0;\n\n      for (var _i = 0; _i < len;) {\n        if (run < 0) {\n          run = m * Math.random();\n          var p = Math.pow(Math.random(), 0.4);\n          color = 255 * p << 24;\n        }\n\n        run -= 1;\n        buffer32[_i++] = color;\n      }\n\n      this.context.putImageData(idata, 0, 0);\n    }\n  }, {\n    key: \"_loop\",\n    value: function _loop() {\n      var _this2 = this;\n\n      if (this._stop) return;\n\n      this._noise();\n\n      this._animationHandle = requestAnimationFrame(function () {\n        return _this2._loop();\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._animationHandle) {\n        cancelAnimationFrame(this._animationHandle);\n        this._stop = true;\n      }\n    }\n  }, {\n    key: \"_animate\",\n    value: function _animate() {\n      this.canvas = this.$el.find('canvas[data-no-op-canvas]')[0];\n      this.context = this.canvas.getContext('2d');\n\n      this._loop();\n    }\n  }]);\n\n  return NoOp;\n}(Playback);\n\nNoOp.canPlay = function (source) {\n  // eslint-disable-line no-unused-vars\n  return true;\n};\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar Styler = {\n  getStyleFor: function getStyleFor(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      baseUrl: ''\n    };\n    return zepto('<style class=\"clappr-style\"></style>').html(tmpl(style.toString())(options));\n  }\n};\n\n/**\n * The internationalization (i18n) plugin\n * @class Strings\n * @constructor\n * @extends CorePlugin\n * @module plugins\n */\n\nvar Strings = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(Strings, _CorePlugin);\n\n  var _super = _createSuper(Strings);\n\n  _createClass(Strings, [{\n    key: \"name\",\n    get: function get() {\n      return 'strings';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }]);\n\n  function Strings(core) {\n    var _this;\n\n    _classCallCheck(this, Strings);\n\n    _this = _super.call(this, core);\n\n    _this._initializeMessages();\n\n    return _this;\n  }\n  /**\n   * Gets a translated string for the given key.\n   * @method t\n   * @param {String} key the key to all messages\n   * @return {String} translated label\n   */\n\n\n  _createClass(Strings, [{\n    key: \"t\",\n    value: function t(key) {\n      var lang = this._language();\n\n      var fallbackLang = this._messages['en'];\n      var i18n = lang && this._messages[lang] || fallbackLang;\n      return i18n[key] || fallbackLang[key] || key;\n    }\n  }, {\n    key: \"_language\",\n    value: function _language() {\n      return this.core.options.language || getBrowserLanguage();\n    }\n  }, {\n    key: \"_initializeMessages\",\n    value: function _initializeMessages() {\n      var defaultMessages = {\n        'en': {\n          'live': 'live',\n          'back_to_live': 'back to live',\n          'disabled': 'Disabled',\n          'playback_not_supported': 'Your browser does not support the playback of this video. Please try using a different browser.',\n          'default_error_title': 'Could not play video.',\n          'default_error_message': 'There was a problem trying to load the video.'\n        },\n        'pt': {\n          'live': 'ao vivo',\n          'back_to_live': 'voltar para o ao vivo',\n          'disabled': 'Desativado',\n          'playback_not_supported': 'Seu navegador não supporta a reprodução deste video. Por favor, tente usar um navegador diferente.',\n          'default_error_title': 'Não foi possível reproduzir o vídeo.',\n          'default_error_message': 'Ocorreu um problema ao tentar carregar o vídeo.'\n        },\n        'es': {\n          'live': 'vivo',\n          'back_to_live': 'volver en vivo',\n          'disabled': 'Discapacitado',\n          'playback_not_supported': 'Su navegador no soporta la reproducción de un video. Por favor, trate de usar un navegador diferente.'\n        },\n        'ru': {\n          'live': 'прямой эфир',\n          'back_to_live': 'к прямому эфиру',\n          'disabled': 'Отключено',\n          'playback_not_supported': 'Ваш браузер не поддерживает воспроизведение этого видео. Пожалуйста, попробуйте другой браузер.'\n        },\n        'fr': {\n          'live': 'en direct',\n          'back_to_live': 'retour au direct',\n          'disabled': 'Désactivé',\n          'playback_not_supported': 'Votre navigateur ne supporte pas la lecture de cette vidéo. Merci de tenter sur un autre navigateur.',\n          'default_error_title': 'Impossible de lire la vidéo.',\n          'default_error_message': 'Un problème est survenu lors du chargement de la vidéo.'\n        },\n        'tr': {\n          'live': 'canlı',\n          'back_to_live': 'canlı yayına dön',\n          'disabled': 'Engelli',\n          'playback_not_supported': 'Tarayıcınız bu videoyu oynatma desteğine sahip değil. Lütfen farklı bir tarayıcı ile deneyin.'\n        },\n        'et': {\n          'live': 'Otseülekanne',\n          'back_to_live': 'Tagasi otseülekande juurde',\n          'disabled': 'Keelatud',\n          'playback_not_supported': 'Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit.'\n        },\n        'ar': {\n          'live': 'مباشر',\n          'back_to_live': 'الرجوع إلى المباشر',\n          'disabled': 'معطّل',\n          'playback_not_supported': 'المتصفح الذي تستخدمه لا يدعم تشغيل هذا الفيديو. الرجاء إستخدام متصفح آخر.',\n          'default_error_title': 'غير قادر الى التشغيل.',\n          'default_error_message': 'حدثت مشكلة أثناء تحميل الفيديو.'\n        }\n      };\n      this._messages = zepto.extend(true, defaultMessages, this.core.options.strings || {});\n      this._messages['pt-BR'] = this._messages['pt'];\n      this._messages['en-US'] = this._messages['en'];\n      this._messages['es-419'] = this._messages['es'];\n      this._messages['fr-FR'] = this._messages['fr'];\n      this._messages['tr-TR'] = this._messages['tr'];\n      this._messages['et-EE'] = this._messages['et'];\n      this._messages['ar-IQ'] = this._messages['ar'];\n    }\n  }]);\n\n  return Strings;\n}(CorePlugin);\n\nvar SourcesPlugin = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(SourcesPlugin, _CorePlugin);\n\n  var _super = _createSuper(SourcesPlugin);\n\n  function SourcesPlugin() {\n    _classCallCheck(this, SourcesPlugin);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SourcesPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_CONTAINERS_CREATED, this.onContainersCreated);\n    }\n  }, {\n    key: \"onContainersCreated\",\n    value: function onContainersCreated() {\n      var firstValidSource = this.core.containers.filter(function (container) {\n        return container.playback.name !== 'no_op';\n      })[0] || this.core.containers[0];\n      firstValidSource && this.core.containers.forEach(function (container) {\n        if (container !== firstValidSource) container.destroy();\n      });\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'sources';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.14\"\n      };\n    }\n  }]);\n\n  return SourcesPlugin;\n}(CorePlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version = \"0.4.14\"; // Built-in Plugins/Playbacks\n\nLoader.registerPlugin(Strings);\nLoader.registerPlugin(SourcesPlugin);\nLoader.registerPlayback(NoOp);\nLoader.registerPlayback(HTMLImg);\nLoader.registerPlayback(HTML5Audio);\nLoader.registerPlayback(HTML5Video);\nvar main = {\n  Player: Player,\n  Events: Events,\n  Browser: Browser,\n  ContainerPlugin: ContainerPlugin,\n  UIContainerPlugin: UIContainerPlugin,\n  CorePlugin: CorePlugin,\n  UICorePlugin: UICorePlugin,\n  Playback: Playback,\n  Container: Container,\n  Core: Core,\n  PlayerError: PlayerError,\n  Loader: Loader,\n  BaseObject: BaseObject,\n  UIObject: UIObject,\n  Utils: Utils,\n  HTML5Audio: HTML5Audio,\n  HTML5Video: HTML5Video,\n  HTMLImg: HTMLImg,\n  Log: Log,\n  Styler: Styler,\n  version: version,\n  template: tmpl,\n  $: zepto\n};\n\nexport default main;\nexport { zepto as $, BaseObject, Browser, Container, ContainerPlugin, Core, CorePlugin, Events, HTML5Audio, HTML5Video, HTMLImg, Loader, Log, Playback, Player, PlayerError, Styler, UIContainerPlugin, UICorePlugin, UIObject, Utils, tmpl as template, version };\n","import { Events, Playback, ContainerPlugin, template, UICorePlugin, CorePlugin, PlayerError, $, Utils, Browser, UIContainerPlugin } from '@clappr/core';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar ClickToPausePlugin = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(ClickToPausePlugin, _ContainerPlugin);\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'click_to_pause';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function ClickToPausePlugin(container) {\n    _classCallCheck(this, ClickToPausePlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ClickToPausePlugin).call(this, container));\n  }\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_CLICK, this.click);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      if (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled()) {\n        if (this.container.isPlaying()) this.container.pause();else this.container.play();\n      }\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var pointerEnabled = this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled();\n      if (pointerEnabled === this.pointerEnabled) return;\n      var method = pointerEnabled ? 'addClass' : 'removeClass';\n      this.container.$el[method]('pointer-enabled');\n      this.pointerEnabled = pointerEnabled;\n    }\n  }]);\n\n  return ClickToPausePlugin;\n}(ContainerPlugin);\n\nvar ccIcon = \"<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 49 41.8\\\" style=\\\"enable-background:new 0 0 49 41.8;\\\" xml:space=\\\"preserve\\\">\\n<path d=\\\"M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1\\n\\tc1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9\\n\\tC10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z\\\"/>\\n</svg>\";\n\nvar ccHTML = \"<button type=\\\"button\\\" class=\\\"cc-button media-control-button media-control-icon\\\" data-cc-button aria-label=\\\"<%= ariaLabel %>\\\"></button>\\n<ul>\\n  <% if (title) { %>\\n  <li data-title><%= title %></li>\\n  <% }; %>\\n  <li><a href=\\\"#\\\" data-cc-select=\\\"-1\\\"><%= disabledLabel %></a></li>\\n  <% for (var i = 0; i < tracks.length; i++) { %>\\n    <li><a href=\\\"#\\\" data-cc-select=\\\"<%= tracks[i].id %>\\\"><%= tracks[i].label %></a></li>\\n  <% }; %>\\n</ul>\\n\";\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".cc-controls[data-cc-controls] {\\n  float: right;\\n  position: relative;\\n  display: none; }\\n  .cc-controls[data-cc-controls].available {\\n    display: block; }\\n  .cc-controls[data-cc-controls] .cc-button {\\n    padding: 6px !important; }\\n    .cc-controls[data-cc-controls] .cc-button.enabled {\\n      display: block;\\n      opacity: 1.0; }\\n      .cc-controls[data-cc-controls] .cc-button.enabled:hover {\\n        opacity: 1.0;\\n        text-shadow: none; }\\n  .cc-controls[data-cc-controls] > ul {\\n    list-style-type: none;\\n    position: absolute;\\n    bottom: 25px;\\n    border: 1px solid black;\\n    display: none;\\n    background-color: #e6e6e6; }\\n  .cc-controls[data-cc-controls] li {\\n    font-size: 10px; }\\n    .cc-controls[data-cc-controls] li[data-title] {\\n      background-color: #c3c2c2;\\n      padding: 5px; }\\n    .cc-controls[data-cc-controls] li a {\\n      color: #444;\\n      padding: 2px 10px;\\n      display: block;\\n      text-decoration: none; }\\n      .cc-controls[data-cc-controls] li a:hover {\\n        background-color: #555;\\n        color: white; }\\n        .cc-controls[data-cc-controls] li a:hover a {\\n          color: white;\\n          text-decoration: none; }\\n    .cc-controls[data-cc-controls] li.current a {\\n      color: #f00; }\\n\";\nstyleInject(css);\n\nvar ClosedCaptions = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(ClosedCaptions, _UICorePlugin);\n\n  _createClass(ClosedCaptions, [{\n    key: \"name\",\n    get: function get() {\n      return 'closed_captions';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(ccHTML);\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-cc-button]': 'toggleContextMenu',\n        'click [data-cc-select]': 'onTrackSelect'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'cc-controls',\n        'data-cc-controls': ''\n      };\n    }\n  }]);\n\n  function ClosedCaptions(core) {\n    var _this;\n\n    _classCallCheck(this, ClosedCaptions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ClosedCaptions).call(this, core));\n    var config = core.options.closedCaptionsConfig;\n    _this._title = config && config.title ? config.title : null;\n    _this._ariaLabel = config && config.ariaLabel ? config.ariaLabel : 'cc-button';\n    _this._labelCb = config && config.labelCallback && typeof config.labelCallback === 'function' ? config.labelCallback : function (track) {\n      return track.name;\n    };\n    return _this;\n  }\n\n  _createClass(ClosedCaptions, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindCoreEvents();\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindCoreEvents\",\n    value: function bindCoreEvents() {\n      var _this2 = this;\n\n      if (this.core.mediaControl.settings) {\n        this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_HIDE, this.hideContextMenu);\n      } else {\n        setTimeout(function () {\n          return _this2.bindCoreEvents();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      this.container = this.core.activeContainer;\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_AVAILABLE, this.onSubtitleAvailable);\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_CHANGED, this.onSubtitleChanged);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onContainerStop);\n      }\n    }\n  }, {\n    key: \"onContainerStop\",\n    value: function onContainerStop() {\n      this.ccAvailable(false);\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.ccAvailable(false);\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"onSubtitleAvailable\",\n    value: function onSubtitleAvailable() {\n      this.renderCcButton();\n      this.ccAvailable(true);\n    }\n  }, {\n    key: \"onSubtitleChanged\",\n    value: function onSubtitleChanged(track) {\n      this.setCurrentContextMenuElement(track.id);\n    }\n  }, {\n    key: \"onTrackSelect\",\n    value: function onTrackSelect(event) {\n      var trackId = parseInt(event.target.dataset.ccSelect, 10);\n      this.container.closedCaptionsTrackId = trackId;\n      this.hideContextMenu();\n      event.stopPropagation();\n      return false;\n    }\n  }, {\n    key: \"ccAvailable\",\n    value: function ccAvailable(hasCC) {\n      var method = hasCC ? 'addClass' : 'removeClass';\n      this.$el[method]('available');\n    }\n  }, {\n    key: \"toggleContextMenu\",\n    value: function toggleContextMenu() {\n      this.$el.find('ul').toggle();\n    }\n  }, {\n    key: \"hideContextMenu\",\n    value: function hideContextMenu() {\n      this.$el.find('ul').hide();\n    }\n  }, {\n    key: \"contextMenuElement\",\n    value: function contextMenuElement(id) {\n      return this.$el.find('ul a' + (!isNaN(id) ? '[data-cc-select=\"' + id + '\"]' : '')).parent();\n    }\n  }, {\n    key: \"setCurrentContextMenuElement\",\n    value: function setCurrentContextMenuElement(trackId) {\n      if (this._trackId !== trackId) {\n        this.contextMenuElement().removeClass('current');\n        this.contextMenuElement(trackId).addClass('current');\n        var method = trackId > -1 ? 'addClass' : 'removeClass';\n        this.$ccButton[method]('enabled');\n        this._trackId = trackId;\n      }\n    }\n  }, {\n    key: \"renderCcButton\",\n    value: function renderCcButton() {\n      var tracks = this.container ? this.container.closedCaptionsTracks : [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        tracks[i].label = this._labelCb(tracks[i]);\n      }\n\n      this.$el.html(this.template({\n        ariaLabel: this._ariaLabel,\n        disabledLabel: this.core.i18n.t('disabled'),\n        title: this._title,\n        tracks: tracks\n      }));\n      this.$ccButton = this.$el.find('button.cc-button[data-cc-button]');\n      this.$ccButton.append(ccIcon);\n      this.$el.append(this.style);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.renderCcButton();\n      var $fullscreen = this.core.mediaControl.$el.find('button[data-fullscreen]');\n      if ($fullscreen[0]) this.$el.insertAfter($fullscreen);else this.core.mediaControl.$el.find('.media-control-right-panel[data-media-control]').prepend(this.$el);\n      return this;\n    }\n  }]);\n\n  return ClosedCaptions;\n}(UICorePlugin);\n\nvar dvrHTML = \"<div class=\\\"live-info\\\"><%= live %></div>\\n<button type=\\\"button\\\" class=\\\"live-button\\\" aria-label=\\\"<%= backToLive %>\\\"><%= backToLive %></button>\\n\";\n\nvar css$1 = \".dvr-controls[data-dvr-controls] {\\n  display: inline-block;\\n  float: left;\\n  color: #fff;\\n  line-height: 32px;\\n  font-size: 10px;\\n  font-weight: bold;\\n  margin-left: 6px; }\\n  .dvr-controls[data-dvr-controls] .live-info {\\n    cursor: default;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase; }\\n    .dvr-controls[data-dvr-controls] .live-info:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #ff0101; }\\n    .dvr-controls[data-dvr-controls] .live-info.disabled {\\n      opacity: 0.3; }\\n      .dvr-controls[data-dvr-controls] .live-info.disabled:before {\\n        background-color: #fff; }\\n  .dvr-controls[data-dvr-controls] .live-button {\\n    cursor: pointer;\\n    outline: none;\\n    display: none;\\n    border: 0;\\n    color: #fff;\\n    background-color: transparent;\\n    height: 32px;\\n    padding: 0;\\n    opacity: 0.7;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase;\\n    transition: all 0.1s ease; }\\n    .dvr-controls[data-dvr-controls] .live-button:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #fff; }\\n    .dvr-controls[data-dvr-controls] .live-button:hover {\\n      opacity: 1;\\n      text-shadow: rgba(255, 255, 255, 0.75) 0 0 5px; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-info {\\n  display: none; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-button {\\n  display: block; }\\n\\n.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #005aff; }\\n\\n.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #ff0101; }\\n\";\nstyleInject(css$1);\n\nvar DVRControls = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(DVRControls, _UICorePlugin);\n\n  _createClass(DVRControls, [{\n    key: \"template\",\n    get: function get() {\n      return template(dvrHTML);\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'dvr_controls';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click .live-button': 'click'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'dvr-controls',\n        'data-dvr-controls': ''\n      };\n    }\n  }]);\n\n  function DVRControls(core) {\n    var _this;\n\n    _classCallCheck(this, DVRControls);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DVRControls).call(this, core));\n\n    _this.settingsUpdate();\n\n    return _this;\n  }\n\n  _createClass(DVRControls, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindCoreEvents();\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindCoreEvents\",\n    value: function bindCoreEvents() {\n      var _this2 = this;\n\n      if (this.core.mediaControl.settings) {\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.containerChanged);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.settingsUpdate);\n        this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.render);\n      } else {\n        setTimeout(function () {\n          return _this2.bindCoreEvents();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      if (this.core.activeContainer) {\n        this.listenToOnce(this.core.activeContainer, Events.CONTAINER_TIMEUPDATE, this.render);\n        this.listenTo(this.core.activeContainer, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.dvrChanged);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"dvrChanged\",\n    value: function dvrChanged(dvrEnabled) {\n      if (this.core.getPlaybackType() !== Playback.LIVE) return;\n      this.settingsUpdate();\n      this.core.mediaControl.$el.addClass('live');\n\n      if (dvrEnabled) {\n        this.core.mediaControl.$el.addClass('dvr');\n        this.core.mediaControl.$el.find('.media-control-indicator[data-position], .media-control-indicator[data-duration]').hide();\n      } else {\n        this.core.mediaControl.$el.removeClass('dvr');\n      }\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      var mediaControl = this.core.mediaControl;\n      var container = mediaControl.container;\n      if (!container.isPlaying()) container.play();\n      if (mediaControl.$el.hasClass('dvr')) container.seek(container.getDuration());\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var _this3 = this;\n\n      this.stopListening();\n      this.core.mediaControl.$el.removeClass('live');\n\n      if (this.shouldRender()) {\n        this.render();\n        this.$el.click(function () {\n          return _this3.click();\n        });\n      }\n\n      this.bindEvents();\n    }\n  }, {\n    key: \"shouldRender\",\n    value: function shouldRender() {\n      var useDvrControls = this.core.options.useDvrControls === undefined || !!this.core.options.useDvrControls;\n      return useDvrControls && this.core.getPlaybackType() === Playback.LIVE;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template({\n        live: this.core.i18n.t('live'),\n        backToLive: this.core.i18n.t('back_to_live')\n      }));\n\n      if (this.shouldRender()) {\n        this.core.mediaControl.$el.addClass('live');\n        this.core.mediaControl.$('.media-control-left-panel[data-media-control]').append(this.$el);\n      }\n\n      return this;\n    }\n  }]);\n\n  return DVRControls;\n}(UICorePlugin);\n\nvar EndVideo = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(EndVideo, _CorePlugin);\n\n  function EndVideo() {\n    _classCallCheck(this, EndVideo);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EndVideo).apply(this, arguments));\n  }\n\n  _createClass(EndVideo, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_ENDED, this.ended);\n        this.listenTo(container, Events.CONTAINER_STOP, this.ended);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      var exitOnEnd = typeof this.core.options.exitFullscreenOnEnd === 'undefined' || this.core.options.exitFullscreenOnEnd;\n      if (exitOnEnd && this.core.isFullscreen()) this.core.toggleFullscreen();\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'end_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  return EndVideo;\n}(CorePlugin);\n\nvar reloadIcon = \"<svg fill=\\\"#FFFFFF\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\\\"/>\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/>\\n</svg>\";\n\nvar templateHtml = \"<div class=\\\"player-error-screen__content\\\" data-error-screen>\\n  <% if (icon) { %>\\n  <div class=\\\"player-error-screen__icon\\\" data-error-screen><%= icon %></div>\\n  <% } %>\\n  <div class=\\\"player-error-screen__title\\\" data-error-screen><%= title %></div>\\n  <div class=\\\"player-error-screen__message\\\" data-error-screen><%= message %></div>\\n  <div class=\\\"player-error-screen__code\\\" data-error-screen>Error code: <%= code %></div>\\n  <div class=\\\"player-error-screen__reload\\\" data-error-screen><%= reloadIcon %></div>\\n</div>\\n\";\n\nvar css$2 = \"div.player-error-screen {\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  color: #CCCACA;\\n  position: absolute;\\n  top: 0;\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  z-index: 2000;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center; }\\n  div.player-error-screen__content[data-error-screen] {\\n    font-size: 14px;\\n    color: #CCCACA;\\n    margin-top: 45px; }\\n  div.player-error-screen__title[data-error-screen] {\\n    font-weight: bold;\\n    line-height: 30px;\\n    font-size: 18px; }\\n  div.player-error-screen__message[data-error-screen] {\\n    width: 90%;\\n    margin: 0 auto; }\\n  div.player-error-screen__code[data-error-screen] {\\n    font-size: 13px;\\n    margin-top: 15px; }\\n  div.player-error-screen__reload {\\n    cursor: pointer;\\n    width: 30px;\\n    margin: 15px auto 0; }\\n\";\nstyleInject(css$2);\n\nvar ErrorScreen = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(ErrorScreen, _UICorePlugin);\n\n  _createClass(ErrorScreen, [{\n    key: \"name\",\n    get: function get() {\n      return 'error_screen';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(templateHtml);\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core.getCurrentContainer();\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-error-screen',\n        'data-error-screen': ''\n      };\n    }\n  }]);\n\n  function ErrorScreen(core) {\n    var _this;\n\n    _classCallCheck(this, ErrorScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorScreen).call(this, core));\n    if (_this.options.disableErrorScreen) return _possibleConstructorReturn(_this, _this.disable());\n    return _this;\n  }\n\n  _createClass(ErrorScreen, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.ERROR, this.onError);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onContainerChanged);\n    }\n  }, {\n    key: \"bindReload\",\n    value: function bindReload() {\n      this.reloadButton = this.$el.find('.player-error-screen__reload');\n      this.reloadButton && this.reloadButton.on('click', this.reload.bind(this));\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this2 = this;\n\n      this.listenToOnce(this.core, Events.CORE_READY, function () {\n        return _this2.container.play();\n      });\n      this.core.load(this.options.sources, this.options.mimeType);\n      this.unbindReload();\n    }\n  }, {\n    key: \"unbindReload\",\n    value: function unbindReload() {\n      this.reloadButton && this.reloadButton.off('click');\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.err = null;\n      this.unbindReload();\n      this.hide();\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (err.level === PlayerError.Levels.FATAL) {\n        this.err = err;\n        this.container.disableMediaControl();\n        this.container.stop();\n        this.show();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.render();\n      this.$el.show();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.err) return;\n      this.$el.html(this.template({\n        title: this.err.UI.title,\n        message: this.err.UI.message,\n        code: this.err.code,\n        icon: this.err.UI.icon || '',\n        reloadIcon: reloadIcon\n      }));\n      this.core.$el.append(this.el);\n      this.bindReload();\n      return this;\n    }\n  }]);\n\n  return ErrorScreen;\n}(UICorePlugin);\n\nvar playIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M1.425.35L14.575 8l-13.15 7.65V.35z\\\"/>\\n</svg>\";\n\nvar pauseIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z\\\"/>\\n</svg>\";\n\nvar oldIcon = $('link[rel=\"shortcut icon\"]');\n\nvar Favicon = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(Favicon, _CorePlugin);\n\n  _createClass(Favicon, [{\n    key: \"name\",\n    get: function get() {\n      return 'favicon';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"oldIcon\",\n    get: function get() {\n      return oldIcon;\n    }\n  }]);\n\n  function Favicon(core) {\n    var _this;\n\n    _classCallCheck(this, Favicon);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favicon).call(this, core));\n    _this._container = null;\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(Favicon, [{\n    key: \"configure\",\n    value: function configure() {\n      if (this.core.options.changeFavicon) {\n        if (!this.enabled) {\n          this.stopListening(this.core, Events.CORE_OPTIONS_CHANGE);\n          this.enable();\n        }\n      } else if (this.enabled) {\n        this.disable();\n        this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      this.core.activeContainer && this.containerChanged();\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this._container && this.stopListening(this._container);\n      this._container = this.core.activeContainer;\n      this.listenTo(this._container, Events.CONTAINER_PLAY, this.setPlayIcon);\n      this.listenTo(this._container, Events.CONTAINER_PAUSE, this.setPauseIcon);\n      this.listenTo(this._container, Events.CONTAINER_STOP, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ENDED, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ERROR, this.resetIcon);\n      this.resetIcon();\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      _get(_getPrototypeOf(Favicon.prototype), \"disable\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Favicon.prototype), \"destroy\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"createIcon\",\n    value: function createIcon(svg) {\n      var canvas = $('<canvas/>');\n      canvas[0].width = 16;\n      canvas[0].height = 16;\n      var ctx = canvas[0].getContext('2d');\n      ctx.fillStyle = '#000';\n      var d = $(svg).find('path').attr('d');\n      var path = new Path2D(d);\n      ctx.fill(path);\n      var icon = $('<link rel=\"shortcut icon\" type=\"image/png\"/>');\n      icon.attr('href', canvas[0].toDataURL('image/png'));\n      return icon;\n    }\n  }, {\n    key: \"setPlayIcon\",\n    value: function setPlayIcon() {\n      if (!this.playIcon) this.playIcon = this.createIcon(playIcon);\n      this.changeIcon(this.playIcon);\n    }\n  }, {\n    key: \"setPauseIcon\",\n    value: function setPauseIcon() {\n      if (!this.pauseIcon) this.pauseIcon = this.createIcon(pauseIcon);\n      this.changeIcon(this.pauseIcon);\n    }\n  }, {\n    key: \"resetIcon\",\n    value: function resetIcon() {\n      $('link[rel=\"shortcut icon\"]').remove();\n      $('head').append(this.oldIcon);\n    }\n  }, {\n    key: \"changeIcon\",\n    value: function changeIcon(icon) {\n      if (icon) {\n        $('link[rel=\"shortcut icon\"]').remove();\n        $('head').append(icon);\n      }\n    }\n  }]);\n\n  return Favicon;\n}(CorePlugin);\n\nvar GoogleAnalytics = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(GoogleAnalytics, _ContainerPlugin);\n\n  _createClass(GoogleAnalytics, [{\n    key: \"name\",\n    get: function get() {\n      return 'google_analytics';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function GoogleAnalytics(container) {\n    var _this;\n\n    _classCallCheck(this, GoogleAnalytics);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GoogleAnalytics).call(this, container));\n\n    if (_this.container.options.gaAccount) {\n      _this.account = _this.container.options.gaAccount;\n      _this.trackerName = _this.container.options.gaTrackerName ? _this.container.options.gaTrackerName + '.' : 'Clappr.';\n      _this.domainName = _this.container.options.gaDomainName;\n      _this.currentHDState = undefined;\n\n      _this.embedScript();\n    }\n\n    return _this;\n  }\n\n  _createClass(GoogleAnalytics, [{\n    key: \"embedScript\",\n    value: function embedScript() {\n      var _this2 = this;\n\n      if (!window._gat) {\n        var script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('async', 'async');\n        script.setAttribute('src', '//www.google-analytics.com/ga.js');\n\n        script.onload = function () {\n          return _this2.addEventListeners();\n        };\n\n        document.body.appendChild(script);\n      } else {\n        this.addEventListeners();\n      }\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      var _this3 = this;\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_READY, this.onReady);\n        this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n        this.listenTo(this.container, Events.CONTAINER_PAUSE, this.onPause);\n        this.listenTo(this.container, Events.CONTAINER_ENDED, this.onEnded);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n        this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKSTATE, this.onPlaybackChanged);\n        this.listenTo(this.container, Events.CONTAINER_VOLUME, function (event) {\n          return _this3.onVolumeChanged(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_SEEK, function (event) {\n          return _this3.onSeek(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_FULL_SCREEN, this.onFullscreen);\n        this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.onHD);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.onDVR);\n      }\n\n      _gaq.push([this.trackerName + '_setAccount', this.account]);\n\n      if (this.domainName) _gaq.push([this.trackerName + '_setDomainName', this.domainName]);\n    }\n  }, {\n    key: \"onReady\",\n    value: function onReady() {\n      this.push(['Video', 'Playback', this.container.playback.name]);\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.push(['Video', 'Play', this.container.playback.src]);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.push(['Video', 'Stop', this.container.playback.src]);\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.push(['Video', 'Ended', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.push(['Video', 'Buffering', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.push(['Video', 'Bufferfull', this.container.playback.src]);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.push(['Video', 'Error', this.container.playback.src]);\n    }\n  }, {\n    key: \"onHD\",\n    value: function onHD(isHD) {\n      var status = isHD ? 'ON' : 'OFF';\n\n      if (status !== this.currentHDState) {\n        this.currentHDState = status;\n        this.push(['Video', 'HD - ' + status, this.container.playback.src]);\n      }\n    }\n  }, {\n    key: \"onPlaybackChanged\",\n    value: function onPlaybackChanged(playbackState) {\n      if (playbackState.type !== null) this.push(['Video', 'Playback Type - ' + playbackState.type, this.container.playback.src]);\n    }\n  }, {\n    key: \"onDVR\",\n    value: function onDVR(dvrInUse) {\n      var status = dvrInUse ? 'ON' : 'OFF';\n      this.push(['Interaction', 'DVR - ' + status, this.container.playback.src]);\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.push(['Video', 'Pause', this.container.playback.src]);\n    }\n  }, {\n    key: \"onSeek\",\n    value: function onSeek() {\n      this.push(['Video', 'Seek', this.container.playback.src]);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.push(['Interaction', 'Volume', this.container.playback.src]);\n    }\n  }, {\n    key: \"onFullscreen\",\n    value: function onFullscreen() {\n      this.push(['Interaction', 'Fullscreen', this.container.playback.src]);\n    }\n  }, {\n    key: \"push\",\n    value: function push(array) {\n      var res = [this.trackerName + '_trackEvent'].concat(array);\n\n      _gaq.push(res);\n    }\n  }]);\n\n  return GoogleAnalytics;\n}(ContainerPlugin);\n\nvar global$1 = (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global$1.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global$1.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global$1.performance || {};\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() };\n\n/* eslint-disable */\n// Kibo is released under the MIT License. Copyright (c) 2013 marquete.\n// see https://github.com/marquete/kibo\nvar Kibo = function Kibo(element) {\n  this.element = element || window.document;\n  this.initialize();\n};\n\nKibo.KEY_NAMES_BY_CODE = {\n  8: 'backspace',\n  9: 'tab',\n  13: 'enter',\n  16: 'shift',\n  17: 'ctrl',\n  18: 'alt',\n  20: 'caps_lock',\n  27: 'esc',\n  32: 'space',\n  37: 'left',\n  38: 'up',\n  39: 'right',\n  40: 'down',\n  48: '0',\n  49: '1',\n  50: '2',\n  51: '3',\n  52: '4',\n  53: '5',\n  54: '6',\n  55: '7',\n  56: '8',\n  57: '9',\n  65: 'a',\n  66: 'b',\n  67: 'c',\n  68: 'd',\n  69: 'e',\n  70: 'f',\n  71: 'g',\n  72: 'h',\n  73: 'i',\n  74: 'j',\n  75: 'k',\n  76: 'l',\n  77: 'm',\n  78: 'n',\n  79: 'o',\n  80: 'p',\n  81: 'q',\n  82: 'r',\n  83: 's',\n  84: 't',\n  85: 'u',\n  86: 'v',\n  87: 'w',\n  88: 'x',\n  89: 'y',\n  90: 'z',\n  112: 'f1',\n  113: 'f2',\n  114: 'f3',\n  115: 'f4',\n  116: 'f5',\n  117: 'f6',\n  118: 'f7',\n  119: 'f8',\n  120: 'f9',\n  121: 'f10',\n  122: 'f11',\n  123: 'f12'\n};\nKibo.KEY_CODES_BY_NAME = {};\n\n(function () {\n  for (var key in Kibo.KEY_NAMES_BY_CODE) {\n    if (Object.prototype.hasOwnProperty.call(Kibo.KEY_NAMES_BY_CODE, key)) {\n      Kibo.KEY_CODES_BY_NAME[Kibo.KEY_NAMES_BY_CODE[key]] = +key;\n    }\n  }\n})();\n\nKibo.MODIFIERS = ['shift', 'ctrl', 'alt'];\n\nKibo.registerEvent = function () {\n  if (document.addEventListener) {\n    return function (element, eventName, func) {\n      element.addEventListener(eventName, func, false);\n    };\n  } else if (document.attachEvent) {\n    return function (element, eventName, func) {\n      element.attachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.unregisterEvent = function () {\n  if (document.removeEventListener) {\n    return function (element, eventName, func) {\n      element.removeEventListener(eventName, func, false);\n    };\n  } else if (document.detachEvent) {\n    return function (element, eventName, func) {\n      element.detachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.stringContains = function (string, substring) {\n  return string.indexOf(substring) !== -1;\n};\n\nKibo.neatString = function (string) {\n  return string.replace(/^\\s+|\\s+$/g, '').replace(/\\s+/g, ' ');\n};\n\nKibo.capitalize = function (string) {\n  return string.toLowerCase().replace(/^./, function (match) {\n    return match.toUpperCase();\n  });\n};\n\nKibo.isString = function (what) {\n  return Kibo.stringContains(Object.prototype.toString.call(what), 'String');\n};\n\nKibo.arrayIncludes = function () {\n  if (Array.prototype.indexOf) {\n    return function (haystack, needle) {\n      return haystack.indexOf(needle) !== -1;\n    };\n  } else {\n    return function (haystack, needle) {\n      for (var i = 0; i < haystack.length; i++) {\n        if (haystack[i] === needle) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n}();\n\nKibo.extractModifiers = function (keyCombination) {\n  var modifiers, i;\n  modifiers = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (Kibo.stringContains(keyCombination, Kibo.MODIFIERS[i])) {\n      modifiers.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  return modifiers;\n};\n\nKibo.extractKey = function (keyCombination) {\n  var keys, i;\n  keys = Kibo.neatString(keyCombination).split(' ');\n\n  for (i = 0; i < keys.length; i++) {\n    if (!Kibo.arrayIncludes(Kibo.MODIFIERS, keys[i])) {\n      return keys[i];\n    }\n  }\n};\n\nKibo.modifiersAndKey = function (keyCombination) {\n  var result, key;\n\n  if (Kibo.stringContains(keyCombination, 'any')) {\n    return Kibo.neatString(keyCombination).split(' ').slice(0, 2).join(' ');\n  }\n\n  result = Kibo.extractModifiers(keyCombination);\n  key = Kibo.extractKey(keyCombination);\n\n  if (key && !Kibo.arrayIncludes(Kibo.MODIFIERS, key)) {\n    result.push(key);\n  }\n\n  return result.join(' ');\n};\n\nKibo.keyName = function (keyCode) {\n  return Kibo.KEY_NAMES_BY_CODE[keyCode + ''];\n};\n\nKibo.keyCode = function (keyName) {\n  return +Kibo.KEY_CODES_BY_NAME[keyName];\n};\n\nKibo.prototype.initialize = function () {\n  var i,\n      that = this;\n  this.lastKeyCode = -1;\n  this.lastModifiers = {};\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    this.lastModifiers[Kibo.MODIFIERS[i]] = false;\n  }\n\n  this.keysDown = {\n    any: []\n  };\n  this.keysUp = {\n    any: []\n  };\n  this.downHandler = this.handler('down');\n  this.upHandler = this.handler('up');\n  Kibo.registerEvent(this.element, 'keydown', this.downHandler);\n  Kibo.registerEvent(this.element, 'keyup', this.upHandler);\n  Kibo.registerEvent(window, 'unload', function unloader() {\n    Kibo.unregisterEvent(that.element, 'keydown', that.downHandler);\n    Kibo.unregisterEvent(that.element, 'keyup', that.upHandler);\n    Kibo.unregisterEvent(window, 'unload', unloader);\n  });\n};\n\nKibo.prototype.handler = function (upOrDown) {\n  var that = this;\n  return function (e) {\n    var i, registeredKeys, lastModifiersAndKey;\n    e = e || window.event;\n    that.lastKeyCode = e.keyCode;\n\n    for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n      that.lastModifiers[Kibo.MODIFIERS[i]] = e[Kibo.MODIFIERS[i] + 'Key'];\n    }\n\n    if (Kibo.arrayIncludes(Kibo.MODIFIERS, Kibo.keyName(that.lastKeyCode))) {\n      that.lastModifiers[Kibo.keyName(that.lastKeyCode)] = true;\n    }\n\n    registeredKeys = that['keys' + Kibo.capitalize(upOrDown)];\n\n    for (i = 0; i < registeredKeys.any.length; i++) {\n      if (registeredKeys.any[i](e) === false && e.preventDefault) {\n        e.preventDefault();\n      }\n    }\n\n    lastModifiersAndKey = that.lastModifiersAndKey();\n\n    if (registeredKeys[lastModifiersAndKey]) {\n      for (i = 0; i < registeredKeys[lastModifiersAndKey].length; i++) {\n        if (registeredKeys[lastModifiersAndKey][i](e) === false && e.preventDefault) {\n          e.preventDefault();\n        }\n      }\n    }\n  };\n};\n\nKibo.prototype.registerKeys = function (upOrDown, newKeys, func) {\n  var i,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (registeredKeys[keys]) {\n      registeredKeys[keys].push(func);\n    } else {\n      registeredKeys[keys] = [func];\n    }\n  }\n\n  return this;\n}; // jshint maxdepth:5\n\n\nKibo.prototype.unregisterKeys = function (upOrDown, newKeys, func) {\n  var i,\n      j,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (func === null) {\n      delete registeredKeys[keys];\n    } else {\n      if (registeredKeys[keys]) {\n        for (j = 0; j < registeredKeys[keys].length; j++) {\n          if (String(registeredKeys[keys][j]) === String(func)) {\n            registeredKeys[keys].splice(j, 1);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n};\n\nKibo.prototype.off = function (keys) {\n  return this.unregisterKeys('down', keys, null);\n};\n\nKibo.prototype.delegate = function (upOrDown, keys, func) {\n  return func !== null || func !== undefined ? this.registerKeys(upOrDown, keys, func) : this.unregisterKeys(upOrDown, keys, func);\n};\n\nKibo.prototype.down = function (keys, func) {\n  return this.delegate('down', keys, func);\n};\n\nKibo.prototype.up = function (keys, func) {\n  return this.delegate('up', keys, func);\n};\n\nKibo.prototype.lastKey = function (modifier) {\n  if (!modifier) {\n    return Kibo.keyName(this.lastKeyCode);\n  }\n\n  return this.lastModifiers[modifier];\n};\n\nKibo.prototype.lastModifiersAndKey = function () {\n  var result, i;\n  result = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (this.lastKey(Kibo.MODIFIERS[i])) {\n      result.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  if (!Kibo.arrayIncludes(result, this.lastKey())) {\n    result.push(this.lastKey());\n  }\n\n  return result.join(' ');\n};\n\nvar index = {\n  Kibo: Kibo\n};\n\nvar css$3 = \".media-control-notransition {\\n  transition: none !important; }\\n\\n.media-control[data-media-control] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9999;\\n  pointer-events: none; }\\n  .media-control[data-media-control].dragging {\\n    pointer-events: auto;\\n    cursor: -webkit-grabbing !important;\\n    cursor: grabbing !important;\\n    cursor: url(\\\"closed-hand.cur\\\"), move; }\\n    .media-control[data-media-control].dragging * {\\n      cursor: -webkit-grabbing !important;\\n      cursor: grabbing !important;\\n      cursor: url(\\\"closed-hand.cur\\\"), move; }\\n  .media-control[data-media-control] .media-control-background[data-background] {\\n    position: absolute;\\n    height: 40%;\\n    width: 100%;\\n    bottom: 0;\\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));\\n    transition: opacity 0.6s ease-out; }\\n  .media-control[data-media-control] .media-control-icon {\\n    line-height: 0;\\n    letter-spacing: 0;\\n    speak: none;\\n    color: #fff;\\n    opacity: 0.5;\\n    vertical-align: middle;\\n    text-align: left;\\n    transition: all 0.1s ease; }\\n  .media-control[data-media-control] .media-control-icon:hover {\\n    color: white;\\n    opacity: 0.75;\\n    text-shadow: rgba(255, 255, 255, 0.8) 0 0 5px; }\\n  .media-control[data-media-control].media-control-hide .media-control-background[data-background] {\\n    opacity: 0; }\\n  .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] {\\n    bottom: -50px; }\\n    .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n      opacity: 0; }\\n  .media-control[data-media-control] .media-control-layer[data-controls] {\\n    position: absolute;\\n    bottom: 7px;\\n    width: 100%;\\n    height: 32px;\\n    font-size: 0;\\n    vertical-align: middle;\\n    pointer-events: auto;\\n    transition: bottom 0.4s ease-out; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      left: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control] {\\n      height: 100%;\\n      text-align: center;\\n      line-height: 32px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      right: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button {\\n      background-color: transparent;\\n      border: 0;\\n      margin: 0 6px;\\n      padding: 0;\\n      cursor: pointer;\\n      display: inline-block;\\n      width: 32px;\\n      height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg {\\n        width: 100%;\\n        height: 22px; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path {\\n          fill: white; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus {\\n        outline: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen] {\\n        float: right;\\n        background-color: transparent;\\n        border: 0;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator] {\\n        background-color: transparent;\\n        border: 0;\\n        cursor: default;\\n        display: none;\\n        float: right;\\n        height: 100%; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled {\\n          display: block;\\n          opacity: 1.0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover {\\n            opacity: 1.0;\\n            text-shadow: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause] {\\n        float: left; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop] {\\n        float: left; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position], .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      display: inline-block;\\n      font-size: 10px;\\n      color: white;\\n      cursor: default;\\n      line-height: 32px;\\n      position: relative; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position] {\\n      margin: 0 6px 0 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      color: rgba(255, 255, 255, 0.5);\\n      margin-right: 6px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before {\\n        content: \\\"|\\\";\\n        margin-right: 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] {\\n      position: absolute;\\n      top: -20px;\\n      left: 0;\\n      display: inline-block;\\n      vertical-align: middle;\\n      width: 100%;\\n      height: 25px;\\n      cursor: pointer; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] {\\n        width: 100%;\\n        height: 1px;\\n        position: relative;\\n        top: 12px;\\n        background-color: #666666; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #c2c2c2;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #005aff;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0;\\n          position: absolute;\\n          top: -3px;\\n          width: 5px;\\n          height: 7px;\\n          background-color: rgba(255, 255, 255, 0.5);\\n          transition: opacity 0.1s ease; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n        opacity: 1; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled {\\n        cursor: default; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n        position: absolute;\\n        transform: translateX(-50%);\\n        top: 2px;\\n        left: 0;\\n        width: 20px;\\n        height: 20px;\\n        opacity: 1;\\n        transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar] {\\n          position: absolute;\\n          left: 6px;\\n          top: 6px;\\n          width: 8px;\\n          height: 8px;\\n          border-radius: 10px;\\n          box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n          background-color: white; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] {\\n      float: right;\\n      display: inline-block;\\n      height: 32px;\\n      cursor: pointer;\\n      margin: 0 6px;\\n      box-sizing: border-box; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] {\\n        float: left;\\n        bottom: 0; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] {\\n          background-color: transparent;\\n          border: 0;\\n          box-sizing: content-box;\\n          width: 32px;\\n          height: 32px;\\n          opacity: 0.5; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover {\\n            opacity: 0.75; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg {\\n            height: 24px;\\n            position: relative;\\n            top: 3px; }\\n            .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path {\\n              fill: white; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg {\\n            margin-left: 2px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] {\\n        float: left;\\n        position: relative;\\n        overflow: hidden;\\n        top: 6px;\\n        width: 42px;\\n        height: 18px;\\n        padding: 3px 0;\\n        transition: width .2s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] {\\n          height: 1px;\\n          position: relative;\\n          top: 7px;\\n          margin: 0 3px;\\n          background-color: #666666; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #c2c2c2;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #005aff;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume] {\\n            opacity: 0;\\n            position: absolute;\\n            top: -3px;\\n            width: 5px;\\n            height: 7px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n            transition: opacity 0.1s ease; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] {\\n          position: absolute;\\n          transform: translateX(-50%);\\n          top: 0px;\\n          left: 0;\\n          width: 20px;\\n          height: 20px;\\n          opacity: 1;\\n          transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume] {\\n            position: absolute;\\n            left: 6px;\\n            top: 6px;\\n            width: 8px;\\n            height: 8px;\\n            border-radius: 10px;\\n            box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n            background-color: white; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume] {\\n          float: left;\\n          width: 4px;\\n          padding-left: 2px;\\n          height: 12px;\\n          opacity: 0.5;\\n          box-shadow: inset 2px 0 0 white;\\n          transition: transform .2s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill {\\n            box-shadow: inset 2px 0 0 #fff;\\n            opacity: 1; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:nth-of-type(1) {\\n            padding-left: 0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover {\\n            transform: scaleY(1.5); }\\n  .media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide {\\n    width: 0;\\n    height: 12px;\\n    top: 9px;\\n    padding: 0; }\\n\";\nstyleInject(css$3);\n\nvar mediaControlHTML = \"<div class=\\\"media-control-background\\\" data-background></div>\\n<div class=\\\"media-control-layer\\\" data-controls>\\n  <%  var renderBar = function(name) { %>\\n      <div class=\\\"bar-container\\\" data-<%= name %>>\\n        <div class=\\\"bar-background\\\" data-<%= name %>>\\n          <div class=\\\"bar-fill-1\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-fill-2\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-hover\\\" data-<%= name %>></div>\\n        </div>\\n        <div class=\\\"bar-scrubber\\\" data-<%= name %>>\\n          <div class=\\\"bar-scrubber-icon\\\" data-<%= name %>></div>\\n        </div>\\n      </div>\\n  <%  }; %>\\n  <%  var renderSegmentedBar = function(name, segments) {\\n      segments = segments || 10; %>\\n    <div class=\\\"bar-container\\\" data-<%= name %>>\\n    <% for (var i = 0; i < segments; i++) { %>\\n      <div class=\\\"segmented-bar-element\\\" data-<%= name %>></div>\\n    <% } %>\\n    </div>\\n  <% }; %>\\n  <% var renderDrawer = function(name, renderContent) { %>\\n      <div class=\\\"drawer-container\\\" data-<%= name %>>\\n        <div class=\\\"drawer-icon-container\\\" data-<%= name %>>\\n          <div class=\\\"drawer-icon media-control-icon\\\" data-<%= name %>></div>\\n          <span class=\\\"drawer-text\\\" data-<%= name %>></span>\\n        </div>\\n        <% renderContent(name); %>\\n      </div>\\n  <% }; %>\\n  <% var renderIndicator = function(name) { %>\\n      <div class=\\\"media-control-indicator\\\" data-<%= name %>></div>\\n  <% }; %>\\n  <% var renderButton = function(name) { %>\\n    <button type=\\\"button\\\" class=\\\"media-control-button media-control-icon\\\" data-<%= name %> aria-label=\\\"<%= name %>\\\"></button>\\n  <% }; %>\\n  <%  var templates = {\\n        bar: renderBar,\\n        segmentedBar: renderSegmentedBar,\\n      };\\n      var render = function(settingsList) {\\n        settingsList.forEach(function(setting) {\\n          if(setting === \\\"seekbar\\\") {\\n            renderBar(setting);\\n          } else if (setting === \\\"volume\\\") {\\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\\n          } else if (setting === \\\"duration\\\" || setting === \\\"position\\\") {\\n            renderIndicator(setting);\\n          } else {\\n            renderButton(setting);\\n          }\\n        });\\n      }; %>\\n  <% if (settings.default && settings.default.length) { %>\\n  <div class=\\\"media-control-center-panel\\\" data-media-control>\\n    <% render(settings.default); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.left && settings.left.length) { %>\\n  <div class=\\\"media-control-left-panel\\\" data-media-control>\\n    <% render(settings.left); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.right && settings.right.length) { %>\\n  <div class=\\\"media-control-right-panel\\\" data-media-control>\\n    <% render(settings.right); %>\\n  </div>\\n  <% } %>\\n</div>\\n\";\n\nvar stopIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 1.24h12.6v13.52h-12.6z\\\"/>\\n</svg>\";\n\nvar volumeIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z\\\"/>\\n</svg>\";\n\nvar volumeMuteIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z\\\"/>\\n</svg>\";\n\nvar fullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z\\\"/>\\n</svg>\";\n\nvar exitFullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z\\\"/>\\n</svg>\";\n\nvar hdIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z\\\"/>\\n</svg>\";\n\nvar Config = Utils.Config,\n    Fullscreen = Utils.Fullscreen,\n    formatTime = Utils.formatTime,\n    extend = Utils.extend,\n    removeArrayItem = Utils.removeArrayItem;\n\nvar MediaControl = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(MediaControl, _UICorePlugin);\n\n  _createClass(MediaControl, [{\n    key: \"name\",\n    get: function get() {\n      return 'media_control';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      var playbackIsNOOP = this.container && this.container.getPlaybackType() === Playback.NO_OP;\n      return this.userDisabled || playbackIsNOOP;\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core && this.core.activeContainer;\n    }\n  }, {\n    key: \"playback\",\n    get: function get() {\n      return this.core && this.core.activePlayback;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'media-control',\n        'data-media-control': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-play]': 'play',\n        'click [data-pause]': 'pause',\n        'click [data-playpause]': 'togglePlayPause',\n        'click [data-stop]': 'stop',\n        'click [data-playstop]': 'togglePlayStop',\n        'click [data-fullscreen]': 'toggleFullscreen',\n        'click .bar-container[data-seekbar]': 'seek',\n        'click .bar-container[data-volume]': 'onVolumeClick',\n        'click .drawer-icon[data-volume]': 'toggleMute',\n        'mouseenter .drawer-container[data-volume]': 'showVolumeBar',\n        'mouseleave .drawer-container[data-volume]': 'hideVolumeBar',\n        'mousedown .bar-container[data-volume]': 'startVolumeDrag',\n        'mousemove .bar-container[data-volume]': 'mousemoveOnVolumeBar',\n        'mousedown .bar-scrubber[data-seekbar]': 'startSeekDrag',\n        'mousemove .bar-container[data-seekbar]': 'mousemoveOnSeekBar',\n        'mouseleave .bar-container[data-seekbar]': 'mouseleaveOnSeekBar',\n        'mouseenter .media-control-layer[data-controls]': 'setUserKeepVisible',\n        'mouseleave .media-control-layer[data-controls]': 'resetUserKeepVisible'\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(mediaControlHTML);\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.container && this.container.isReady ? this.container.volume : this.intendedVolume;\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.volume === 0;\n    }\n  }]);\n\n  function MediaControl(core) {\n    var _this;\n\n    _classCallCheck(this, MediaControl);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MediaControl).call(this, core));\n    _this.persistConfig = _this.options.persistConfig;\n    _this.currentPositionValue = null;\n    _this.currentDurationValue = null;\n    _this.keepVisible = false;\n    _this.fullScreenOnVideoTagSupported = null; // unknown\n\n    _this.setInitialVolume();\n\n    _this.settings = {\n      left: ['play', 'stop', 'pause'],\n      right: ['volume'],\n      \"default\": ['position', 'seekbar', 'duration']\n    };\n    _this.kibo = new Kibo(_this.options.focusElement);\n\n    _this.bindKeyEvents();\n\n    if (_this.container) {\n      if (!$.isEmptyObject(_this.container.settings)) _this.settings = $.extend({}, _this.container.settings);\n    } else {\n      _this.settings = {};\n    }\n\n    _this.userDisabled = false;\n    if (_this.container && _this.container.mediaControlDisabled || _this.options.chromeless) _this.disable();\n\n    _this.stopDragHandler = function (event) {\n      return _this.stopDrag(event);\n    };\n\n    _this.updateDragHandler = function (event) {\n      return _this.updateDrag(event);\n    };\n\n    $(document).bind('mouseup', _this.stopDragHandler);\n    $(document).bind('mousemove', _this.updateDragHandler);\n    return _this;\n  }\n\n  _createClass(MediaControl, [{\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      var _this2 = this;\n\n      return {\n        setVolume: this.setVolume,\n        getVolume: function getVolume() {\n          return _this2.volume;\n        }\n      };\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this3 = this;\n\n      this.stopListening();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onActiveContainerChanged);\n      this.listenTo(this.core, Events.CORE_MOUSE_MOVE, this.show);\n      this.listenTo(this.core, Events.CORE_MOUSE_LEAVE, function () {\n        return _this3.hide(_this3.options.hideMediaControlDelay);\n      });\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this.show);\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_RESIZE, this.playerResize);\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      if (!this.container) return;\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_PAUSE, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_DBLCLICK, this.toggleFullscreen);\n      this.listenTo(this.container, Events.CONTAINER_TIMEUPDATE, this.onTimeUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PROGRESS, this.updateProgressBar);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_DISABLE, this.disable);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_ENABLE, this.enable);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.ended);\n      this.listenTo(this.container, Events.CONTAINER_VOLUME, this.onVolumeChanged);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.setInitialVolume);\n\n      if (this.container.playback.el.nodeName.toLowerCase() === 'video') {\n        // wait until the metadata has loaded and then check if fullscreen on video tag is supported\n        this.listenToOnce(this.container, Events.CONTAINER_LOADEDMETADATA, this.onLoadedMetadataOnVideoTag);\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.userDisabled = true;\n      this.hide();\n      this.unbindKeyEvents();\n      this.$el.hide();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (this.options.chromeless) return;\n      this.userDisabled = false;\n      this.bindKeyEvents();\n      this.show();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.container && this.container.play();\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.container && this.container.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.container && this.container.stop();\n    }\n  }, {\n    key: \"setInitialVolume\",\n    value: function setInitialVolume() {\n      var initialVolume = this.persistConfig ? Config.restore('volume') : 100;\n      var options = this.container && this.container.options || this.options;\n      this.setVolume(options.mute ? 0 : initialVolume, true);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.updateVolumeUI();\n    }\n  }, {\n    key: \"onLoadedMetadataOnVideoTag\",\n    value: function onLoadedMetadataOnVideoTag() {\n      var video = this.playback && this.playback.el; // video.webkitSupportsFullscreen is deprecated but iOS appears to only use this\n      // see https://github.com/clappr/clappr/issues/1127\n\n      if (!Fullscreen.fullscreenEnabled() && video.webkitSupportsFullscreen) {\n        this.fullScreenOnVideoTagSupported = true;\n        this.settingsUpdate();\n      }\n    }\n  }, {\n    key: \"updateVolumeUI\",\n    value: function updateVolumeUI() {\n      // this will be called after a render\n      if (!this.rendered) return; // update volume bar scrubber/fill on bar mode\n\n      this.$volumeBarContainer.find('.bar-fill-2').css({});\n      var containerWidth = this.$volumeBarContainer.width();\n      var barWidth = this.$volumeBarBackground.width();\n      var offset = (containerWidth - barWidth) / 2.0;\n      var pos = barWidth * this.volume / 100.0 + offset;\n      this.$volumeBarFill.css({\n        width: \"\".concat(this.volume, \"%\")\n      });\n      this.$volumeBarScrubber.css({\n        left: pos\n      }); // update volume bar segments on segmented bar mode\n\n      this.$volumeBarContainer.find('.segmented-bar-element').removeClass('fill');\n      var item = Math.ceil(this.volume / 10.0);\n      this.$volumeBarContainer.find('.segmented-bar-element').slice(0, item).addClass('fill');\n      this.$volumeIcon.html('');\n      this.$volumeIcon.removeClass('muted');\n\n      if (!this.muted) {\n        this.$volumeIcon.append(volumeIcon);\n      } else {\n        this.$volumeIcon.append(volumeMuteIcon);\n        this.$volumeIcon.addClass('muted');\n      }\n\n      this.applyButtonStyle(this.$volumeIcon);\n    }\n  }, {\n    key: \"changeTogglePlay\",\n    value: function changeTogglePlay() {\n      this.$playPauseToggle.html('');\n      this.$playStopToggle.html('');\n\n      if (this.container && this.container.isPlaying()) {\n        this.$playPauseToggle.append(pauseIcon);\n        this.$playStopToggle.append(stopIcon);\n        this.trigger(Events.MEDIACONTROL_PLAYING);\n      } else {\n        this.$playPauseToggle.append(playIcon);\n        this.$playStopToggle.append(playIcon);\n        this.trigger(Events.MEDIACONTROL_NOTPLAYING);\n        Browser.isMobile && this.show();\n      }\n\n      this.applyButtonStyle(this.$playPauseToggle);\n      this.applyButtonStyle(this.$playStopToggle);\n    }\n  }, {\n    key: \"mousemoveOnSeekBar\",\n    value: function mousemoveOnSeekBar(event) {\n      if (this.settings.seekEnabled) {\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left - this.$seekBarHover.width() / 2;\n        this.$seekBarHover.css({\n          left: offsetX\n        });\n      }\n\n      this.trigger(Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"mouseleaveOnSeekBar\",\n    value: function mouseleaveOnSeekBar(event) {\n      this.trigger(Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"onVolumeClick\",\n    value: function onVolumeClick(event) {\n      this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"mousemoveOnVolumeBar\",\n    value: function mousemoveOnVolumeBar(event) {\n      this.draggingVolumeBar && this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"playerResize\",\n    value: function playerResize(size) {\n      this.$fullscreenToggle.html('');\n      var icon = this.core.isFullscreen() ? exitFullscreenIcon : fullscreenIcon;\n      this.$fullscreenToggle.append(icon);\n      this.applyButtonStyle(this.$fullscreenToggle);\n      this.$el.find('.media-control').length !== 0 && this.$el.removeClass('w320');\n      if (size.width <= 320 || this.options.hideVolumeBar) this.$el.addClass('w320');\n    }\n  }, {\n    key: \"togglePlayPause\",\n    value: function togglePlayPause() {\n      this.container.isPlaying() ? this.container.pause() : this.container.play();\n      return false;\n    }\n  }, {\n    key: \"togglePlayStop\",\n    value: function togglePlayStop() {\n      this.container.isPlaying() ? this.container.stop() : this.container.play();\n    }\n  }, {\n    key: \"startSeekDrag\",\n    value: function startSeekDrag(event) {\n      if (!this.settings.seekEnabled) return;\n      this.draggingSeekBar = true;\n      this.$el.addClass('dragging');\n      this.$seekBarLoaded.addClass('media-control-notransition');\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"startVolumeDrag\",\n    value: function startVolumeDrag(event) {\n      this.draggingVolumeBar = true;\n      this.$el.addClass('dragging');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"stopDrag\",\n    value: function stopDrag(event) {\n      this.draggingSeekBar && this.seek(event);\n      this.$el.removeClass('dragging');\n      this.$seekBarLoaded.removeClass('media-control-notransition');\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition dragging');\n      this.draggingSeekBar = false;\n      this.draggingVolumeBar = false;\n    }\n  }, {\n    key: \"updateDrag\",\n    value: function updateDrag(event) {\n      if (this.draggingSeekBar) {\n        event.preventDefault();\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n        var pos = offsetX / this.$seekBarContainer.width() * 100;\n        pos = Math.min(100, Math.max(pos, 0));\n        this.setSeekPercentage(pos);\n      } else if (this.draggingVolumeBar) {\n        event.preventDefault();\n        this.setVolume(this.getVolumeFromUIEvent(event));\n      }\n    }\n  }, {\n    key: \"getVolumeFromUIEvent\",\n    value: function getVolumeFromUIEvent(event) {\n      var offsetY = event.pageX - this.$volumeBarContainer.offset().left;\n      var volumeFromUI = offsetY / this.$volumeBarContainer.width() * 100;\n      return volumeFromUI;\n    }\n  }, {\n    key: \"toggleMute\",\n    value: function toggleMute() {\n      this.setVolume(this.muted ? 100 : 0);\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      var _this4 = this;\n\n      var isInitialVolume = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      value = Math.min(100, Math.max(value, 0)); // this will hold the intended volume\n      // it may not actually get set to this straight away\n      // if the container is not ready etc\n\n      this.intendedVolume = value;\n      this.persistConfig && !isInitialVolume && Config.persist('volume', value);\n\n      var setWhenContainerReady = function setWhenContainerReady() {\n        if (_this4.container && _this4.container.isReady) {\n          _this4.container.setVolume(value);\n        } else {\n          _this4.listenToOnce(_this4.container, Events.CONTAINER_READY, function () {\n            _this4.container.setVolume(value);\n          });\n        }\n      };\n\n      if (!this.container) this.listenToOnce(this, Events.MEDIACONTROL_CONTAINERCHANGED, function () {\n        return setWhenContainerReady();\n      });else setWhenContainerReady();\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      this.trigger(Events.MEDIACONTROL_FULLSCREEN, this.name);\n      this.container.fullscreen();\n      this.core.toggleFullscreen();\n      this.resetUserKeepVisible();\n    }\n  }, {\n    key: \"onActiveContainerChanged\",\n    value: function onActiveContainerChanged() {\n      this.fullScreenOnVideoTagSupported = null;\n      this.bindEvents(); // set the new container to match the volume of the last one\n\n      this.setInitialVolume();\n      this.changeTogglePlay();\n      this.bindContainerEvents();\n      this.settingsUpdate();\n      this.container && this.container.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.container.isDvrInUse());\n      this.container && this.container.mediaControlDisabled && this.disable();\n      this.trigger(Events.MEDIACONTROL_CONTAINERCHANGED);\n    }\n  }, {\n    key: \"showVolumeBar\",\n    value: function showVolumeBar() {\n      this.hideVolumeId && clearTimeout(this.hideVolumeId);\n      this.$volumeBarContainer.removeClass('volume-bar-hide');\n    }\n  }, {\n    key: \"hideVolumeBar\",\n    value: function hideVolumeBar() {\n      var _this5 = this;\n\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 400;\n      if (!this.$volumeBarContainer) return;\n\n      if (this.draggingVolumeBar) {\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.hideVolumeBar();\n        }, timeout);\n      } else {\n        this.hideVolumeId && clearTimeout(this.hideVolumeId);\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.$volumeBarContainer.addClass('volume-bar-hide');\n        }, timeout);\n      }\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      this.changeTogglePlay();\n    }\n  }, {\n    key: \"updateProgressBar\",\n    value: function updateProgressBar(progress) {\n      var loadedStart = progress.start / progress.total * 100;\n      var loadedEnd = progress.current / progress.total * 100;\n      this.$seekBarLoaded.css({\n        left: \"\".concat(loadedStart, \"%\"),\n        width: \"\".concat(loadedEnd - loadedStart, \"%\")\n      });\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(timeProgress) {\n      if (this.draggingSeekBar) return; // TODO why should current time ever be negative?\n\n      var position = timeProgress.current < 0 ? timeProgress.total : timeProgress.current;\n      this.currentPositionValue = position;\n      this.currentDurationValue = timeProgress.total;\n      this.renderSeekBar();\n    }\n  }, {\n    key: \"renderSeekBar\",\n    value: function renderSeekBar() {\n      // this will be triggered as soon as these become available\n      if (this.currentPositionValue === null || this.currentDurationValue === null) return; // default to 100%\n\n      this.currentSeekBarPercentage = 100;\n      if (this.container && (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrInUse())) this.currentSeekBarPercentage = this.currentPositionValue / this.currentDurationValue * 100;\n      this.setSeekPercentage(this.currentSeekBarPercentage);\n      var newPosition = formatTime(this.currentPositionValue);\n      var newDuration = formatTime(this.currentDurationValue);\n\n      if (newPosition !== this.displayedPosition) {\n        this.$position.text(newPosition);\n        this.displayedPosition = newPosition;\n      }\n\n      if (newDuration !== this.displayedDuration) {\n        this.$duration.text(newDuration);\n        this.displayedDuration = newDuration;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      if (!this.settings.seekEnabled) return;\n      var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n      var pos = offsetX / this.$seekBarContainer.width() * 100;\n      pos = Math.min(100, Math.max(pos, 0));\n      this.container && this.container.seekPercentage(pos);\n      this.setSeekPercentage(pos);\n      return false;\n    }\n  }, {\n    key: \"setKeepVisible\",\n    value: function setKeepVisible() {\n      this.keepVisible = true;\n    }\n  }, {\n    key: \"resetKeepVisible\",\n    value: function resetKeepVisible() {\n      this.keepVisible = false;\n    }\n  }, {\n    key: \"setUserKeepVisible\",\n    value: function setUserKeepVisible() {\n      this.userKeepVisible = true;\n    }\n  }, {\n    key: \"resetUserKeepVisible\",\n    value: function resetUserKeepVisible() {\n      this.userKeepVisible = false;\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return !this.$el.hasClass('media-control-hide');\n    }\n  }, {\n    key: \"show\",\n    value: function show(event) {\n      var _this6 = this;\n\n      if (this.disabled) return;\n      var timeout = 2000;\n      var mousePointerMoved = event && event.clientX !== this.lastMouseX && event.clientY !== this.lastMouseY;\n\n      if (!event || mousePointerMoved || navigator.userAgent.match(/firefox/i)) {\n        clearTimeout(this.hideId);\n        this.$el.show();\n        this.trigger(Events.MEDIACONTROL_SHOW, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_SHOW, this.name);\n        this.$el.removeClass('media-control-hide');\n        this.hideId = setTimeout(function () {\n          return _this6.hide();\n        }, timeout);\n\n        if (event) {\n          this.lastMouseX = event.clientX;\n          this.lastMouseY = event.clientY;\n        }\n      }\n\n      var showing = true;\n      this.updateCursorStyle(showing);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this7 = this;\n\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!this.isVisible()) return;\n      var timeout = delay || 2000;\n      clearTimeout(this.hideId);\n      if (!this.disabled && this.options.hideMediaControl === false) return;\n      var hasKeepVisibleRequested = this.userKeepVisible || this.keepVisible;\n      var hasDraggingAction = this.draggingSeekBar || this.draggingVolumeBar;\n\n      if (!this.disabled && (delay || hasKeepVisibleRequested || hasDraggingAction)) {\n        this.hideId = setTimeout(function () {\n          return _this7.hide();\n        }, timeout);\n      } else {\n        this.trigger(Events.MEDIACONTROL_HIDE, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_HIDE, this.name);\n        this.$el.addClass('media-control-hide');\n        this.hideVolumeBar(0);\n        var showing = false;\n        this.updateCursorStyle(showing);\n      }\n    }\n  }, {\n    key: \"updateCursorStyle\",\n    value: function updateCursorStyle(showing) {\n      if (showing) this.core.$el.removeClass('nocursor');else if (this.core.isFullscreen()) this.core.$el.addClass('nocursor');\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var newSettings = this.getSettings();\n\n      if (newSettings && !this.fullScreenOnVideoTagSupported && !Fullscreen.fullscreenEnabled()) {\n        // remove fullscreen from settings if it is present\n        newSettings[\"default\"] && removeArrayItem(newSettings[\"default\"], 'fullscreen');\n        newSettings.left && removeArrayItem(newSettings.left, 'fullscreen');\n        newSettings.right && removeArrayItem(newSettings.right, 'fullscreen');\n      }\n\n      var settingsChanged = JSON.stringify(this.settings) !== JSON.stringify(newSettings);\n\n      if (settingsChanged) {\n        this.settings = newSettings;\n        this.render();\n      }\n    }\n  }, {\n    key: \"getSettings\",\n    value: function getSettings() {\n      return $.extend(true, {}, this.container && this.container.settings);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.isHD = isHD;\n      var method = isHD ? 'addClass' : 'removeClass';\n      this.$hdIndicator[method]('enabled');\n    }\n  }, {\n    key: \"createCachedElements\",\n    value: function createCachedElements() {\n      var $layer = this.$el.find('.media-control-layer');\n      this.$duration = $layer.find('.media-control-indicator[data-duration]');\n      this.$fullscreenToggle = $layer.find('button.media-control-button[data-fullscreen]');\n      this.$playPauseToggle = $layer.find('button.media-control-button[data-playpause]');\n      this.$playStopToggle = $layer.find('button.media-control-button[data-playstop]');\n      this.$position = $layer.find('.media-control-indicator[data-position]');\n      this.$seekBarContainer = $layer.find('.bar-container[data-seekbar]');\n      this.$seekBarHover = $layer.find('.bar-hover[data-seekbar]');\n      this.$seekBarLoaded = $layer.find('.bar-fill-1[data-seekbar]');\n      this.$seekBarPosition = $layer.find('.bar-fill-2[data-seekbar]');\n      this.$seekBarScrubber = $layer.find('.bar-scrubber[data-seekbar]');\n      this.$volumeBarContainer = $layer.find('.bar-container[data-volume]');\n      this.$volumeContainer = $layer.find('.drawer-container[data-volume]');\n      this.$volumeIcon = $layer.find('.drawer-icon[data-volume]');\n      this.$volumeBarBackground = this.$el.find('.bar-background[data-volume]');\n      this.$volumeBarFill = this.$el.find('.bar-fill-1[data-volume]');\n      this.$volumeBarScrubber = this.$el.find('.bar-scrubber[data-volume]');\n      this.$hdIndicator = this.$el.find('button.media-control-button[data-hd-indicator]');\n      this.resetIndicators();\n      this.initializeIcons();\n    }\n  }, {\n    key: \"resetIndicators\",\n    value: function resetIndicators() {\n      this.displayedPosition = this.$position.text();\n      this.displayedDuration = this.$duration.text();\n    }\n  }, {\n    key: \"initializeIcons\",\n    value: function initializeIcons() {\n      var $layer = this.$el.find('.media-control-layer');\n      $layer.find('button.media-control-button[data-play]').append(playIcon);\n      $layer.find('button.media-control-button[data-pause]').append(pauseIcon);\n      $layer.find('button.media-control-button[data-stop]').append(stopIcon);\n      this.$playPauseToggle.append(playIcon);\n      this.$playStopToggle.append(playIcon);\n      this.$volumeIcon.append(volumeIcon);\n      this.$fullscreenToggle.append(fullscreenIcon);\n      this.$hdIndicator.append(hdIcon);\n    }\n  }, {\n    key: \"setSeekPercentage\",\n    value: function setSeekPercentage(value) {\n      value = Math.max(Math.min(value, 100.0), 0); // not changed since last update\n\n      if (this.displayedSeekBarPercentage === value) return;\n      this.displayedSeekBarPercentage = value;\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition');\n      this.$seekBarPosition.css({\n        width: \"\".concat(value, \"%\")\n      });\n      this.$seekBarScrubber.css({\n        left: \"\".concat(value, \"%\")\n      });\n    }\n  }, {\n    key: \"seekRelative\",\n    value: function seekRelative(delta) {\n      if (!this.settings.seekEnabled) return;\n      var currentTime = this.container.getCurrentTime();\n      var duration = this.container.getDuration();\n      var position = Math.min(Math.max(currentTime + delta, 0), duration);\n      position = Math.min(position * 100 / duration, 100);\n      this.container.seekPercentage(position);\n    }\n  }, {\n    key: \"bindKeyAndShow\",\n    value: function bindKeyAndShow(key, callback) {\n      var _this8 = this;\n\n      this.kibo.down(key, function () {\n        _this8.show();\n\n        return callback();\n      });\n    }\n  }, {\n    key: \"bindKeyEvents\",\n    value: function bindKeyEvents() {\n      var _this9 = this;\n\n      if (Browser.isMobile || this.options.disableKeyboardShortcuts) return;\n      this.unbindKeyEvents();\n      this.kibo = new Kibo(this.options.focusElement || this.options.parentElement);\n      this.bindKeyAndShow('space', function () {\n        return _this9.togglePlayPause();\n      });\n      this.bindKeyAndShow('left', function () {\n        return _this9.seekRelative(-5);\n      });\n      this.bindKeyAndShow('right', function () {\n        return _this9.seekRelative(5);\n      });\n      this.bindKeyAndShow('shift left', function () {\n        return _this9.seekRelative(-10);\n      });\n      this.bindKeyAndShow('shift right', function () {\n        return _this9.seekRelative(10);\n      });\n      this.bindKeyAndShow('shift ctrl left', function () {\n        return _this9.seekRelative(-15);\n      });\n      this.bindKeyAndShow('shift ctrl right', function () {\n        return _this9.seekRelative(15);\n      });\n      var keys = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];\n      keys.forEach(function (i) {\n        _this9.bindKeyAndShow(i, function () {\n          _this9.settings.seekEnabled && _this9.container && _this9.container.seekPercentage(i * 10);\n        });\n      });\n    }\n  }, {\n    key: \"unbindKeyEvents\",\n    value: function unbindKeyEvents() {\n      if (this.kibo) {\n        this.kibo.off('space');\n        this.kibo.off('left');\n        this.kibo.off('right');\n        this.kibo.off('shift left');\n        this.kibo.off('shift right');\n        this.kibo.off('shift ctrl left');\n        this.kibo.off('shift ctrl right');\n        this.kibo.off(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']);\n      }\n    }\n  }, {\n    key: \"parseColors\",\n    value: function parseColors() {\n      if (this.options.mediacontrol) {\n        this.buttonsColor = this.options.mediacontrol.buttons;\n        var seekbarColor = this.options.mediacontrol.seekbar;\n        this.$el.find('.bar-fill-2[data-seekbar]').css('background-color', seekbarColor);\n        this.$el.find('.media-control-icon svg path').css('fill', this.buttonsColor);\n        this.$el.find('.segmented-bar-element[data-volume]').css('boxShadow', 'inset 2px 0 0 ' + this.buttonsColor);\n      }\n    }\n  }, {\n    key: \"applyButtonStyle\",\n    value: function applyButtonStyle(element) {\n      this.buttonsColor && element && $(element).find('svg path').css('fill', this.buttonsColor);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      $(document).unbind('mouseup', this.stopDragHandler);\n      $(document).unbind('mousemove', this.updateDragHandler);\n      this.unbindKeyEvents();\n      this.stopListening();\n\n      _get(_getPrototypeOf(MediaControl.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * enables to configure the media control after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      // Check if chromeless mode or if configure is called with new source(s)\n      if (this.options.chromeless || options.source || options.sources) this.disable();else this.enable();\n      this.trigger(Events.MEDIACONTROL_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      var timeout = this.options.hideMediaControlDelay || 2000;\n      this.settings && this.$el.html(this.template({\n        settings: this.settings\n      }));\n      this.createCachedElements();\n      this.$playPauseToggle.addClass('paused');\n      this.$playStopToggle.addClass('stopped');\n      this.changeTogglePlay();\n\n      if (this.container) {\n        this.hideId = setTimeout(function () {\n          return _this10.hide();\n        }, timeout);\n        this.disabled && this.hide();\n      } // Video volume cannot be changed with Safari on mobile devices\n      // Display mute/unmute icon only if Safari version >= 10\n\n\n      if (Browser.isSafari && Browser.isMobile) {\n        if (Browser.version < 10) this.$volumeContainer.css('display', 'none');else this.$volumeBarContainer.css('display', 'none');\n      }\n\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      var previousSeekPercentage = 0;\n      if (this.displayedSeekBarPercentage) previousSeekPercentage = this.displayedSeekBarPercentage;\n      this.displayedSeekBarPercentage = null;\n      this.setSeekPercentage(previousSeekPercentage);\n      nextTick(function () {\n        !_this10.settings.seekEnabled && _this10.$seekBarContainer.addClass('seek-disabled');\n        !Browser.isMobile && !_this10.options.disableKeyboardShortcuts && _this10.bindKeyEvents();\n\n        _this10.playerResize({\n          width: _this10.options.width,\n          height: _this10.options.height\n        });\n\n        _this10.hideVolumeBar(0);\n      });\n      this.parseColors();\n      this.highDefinitionUpdate(this.isHD);\n      this.core.$el.append(this.el);\n      this.rendered = true;\n      this.updateVolumeUI();\n      this.trigger(Events.MEDIACONTROL_RENDERED);\n      return this;\n    }\n  }]);\n\n  return MediaControl;\n}(UICorePlugin);\n\nMediaControl.extend = function (properties) {\n  return extend(MediaControl, properties);\n};\n\nvar posterHTML = \"<div class=\\\"play-wrapper\\\" data-poster></div>\\n\";\n\nvar css$4 = \".player-poster[data-poster] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 998;\\n  top: 0;\\n  left: 0;\\n  background-color: transparent;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: 50% 50%; }\\n  .player-poster[data-poster].clickable {\\n    cursor: pointer; }\\n  .player-poster[data-poster]:hover .play-wrapper[data-poster] {\\n    opacity: 1; }\\n  .player-poster[data-poster] .play-wrapper[data-poster] {\\n    width: 100%;\\n    height: 25%;\\n    margin: 0 auto;\\n    opacity: 0.75;\\n    transition: opacity 0.1s ease; }\\n    .player-poster[data-poster] .play-wrapper[data-poster] svg {\\n      height: 100%; }\\n      .player-poster[data-poster] .play-wrapper[data-poster] svg path {\\n        fill: #fff; }\\n\";\nstyleInject(css$4);\n\nvar PosterPlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(PosterPlugin, _UIContainerPlugin);\n\n  _createClass(PosterPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'poster';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(posterHTML);\n    }\n  }, {\n    key: \"shouldRender\",\n    get: function get() {\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      return this.container.playback.name !== 'html_img' && (this.container.playback.getPlaybackType() !== Playback.NO_OP || showForNoOp);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-poster',\n        'data-poster': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked'\n      };\n    }\n  }, {\n    key: \"showOnVideoEnd\",\n    get: function get() {\n      return !this.options.poster || this.options.poster.showOnVideoEnd || this.options.poster.showOnVideoEnd === undefined;\n    }\n  }]);\n\n  function PosterPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, PosterPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PosterPlugin).call(this, container));\n    _this.hasStartedPlaying = false;\n    _this.playRequested = false;\n\n    _this.render();\n\n    nextTick(function () {\n      return _this.update();\n    });\n    return _this;\n  }\n\n  _createClass(PosterPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.update);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.update);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.render);\n      this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n      this.showOnVideoEnd && this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(error) {\n      this.hasFatalError = error.level === PlayerError.Levels.FATAL;\n\n      if (this.hasFatalError) {\n        this.hasStartedPlaying = false;\n        this.playRequested = false;\n        this.showPlayButton();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.hasStartedPlaying = true;\n      this.update();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hasStartedPlaying = false;\n      this.playRequested = false;\n      this.update();\n    }\n  }, {\n    key: \"updatePlayButton\",\n    value: function updatePlayButton(show) {\n      if (show && (!this.options.chromeless || this.options.allowUserInteraction)) this.showPlayButton();else this.hidePlayButton();\n    }\n  }, {\n    key: \"showPlayButton\",\n    value: function showPlayButton() {\n      if (this.hasFatalError && !this.options.disableErrorScreen) return;\n      this.$playButton.show();\n      this.$el.addClass('clickable');\n    }\n  }, {\n    key: \"hidePlayButton\",\n    value: function hidePlayButton() {\n      this.$playButton.hide();\n      this.$el.removeClass('clickable');\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      // Let \"click_to_pause\" plugin handle click event if media has started playing\n      if (!this.hasStartedPlaying) {\n        if (!this.options.chromeless || this.options.allowUserInteraction) {\n          this.playRequested = true;\n          this.update();\n          this.container.play();\n        }\n\n        return false;\n      }\n    }\n  }, {\n    key: \"shouldHideOnPlay\",\n    value: function shouldHideOnPlay() {\n      // Audio broadcasts should keep the poster up; video should hide poster while playing.\n      return !this.container.playback.isAudioOnly;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.shouldRender) return;\n      var showPlayButton = !this.playRequested && !this.hasStartedPlaying && !this.container.buffering;\n      this.updatePlayButton(showPlayButton);\n      this.updatePoster();\n    }\n  }, {\n    key: \"updatePoster\",\n    value: function updatePoster() {\n      if (!this.hasStartedPlaying) this.showPoster();else this.hidePoster();\n    }\n  }, {\n    key: \"showPoster\",\n    value: function showPoster() {\n      this.container.disableMediaControl();\n      this.$el.show();\n    }\n  }, {\n    key: \"hidePoster\",\n    value: function hidePoster() {\n      this.container.enableMediaControl();\n      if (this.shouldHideOnPlay()) this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.shouldRender) return;\n      this.$el.html(this.template());\n      var isRegularPoster = this.options.poster && this.options.poster.custom === undefined;\n\n      if (isRegularPoster) {\n        var posterUrl = this.options.poster.url || this.options.poster;\n        this.$el.css({\n          'background-image': 'url(' + posterUrl + ')'\n        });\n      } else if (this.options.poster) {\n        this.$el.css({\n          'background': this.options.poster.custom\n        });\n      }\n\n      this.container.$el.append(this.el);\n      this.$playWrapper = this.$el.find('.play-wrapper');\n      this.$playWrapper.append(playIcon);\n      this.$playButton = this.$playWrapper.find('svg');\n      this.$playButton.addClass('poster-icon');\n      this.$playButton.attr('data-poster', '');\n      var buttonsColor = this.options.mediacontrol && this.options.mediacontrol.buttons;\n      if (buttonsColor) this.$el.find('svg path').css('fill', buttonsColor);\n\n      if (this.options.mediacontrol && this.options.mediacontrol.buttons) {\n        buttonsColor = this.options.mediacontrol.buttons;\n        this.$playButton.css('color', buttonsColor);\n      }\n\n      this.update();\n      return this;\n    }\n  }]);\n\n  return PosterPlugin;\n}(UIContainerPlugin);\n\nvar seekTimeHTML = \"<span data-seek-time></span>\\n<span data-duration></span>\\n\";\n\nvar css$5 = \".seek-time[data-seek-time] {\\n  position: absolute;\\n  white-space: nowrap;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 0;\\n  left: -100%;\\n  bottom: 55px;\\n  background-color: rgba(2, 2, 2, 0.5);\\n  z-index: 9999;\\n  transition: opacity 0.1s ease; }\\n  .seek-time[data-seek-time].hidden[data-seek-time] {\\n    opacity: 0; }\\n  .seek-time[data-seek-time] [data-seek-time] {\\n    display: inline-block;\\n    color: white;\\n    font-size: 10px;\\n    padding-left: 7px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n  .seek-time[data-seek-time] [data-duration] {\\n    display: inline-block;\\n    color: rgba(255, 255, 255, 0.5);\\n    font-size: 10px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n    .seek-time[data-seek-time] [data-duration]:before {\\n      content: \\\"|\\\";\\n      margin-right: 7px; }\\n\";\nstyleInject(css$5);\n\nvar formatTime$1 = Utils.formatTime;\n\nvar SeekTime = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(SeekTime, _UICorePlugin);\n\n  _createClass(SeekTime, [{\n    key: \"name\",\n    get: function get() {\n      return 'seek_time';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(seekTimeHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'seek-time',\n        'data-seek-time': ''\n      };\n    }\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this.core.mediaControl;\n    }\n  }, {\n    key: \"mediaControlContainer\",\n    get: function get() {\n      return this.mediaControl.container;\n    }\n  }, {\n    key: \"isLiveStreamWithDvr\",\n    get: function get() {\n      return this.mediaControlContainer && this.mediaControlContainer.getPlaybackType() === Playback.LIVE && this.mediaControlContainer.isDvrEnabled();\n    }\n  }, {\n    key: \"durationShown\",\n    get: function get() {\n      return this.isLiveStreamWithDvr && !this.actualLiveTime;\n    }\n  }, {\n    key: \"useActualLiveTime\",\n    get: function get() {\n      return this.actualLiveTime && this.isLiveStreamWithDvr;\n    }\n  }]);\n\n  function SeekTime(core) {\n    var _this;\n\n    _classCallCheck(this, SeekTime);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SeekTime).call(this, core));\n    _this.hoveringOverSeekBar = false;\n    _this.hoverPosition = null;\n    _this.duration = null;\n    _this.firstFragDateTime = null;\n    _this.actualLiveTime = !!_this.mediaControl.options.actualLiveTime;\n\n    if (_this.actualLiveTime) {\n      if (_this.mediaControl.options.actualLiveServerTime) _this.actualLiveServerTimeDiff = new Date().getTime() - new Date(_this.mediaControl.options.actualLiveServerTime).getTime();else _this.actualLiveServerTimeDiff = 0;\n    }\n\n    return _this;\n  }\n\n  _createClass(SeekTime, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, this.showTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, this.hideTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.onContainerChanged);\n\n      if (this.mediaControlContainer) {\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.update);\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_TIMEUPDATE, this.updateDuration);\n      }\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(timeProgress) {\n      this.duration = timeProgress.total;\n      this.firstFragDateTime = timeProgress.firstFragDateTime;\n      this.update();\n    }\n  }, {\n    key: \"showTime\",\n    value: function showTime(event) {\n      this.hoveringOverSeekBar = true;\n      this.calculateHoverPosition(event);\n      this.update();\n    }\n  }, {\n    key: \"hideTime\",\n    value: function hideTime() {\n      this.hoveringOverSeekBar = false;\n      this.update();\n    }\n  }, {\n    key: \"calculateHoverPosition\",\n    value: function calculateHoverPosition(event) {\n      var offset = event.pageX - this.mediaControl.$seekBarContainer.offset().left; // proportion into the seek bar that the mouse is hovered over 0-1\n\n      this.hoverPosition = Math.min(1, Math.max(offset / this.mediaControl.$seekBarContainer.width(), 0));\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime() {\n      var seekTime, secondsSinceMidnight, d, e;\n\n      if (this.useActualLiveTime) {\n        if (this.firstFragDateTime) {\n          e = new Date(this.firstFragDateTime);\n          d = new Date(this.firstFragDateTime);\n          d.setHours(0, 0, 0, 0);\n          secondsSinceMidnight = (e.getTime() - d.getTime()) / 1000 + this.duration;\n        } else {\n          d = new Date(new Date().getTime() - this.actualLiveServerTimeDiff);\n          e = new Date(d);\n          secondsSinceMidnight = (e - d.setHours(0, 0, 0, 0)) / 1000;\n        }\n\n        seekTime = secondsSinceMidnight - this.duration + this.hoverPosition * this.duration;\n        if (seekTime < 0) seekTime += 86400;\n      } else {\n        seekTime = this.hoverPosition * this.duration;\n      }\n\n      return {\n        seekTime: seekTime,\n        secondsSinceMidnight: secondsSinceMidnight\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.rendered) {\n        // update() is always called after a render\n        return;\n      }\n\n      if (!this.shouldBeVisible()) {\n        this.$el.hide();\n        this.$el.css('left', '-100%');\n      } else {\n        var seekTime = this.getSeekTime();\n        var currentSeekTime = formatTime$1(seekTime.seekTime, this.useActualLiveTime); // only update dom if necessary, ie time actually changed\n\n        if (currentSeekTime !== this.displayedSeekTime) {\n          this.$seekTimeEl.text(currentSeekTime);\n          this.displayedSeekTime = currentSeekTime;\n        }\n\n        if (this.durationShown) {\n          this.$durationEl.show();\n          var currentDuration = formatTime$1(this.actualLiveTime ? seekTime.secondsSinceMidnight : this.duration, this.actualLiveTime);\n\n          if (currentDuration !== this.displayedDuration) {\n            this.$durationEl.text(currentDuration);\n            this.displayedDuration = currentDuration;\n          }\n        } else {\n          this.$durationEl.hide();\n        } // the element must be unhidden before its width is requested, otherwise it's width will be reported as 0\n\n\n        this.$el.show();\n        var containerWidth = this.mediaControl.$seekBarContainer.width();\n        var elWidth = this.$el.width();\n        var elLeftPos = this.hoverPosition * containerWidth;\n        elLeftPos -= elWidth / 2;\n        elLeftPos = Math.max(0, Math.min(elLeftPos, containerWidth - elWidth));\n        this.$el.css('left', elLeftPos);\n      }\n    }\n  }, {\n    key: \"shouldBeVisible\",\n    value: function shouldBeVisible() {\n      return this.mediaControlContainer && this.mediaControlContainer.settings.seekEnabled && this.hoveringOverSeekBar && this.hoverPosition !== null && this.duration !== null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.rendered = true;\n      this.displayedDuration = null;\n      this.displayedSeekTime = null;\n      this.$el.html(this.template());\n      this.$el.hide();\n      this.mediaControl.$el.append(this.el);\n      this.$seekTimeEl = this.$el.find('[data-seek-time]');\n      this.$durationEl = this.$el.find('[data-duration]');\n      this.$durationEl.hide();\n      this.update();\n    }\n  }]);\n\n  return SeekTime;\n}(UICorePlugin);\n\nvar spinnerHTML = \"<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\\n\";\n\nvar css$6 = \".spinner-three-bounce[data-spinner] {\\n  position: absolute;\\n  margin: 0 auto;\\n  width: 70px;\\n  text-align: center;\\n  z-index: 999;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  /* center vertically */\\n  top: 50%;\\n  transform: translateY(-50%); }\\n  .spinner-three-bounce[data-spinner] > div {\\n    width: 18px;\\n    height: 18px;\\n    background-color: #FFFFFF;\\n    border-radius: 100%;\\n    display: inline-block;\\n    -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\\n            animation: bouncedelay 1.4s infinite ease-in-out;\\n    /* Prevent first frame from flickering when animation starts */\\n    -webkit-animation-fill-mode: both;\\n            animation-fill-mode: both; }\\n  .spinner-three-bounce[data-spinner] [data-bounce1] {\\n    -webkit-animation-delay: -0.32s;\\n            animation-delay: -0.32s; }\\n  .spinner-three-bounce[data-spinner] [data-bounce2] {\\n    -webkit-animation-delay: -0.16s;\\n            animation-delay: -0.16s; }\\n\\n@-webkit-keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    transform: scale(0); }\\n  40% {\\n    transform: scale(1); } }\\n\\n@keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    transform: scale(0); }\\n  40% {\\n    transform: scale(1); } }\\n\";\nstyleInject(css$6);\n\nvar SpinnerThreeBouncePlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(SpinnerThreeBouncePlugin, _UIContainerPlugin);\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'spinner';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-spinner': '',\n        'class': 'spinner-three-bounce'\n      };\n    }\n  }]);\n\n  function SpinnerThreeBouncePlugin(container) {\n    var _this;\n\n    _classCallCheck(this, SpinnerThreeBouncePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SpinnerThreeBouncePlugin).call(this, container));\n    _this.template = template(spinnerHTML);\n    _this.showTimeout = null;\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERING, _this.onBuffering);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERFULL, _this.onBufferFull);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STOP, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ENDED, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ERROR, _this.onStop);\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.show();\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.hide();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hide();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n      if (this.showTimeout === null) this.showTimeout = setTimeout(function () {\n        return _this2.$el.show();\n      }, 300);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.showTimeout !== null) {\n        clearTimeout(this.showTimeout);\n        this.showTimeout = null;\n      }\n\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template());\n      this.container.$el.append(this.$el);\n      this.$el.hide();\n      if (this.container.buffering) this.onBuffering();\n      return this;\n    }\n  }]);\n\n  return SpinnerThreeBouncePlugin;\n}(UIContainerPlugin);\n\nvar StatsPlugin = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(StatsPlugin, _ContainerPlugin);\n\n  _createClass(StatsPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'stats';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function StatsPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, StatsPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StatsPlugin).call(this, container));\n\n    _this.setInitialAttrs();\n\n    _this.reportInterval = _this.options.reportInterval || 5000;\n    _this.state = 'IDLE';\n    return _this;\n  }\n\n  _createClass(StatsPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container.playback, Events.PLAYBACK_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_DESTROYED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n      this.listenTo(this.container, Events.CONTAINER_STATS_ADD, this.onStatsAdd);\n      this.listenTo(this.container, Events.CONTAINER_BITRATE, this.onStatsAdd);\n      this.listenTo(this.container.playback, Events.PLAYBACK_STATS_ADD, this.onStatsAdd);\n    }\n  }, {\n    key: \"setInitialAttrs\",\n    value: function setInitialAttrs() {\n      this.firstPlay = true;\n      this.startupTime = 0;\n      this.rebufferingTime = 0;\n      this.watchingTime = 0;\n      this.rebuffers = 0;\n      this.externalMetrics = {};\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.state = 'PLAYING';\n      this.watchingTimeInit = Date.now();\n      if (!this.intervalId) this.intervalId = setInterval(this.report.bind(this), this.reportInterval);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      clearInterval(this.intervalId);\n      this.report();\n      this.intervalId = undefined;\n      this.state = 'STOPPED';\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      if (this.firstPlay) this.startupTimeInit = Date.now();else this.rebufferingTimeInit = Date.now();\n      this.state = 'BUFFERING';\n      this.rebuffers++;\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      if (this.firstPlay && this.startupTimeInit) {\n        this.firstPlay = false;\n        this.startupTime = Date.now() - this.startupTimeInit;\n        this.watchingTimeInit = Date.now();\n      } else if (this.rebufferingTimeInit) {\n        this.rebufferingTime += this.getRebufferingTime();\n      }\n\n      this.rebufferingTimeInit = undefined;\n      this.state = 'PLAYING';\n    }\n  }, {\n    key: \"getRebufferingTime\",\n    value: function getRebufferingTime() {\n      return Date.now() - this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"getWatchingTime\",\n    value: function getWatchingTime() {\n      var totalTime = Date.now() - this.watchingTimeInit;\n      return totalTime - this.rebufferingTime;\n    }\n  }, {\n    key: \"isRebuffering\",\n    value: function isRebuffering() {\n      return !!this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"onStatsAdd\",\n    value: function onStatsAdd(metric) {\n      $.extend(this.externalMetrics, metric);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var metrics = {\n        startupTime: this.startupTime,\n        rebuffers: this.rebuffers,\n        rebufferingTime: this.isRebuffering() ? this.rebufferingTime + this.getRebufferingTime() : this.rebufferingTime,\n        watchingTime: this.isRebuffering() ? this.getWatchingTime() - this.getRebufferingTime() : this.getWatchingTime()\n      };\n      $.extend(metrics, this.externalMetrics);\n      return metrics;\n    }\n  }, {\n    key: \"report\",\n    value: function report() {\n      this.container.statsReport(this.getStats());\n    }\n  }]);\n\n  return StatsPlugin;\n}(ContainerPlugin);\n\nvar watermarkHTML = \"<div class=\\\"clappr-watermark\\\" data-watermark data-watermark-<%=position %>>\\n<% if(typeof imageLink !== 'undefined') { %>\\n<a target=\\\"_blank\\\" href=\\\"<%= imageLink %>\\\">\\n<% } %>\\n<img src=\\\"<%= imageUrl %>\\\">\\n<% if(typeof imageLink !== 'undefined') { %>\\n</a>\\n<% } %>\\n</div>\\n\";\n\nvar css$7 = \".clappr-watermark[data-watermark] {\\n  position: absolute;\\n  min-width: 70px;\\n  max-width: 200px;\\n  width: 12%;\\n  text-align: center;\\n  z-index: 10; }\\n\\n.clappr-watermark[data-watermark] a {\\n  outline: none;\\n  cursor: pointer; }\\n\\n.clappr-watermark[data-watermark] img {\\n  max-width: 100%; }\\n\\n.clappr-watermark[data-watermark-bottom-left] {\\n  bottom: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-bottom-right] {\\n  bottom: 10px;\\n  right: 42px; }\\n\\n.clappr-watermark[data-watermark-top-left] {\\n  top: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-top-right] {\\n  top: 10px;\\n  right: 37px; }\\n\";\nstyleInject(css$7);\n\nvar WaterMarkPlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(WaterMarkPlugin, _UIContainerPlugin);\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'watermark';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(watermarkHTML);\n    }\n  }]);\n\n  function WaterMarkPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, WaterMarkPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WaterMarkPlugin).call(this, container));\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.configure);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      this.position = this.options.position || 'bottom-right';\n\n      if (this.options.watermark) {\n        this.imageUrl = this.options.watermark;\n        this.imageLink = this.options.watermarkLink;\n        this.render();\n      } else {\n        this.$el.remove();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (!this.hidden) this.$el.show();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.hide();\n      var templateOptions = {\n        position: this.position,\n        imageUrl: this.imageUrl,\n        imageLink: this.imageLink\n      };\n      this.$el.html(this.template(templateOptions));\n      this.container.$el.append(this.$el);\n      return this;\n    }\n  }]);\n\n  return WaterMarkPlugin;\n}(UIContainerPlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version = \"0.4.7\";\nvar Plugins = {\n  ClickToPause: ClickToPausePlugin,\n  ClosedCaptions: ClosedCaptions,\n  DVRControls: DVRControls,\n  EndVideo: EndVideo,\n  ErrorScreen: ErrorScreen,\n  Favicon: Favicon,\n  GoogleAnalytics: GoogleAnalytics,\n  MediaControl: MediaControl,\n  Poster: PosterPlugin,\n  SeekTime: SeekTime,\n  SpinnerThreeBounce: SpinnerThreeBouncePlugin,\n  Stats: StatsPlugin,\n  WaterMark: WaterMarkPlugin\n};\n\nexport { ClickToPausePlugin as ClickToPause, ClosedCaptions, DVRControls, EndVideo, ErrorScreen, Favicon, GoogleAnalytics, MediaControl, Plugins, PosterPlugin as Poster, SeekTime, SpinnerThreeBouncePlugin as SpinnerThreeBounce, StatsPlugin as Stats, index as Vendor, WaterMarkPlugin as WaterMark, version };\n","// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\nimport ClapprCore, { Loader } from '@clappr/core'\nimport { Plugins, Vendor } from '@clappr/plugins'\n\nconst version = VERSION\n\nfor (let plugin of Object.values(Plugins))\n  Loader.registerPlugin(plugin)\n\n// TODO: remove on 0.5.x (backward-compatibility only)\nconst {\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n} = Plugins\n\nexport default {\n  ...ClapprCore,\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n  Vendor,\n  Plugins,\n  version,\n}\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","value","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","_isNativeReflectConstruct","result","Super","NewTarget","this","_get","property","receiver","get","base","hasOwnProperty","_superPropBase","desc","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","minLen","n","slice","name","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","return","find","predicate","thisArg","k","kValue","entries","ownProps","resArray","values","assign","varArgs","to","index","nextSource","nextKey","findIndex","$","Media","mp4","Zepto","classList","camelize","uniq","emptyArray","concat","document","window","elementDisplay","classCache","cssNumber","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","table","createElement","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","class2type","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","type","String","isFunction","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","likeArray","dasherize","str","replace","toLowerCase","classRE","RegExp","maybeAddPx","children","element","map","childNodes","node","Z","dom","selector","extend","deep","undefined$1","filtered","nodes","funcArg","context","arg","idx","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","fun","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","parent","parentNode","temp","appendChild","qsa","indexOf","removeChild","chr","toUpperCase","array","item","fragment","html","properties","container","$1","innerHTML","each","attr","isZ","init","trim","ready","args","shift","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","documentElement","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","noop","elements","callback","fn","grep","JSON","parse","split","reduce","sort","splice","toArray","el","readyState","body","addEventListener","size","remove","every","not","add","is","excludes","has","eq","first","last","$this","some","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","show","nodeName","display","style","getComputedStyle","getPropertyValue","replaceWith","newContent","before","wrap","structure","func","clone","wrapAll","cloneNode","append","wrapInner","unwrap","hide","css","toggle","setting","prev","originHtml","text","newText","textContent","join","getAttribute","removeAttr","attribute","prop","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","removeClass","toggleClass","when","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","position","parseFloat","detach","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","jsonpID","rscript","scriptTypeRE","xmlTypeRE","blankRE","originAnchor","triggerGlobal","settings","eventName","global","event","Event","trigger","isDefaultPrevented","triggerAndReturn","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","status","complete","active","ajaxStop","appendQuery","url","query","parseArguments","dataType","href","location","ajaxJSONP","options","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","script","originalCallback","abort","errorType","triggerHandler","promise","on","clearTimeout","off","head","timeout","setTimeout","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","cache","dataFilter","urlAnchor","hashIndex","Deferred","ajaxStart","protocol","host","param","traditional","serializeData","hasPlaceholder","now","jsonp","mime","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","mimeToDataType","getResponseHeader","responseType","response","responseText","ajaxDataFilter","eval","responseXML","statusText","async","open","username","password","xhrFields","send","post","getJSON","load","parts","escape","encodeURIComponent","params","serialize","scope","hash","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","fire","stopOnFalse","disable","start","unique","disabled","lock","locked","fireWith","tuples","state","always","fail","then","fns","defer","tuple","returned","resolve","reject","progress","notify","stateString","sub","progressValues","progressContexts","resolveContexts","resolveValues","remain","updateFn","ctx","notifyWith","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","zid","findHandlers","ns","matcher","handler","sel","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unshift","bind","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","sourceMethod","timeStamp","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","dispatchEvent","createEvent","bubbles","initEvent","nativeGetComputedStyle","pseudoElement","oldQsa","oldMatches","visible","filters","hidden","checked","filterRe","childRe","classTag","process","exec","taggedParent","console","viewportObject","ua","BROWSER_DATA","group","identifier","versionIdentifier","OS_DATA","version","versionSeparator","Browser","setBrowserVersion","browserObject","splitVersion","fullVersion","majorVersion","parseInt","minorVersion","setOsVersion","separator","osObject","finalSeparator","substr","browserInfo","extra","navigator","appName","appVersion","getBrowserInfo","userAgent","isEdge","isChrome","isSafari","isFirefox","isLegacyIE","ActiveXObject","isIE","isIE11","isChromecast","isMobile","isiOS","isAndroid","isWindowsPhone","isWin8App","isWiiU","isPS4","hasLocalstorage","localStorage","setItem","removeItem","hasFlash","mimeTypes","enabledPlugin","_step","_iterator","browser","browserRegExpResult","versionRegExpResult","getBrowserData","os","_step2","_iterator2","osRegExpResult","getOsData","viewport","device","orientation","setViewportOrientation","idsCounter","videoStack","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","propDescriptor","Surrogate","_parent","_super","_this","_len","_key","initialize","Fullscreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","querySelector","webkitEnterFullScreen","cancelFullscreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","Config","volume","_defaultConfig","domain","_createKeyspace","_defaultValueFor","QueryString","paramsString","pl","search","decode","decodeURIComponent","substring","_urlParams","_hashParams","seekStringToSeconds","paramName","seconds","seekString","hashParams","factor","h","suffix","time","uniqueId","prefix","isNumber","currentScriptUrl","scripts","getBrowserLanguage","language","canAutoPlayMedia","cb","inline","muted","play","timeoutId","setResult","Error","DomRecycler","recycleVideo","tagName","attributes","DoubleEventHandler","delay","lastTime","prevented","currentTime","getTime","diffTime","Utils","formatTime","paddedHours","minutes","hours","days","out","performance","removeArrayItem","listContainsIgnoreCase","items","itemEach","BOLD","WARN","ERROR","COLORS","DESCRIPTIONS","Log","level","offLevel","EXCLUDE_LIST","previousLevel","_level","newLevel","log","message","color","klassDescription","LEVEL_DEBUG","LEVEL_INFO","LEVEL_WARN","LEVEL_ERROR","getInstance","_instance","setLevel","debug","info","warn","eventSplitter","eventsApi","action","rest","names","l","triggerEvents","ev","a1","a2","a3","run","exception","Events","_events","_once","retain","j","_callback","allEvents","all","listeningTo","_listeningTo","_listenId","Custom","listenMethods","listenTo","listenToOnce","method","PLAYER_READY","PLAYER_RESIZE","PLAYER_FULLSCREEN","PLAYER_PLAY","PLAYER_PAUSE","PLAYER_STOP","PLAYER_ENDED","PLAYER_SEEK","PLAYER_ERROR","PLAYER_TIMEUPDATE","PLAYER_VOLUMEUPDATE","PLAYER_SUBTITLE_AVAILABLE","PLAYBACK_PROGRESS","PLAYBACK_TIMEUPDATE","PLAYBACK_READY","PLAYBACK_BUFFERING","PLAYBACK_BUFFERFULL","PLAYBACK_SETTINGSUPDATE","PLAYBACK_LOADEDMETADATA","PLAYBACK_HIGHDEFINITIONUPDATE","PLAYBACK_BITRATE","PLAYBACK_LEVELS_AVAILABLE","PLAYBACK_LEVEL_SWITCH_START","PLAYBACK_LEVEL_SWITCH_END","PLAYBACK_PLAYBACKSTATE","PLAYBACK_DVR","PLAYBACK_MEDIACONTROL_DISABLE","PLAYBACK_MEDIACONTROL_ENABLE","PLAYBACK_ENDED","PLAYBACK_PLAY_INTENT","PLAYBACK_PLAY","PLAYBACK_PAUSE","PLAYBACK_SEEK","PLAYBACK_SEEKED","PLAYBACK_STOP","PLAYBACK_ERROR","PLAYBACK_STATS_ADD","PLAYBACK_FRAGMENT_LOADED","PLAYBACK_LEVEL_SWITCH","PLAYBACK_SUBTITLE_AVAILABLE","PLAYBACK_SUBTITLE_CHANGED","CORE_CONTAINERS_CREATED","CORE_ACTIVE_CONTAINER_CHANGED","CORE_OPTIONS_CHANGE","CORE_READY","CORE_FULLSCREEN","CORE_RESIZE","CORE_SCREEN_ORIENTATION_CHANGED","CORE_MOUSE_MOVE","CORE_MOUSE_LEAVE","CONTAINER_PLAYBACKSTATE","CONTAINER_PLAYBACKDVRSTATECHANGED","CONTAINER_BITRATE","CONTAINER_STATS_REPORT","CONTAINER_DESTROYED","CONTAINER_READY","CONTAINER_RESIZE","CONTAINER_ERROR","CONTAINER_LOADEDMETADATA","CONTAINER_SUBTITLE_AVAILABLE","CONTAINER_SUBTITLE_CHANGED","CONTAINER_TIMEUPDATE","CONTAINER_PROGRESS","CONTAINER_PLAY","CONTAINER_STOP","CONTAINER_PAUSE","CONTAINER_ENDED","CONTAINER_CLICK","CONTAINER_DBLCLICK","CONTAINER_CONTEXTMENU","CONTAINER_MOUSE_ENTER","CONTAINER_MOUSE_LEAVE","CONTAINER_SEEK","CONTAINER_SEEKED","CONTAINER_VOLUME","CONTAINER_FULLSCREEN","CONTAINER_STATE_BUFFERING","CONTAINER_STATE_BUFFERFULL","CONTAINER_SETTINGSUPDATE","CONTAINER_HIGHDEFINITIONUPDATE","CONTAINER_MEDIACONTROL_SHOW","CONTAINER_MEDIACONTROL_HIDE","CONTAINER_MEDIACONTROL_DISABLE","CONTAINER_MEDIACONTROL_ENABLE","CONTAINER_STATS_ADD","CONTAINER_OPTIONS_CHANGE","MEDIACONTROL_RENDERED","MEDIACONTROL_FULLSCREEN","MEDIACONTROL_SHOW","MEDIACONTROL_HIDE","MEDIACONTROL_MOUSEMOVE_SEEKBAR","MEDIACONTROL_MOUSELEAVE_SEEKBAR","MEDIACONTROL_PLAYING","MEDIACONTROL_NOTPLAYING","MEDIACONTROL_CONTAINERCHANGED","MEDIACONTROL_OPTIONS_CHANGE","BaseObject","_Events","_options","delegateEventSplitter","UIObject","_BaseObject","cid","_ensureElement","delegateEvents","$el","stopListening","undelegateEvents","Function","setElement","attrs","PlayerError","core","FATAL","INFO","ErrorMixin","createError","useCodePrefix","origin","i18n","prefixedCode","code","defaultError","description","Levels","raw","errorData","UI","defaultUI","title","t","playerError","UICorePlugin","_UIObject","enabled","bindEvents","render","styleInject","ref","insertAt","styleSheet","createTextNode","Container","_i18n","playback","isReady","mediaControlDisabled","plugins","dblTapHandler","clickTimer","clickDelay","data-container","dblclick","touchend","contextmenu","ended","buffering","hasClosedCaptionsTracks","closedCaptionsTracks","closedCaptionsTrackId","trackId","onProgress","timeUpdated","onBuffering","bufferfull","settingsUpdate","loadedMetadata","highDefinitionUpdate","updateBitrate","playbackStateChanged","playbackDvrStateChanged","disableMediaControl","enableMediaControl","onSeeked","onEnded","playing","paused","stopped","subtitleAvailable","subtitleChanged","track","dvrInUse","newBitrate","metrics","getPlaybackType","dvrEnabled","disableResizeObserver","plugin","destroy","duration","animate","isPlaying","getStartTimeOffset","getDuration","_error","metadata","timeProgress","current","stop","pause","_this2","chromeless","allowUserInteraction","cancelClicked","_this3","handle","seek","percentage","getPlugin","isHD","isHighDefinitionInUse","_this4","resizeObserverInterval","setInterval","checkResize","clearInterval","newSize","clientWidth","clientHeight","_ref","currentSize","updateStyle","configure","enableResizeObserver","Playback","_consented","NO_OP","canAutoPlay","canPlay","VOD","AOD","LIVE","ContainerFactory","loader","sources","createContainer","playbackPlugins","resolvedSource","playbackPlugin","findPlaybackPlugin","addContainerPlugins","containerPlugins","Plugin","addPlugin","Core","configureDomRecycler","firstResize","_boundFullscreenHandler","handleFullscreenChange","handleWindowResize","webkitfullscreenchange","data-player","_mediaControl","dummyMediaControl","_dummyMediaControl","_activeContainer","activeContainer","containerFactory","prepareContainers","createContainers","setupContainers","resolveOnContainersReady","isFullscreen","setFullscreen","setPlayerSize","previousSize","resize","triggerResize","oldHeight","oldWidth","computedSize","updateSize","innerWidth","innerHeight","_screenOrientation","c","removeContainer","setupContainer","renderContainers","appendToParent","_this5","activePlayback","playbackEl","_this6","fullscreenEl","_this7","appendTo","parentElement","registry","CoreFactory","player","addCorePlugins","corePlugins","setupExternalInterface","externalFunctions","getExternalInterface","VERSION_REGEX","Version","major","minor","patch","_matches","other","diff","min","max","compare","filterPluginsByType","_ref3","_ref4","Loader","playbacks","externalPlugins","playerId","_Loader$registeredPlu","registeredPlugins","validateExternalPluginsType","addExternalPlugins","entry","_entry$prototype","supportedVersion","maxVersion","inc","minVersion","satisfies","pluginEntry","checkVersionSupport","pluginRegistry","previousEntry","playbackEntry","previousEntryIdx","memo","useReversePrecedence","groupUp","pluginsMap","reduceRight","loadExternalPluginsFirst","loadExternalPlaybacksFirst","groupPluginsByType","removeDups","errorMessage","baseUrl","Player","defaultOptions","persistConfig","_normalizeSources","disableKeyboardShortcuts","_registerOptionEventListeners","_coreFactory","parentId","setParentId","attachTo","_loader","_ready","onReady","onResize","onPlay","onPause","onStop","onSeek","onError","onTimeUpdate","onVolumeUpdate","onSubtitleAvailable","_addEventListeners","_onReady","_containerChanged","_onFullscreenChange","_onResize","_onPlay","_onPause","_onStop","_onEnded","_onSeek","_onError","_onTimeUpdate","_onVolumeUpdate","_onSubtitleAvailable","newEvents","hasNewEvents","userEvent","eventType","eventsMapping","eventFunction","_addContainerEventListeners","fullscreen","getCurrentTime","autoPlay","getCurrentPlayback","consent","seekPercentage","mute","unmute","isDvrEnabled","isDvrInUse","ContainerPlugin","CorePlugin","UIContainerPlugin","evaluate","interpolate","noMatch","escapes","'","\\","\r","\n","\t"," "," ","escaper","htmlEntities","&","<",">","\"","entityRe","escapeExpr","string","counter","tmpl","variable","template","MIMETYPES","codec","ogg","3gpp","webm","mkv","m3u8","AUDIO_MIMETYPES","wav","mp3","aac","oga","KNOWN_AUDIO_MIMETYPES","acc","UNKNOWN_ERROR","HTML5Video","_Playback","_destroyed","_loadStarted","_isBuffering","_playheadMoving","_playheadMovingTimer","_stopped","_ccTrackId","_setupSrc","disableContextMenu","disableVideoTagContextMenu","_minDvrSize","isValidMinimumDVRSizeConfig","minimumDVRSizeConfig","posterUrl","playbackConfig","preload","poster","defaultMuted","loop","crossOrigin","x-webkit-playsinline","playInline","controls","useVideoTagDefaultControls","playsinline","crossorigin","default","right","externalTracks","_setupExternalTracks","attemptAutoPlay","isAudioOnly","resourceUrl","_mimeTypesForUrl","audioOnly","data-html5-video","canplay","canplaythrough","durationchange","loadeddata","loadedmetadata","seeking","seeked","stalled","timeupdate","waiting","isLive","minimumDvrSize","disableCanAutoPlay","opts","autoPlayTimeout","tracks","_externalTracks","kind","label","lang","srcUrl","_ccIsSetup","_src","_handleBufferingEvents","_updateSettings","autoSeekFromUrl","_checkInitialSeek","_onProgress","seekEnabled","isSeekEnabled","onDemandType","Infinity","eventHandler","_updateDvr","_stopPlayheadMovingChecks","_playheadMovingTimeOnCheck","_determineIfPlayheadMoving","_checkForClosedCaptions","_startPlayheadMovingChecks","playheadShouldBeMoving","HAVE_FUTURE_DATA","isUnknownError","formattedError","handleTextTrackChange","textTracks","garbage","dvr","seekable","seekTime","end","total","buffered","bufferedPos","_isReadyState","isHTML5Video","_handleTextTrackChange","mode","showingTrack","mimeTypesByExtension","extension","_canPlay","media","mediaType","canPlayType","HTML5Audio","_HTML5Video","HTMLImg","data-html-img","resource","NoOp","_noiseFrameNum","data-no-op","playbackNotSupported","playbackNotSupportedMessage","showForNoOp","_animate","buffer32","idata","createImageData","canvas","Uint32Array","buffer","random","pow","putImageData","_stop","_noise","_animationHandle","_loop","getContext","Styler","getStyleFor","Strings","_CorePlugin","_initializeMessages","_language","fallbackLang","_messages","en","back_to_live","playback_not_supported","default_error_title","default_error_message","pt","es","ru","fr","et","ar","strings","SourcesPlugin","onContainersCreated","firstValidSource","registerPlugin","registerPlayback","main","ClickToPausePlugin","_ContainerPlugin","pointerEnabled","ClosedCaptions","_UICorePlugin","config","closedCaptionsConfig","_title","_ariaLabel","ariaLabel","_labelCb","labelCallback","click [data-cc-button]","click [data-cc-select]","data-cc-controls","bindCoreEvents","bindContainerEvents","mediaControl","containerChanged","hideContextMenu","onSubtitleChanged","onContainerStop","ccAvailable","renderCcButton","setCurrentContextMenuElement","dataset","ccSelect","hasCC","_trackId","contextMenuElement","$ccButton","disabledLabel","$fullscreen","insertAfter","prepend","DVRControls","click .live-button","data-dvr-controls","dvrChanged","shouldRender","useDvrControls","backToLive","EndVideo","exitFullscreenOnEnd","toggleFullscreen","ErrorScreen","disableErrorScreen","getCurrentContainer","data-error-screen","onContainerChanged","reloadButton","reload","unbindReload","icon","reloadIcon","bindReload","playIcon","pauseIcon","oldIcon","Favicon","_container","changeFavicon","enable","setPlayIcon","setPauseIcon","resetIcon","fillStyle","d","path","Path2D","fill","toDataURL","createIcon","changeIcon","GoogleAnalytics","gaAccount","account","trackerName","gaTrackerName","domainName","gaDomainName","currentHDState","embedScript","_gat","addEventListeners","onload","onBufferFull","onPlaybackChanged","onVolumeChanged","CONTAINER_FULL_SCREEN","onFullscreen","onHD","onDVR","_gaq","playbackState","res","global$1","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","nextTick","Item","Kibo","mozNow","msNow","oNow","webkitNow","KEY_NAMES_BY_CODE","8","9","13","16","17","18","20","27","32","37","38","39","40","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","KEY_CODES_BY_NAME","MODIFIERS","registerEvent","attachEvent","unregisterEvent","detachEvent","stringContains","neatString","capitalize","what","arrayIncludes","haystack","needle","extractModifiers","keyCombination","modifiers","extractKey","modifiersAndKey","keyName","keyCode","that","lastKeyCode","lastModifiers","keysDown","any","keysUp","downHandler","upHandler","unloader","upOrDown","registeredKeys","lastModifiersAndKey","registerKeys","newKeys","unregisterKeys","down","up","lastKey","modifier","stopIcon","volumeIcon","fullscreenIcon","MediaControl","currentPositionValue","currentDurationValue","keepVisible","fullScreenOnVideoTagSupported","setInitialVolume","kibo","focusElement","bindKeyEvents","userDisabled","stopDragHandler","stopDrag","updateDragHandler","updateDrag","playbackIsNOOP","data-media-control","click [data-play]","click [data-pause]","click [data-playpause]","click [data-stop]","click [data-playstop]","click [data-fullscreen]","click .bar-container[data-seekbar]","click .bar-container[data-volume]","click .drawer-icon[data-volume]","mouseenter .drawer-container[data-volume]","mouseleave .drawer-container[data-volume]","mousedown .bar-container[data-volume]","mousemove .bar-container[data-volume]","mousedown .bar-scrubber[data-seekbar]","mousemove .bar-container[data-seekbar]","mouseleave .bar-container[data-seekbar]","mouseenter .media-control-layer[data-controls]","mouseleave .media-control-layer[data-controls]","intendedVolume","setVolume","getVolume","onActiveContainerChanged","hideMediaControlDelay","playerResize","changeTogglePlay","updateProgressBar","onLoadedMetadataOnVideoTag","unbindKeyEvents","initialVolume","restore","updateVolumeUI","video","webkitSupportsFullscreen","rendered","$volumeBarContainer","containerWidth","barWidth","$volumeBarBackground","pos","$volumeBarFill","$volumeBarScrubber","ceil","$volumeIcon","applyButtonStyle","$playPauseToggle","$playStopToggle","offsetX","pageX","$seekBarContainer","$seekBarHover","getVolumeFromUIEvent","draggingVolumeBar","$fullscreenToggle","hideVolumeBar","draggingSeekBar","$seekBarLoaded","$seekBarPosition","$seekBarScrubber","setSeekPercentage","isInitialVolume","persist","setWhenContainerReady","resetUserKeepVisible","hideVolumeId","loadedStart","loadedEnd","renderSeekBar","currentSeekBarPercentage","newPosition","newDuration","displayedPosition","$position","displayedDuration","$duration","userKeepVisible","mousePointerMoved","clientX","lastMouseX","clientY","lastMouseY","hideId","updateCursorStyle","isVisible","hideMediaControl","hasKeepVisibleRequested","hasDraggingAction","showing","newSettings","getSettings","stringify","$hdIndicator","$layer","$volumeContainer","resetIndicators","initializeIcons","displayedSeekBarPercentage","delta","_this8","_this9","bindKeyAndShow","togglePlayPause","seekRelative","mediacontrol","buttonsColor","buttons","seekbarColor","seekbar","_this10","createCachedElements","previousSeekPercentage","parseColors","PosterPlugin","_UIContainerPlugin","hasStartedPlaying","playRequested","update","data-poster","showOnVideoEnd","hasFatalError","showPlayButton","hidePlayButton","$playButton","updatePlayButton","updatePoster","hidePoster","showPoster","shouldHideOnPlay","custom","background-image","background","$playWrapper","formatTime$1","SeekTime","hoveringOverSeekBar","hoverPosition","firstFragDateTime","actualLiveTime","actualLiveServerTime","actualLiveServerTimeDiff","data-seek-time","mediaControlContainer","isLiveStreamWithDvr","showTime","hideTime","updateDuration","calculateHoverPosition","secondsSinceMidnight","useActualLiveTime","setHours","shouldBeVisible","getSeekTime","currentSeekTime","displayedSeekTime","$seekTimeEl","durationShown","$durationEl","currentDuration","elWidth","elLeftPos","SpinnerThreeBouncePlugin","showTimeout","data-spinner","StatsPlugin","setInitialAttrs","reportInterval","onStatsAdd","firstPlay","startupTime","rebufferingTime","watchingTime","rebuffers","externalMetrics","watchingTimeInit","intervalId","report","startupTimeInit","rebufferingTimeInit","getRebufferingTime","metric","isRebuffering","getWatchingTime","statsReport","getStats","Plugins","ClickToPause","Poster","SpinnerThreeBounce","Stats","WaterMark","WaterMarkPlugin","watermark","imageUrl","imageLink","watermarkLink","templateOptions","ClapprCore","Vendor"],"mappings":"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AM,KAAMW,KAASX,OApG7F,CAuGG1E,GAEH,IAyYMkgB,EAmB6BC,EAE7Bja,EA9ZF5D,EAAQtC,EAIRogB,EAAe,CAAC,CAClBriB,KAAM,WACNsiB,MAAO,SACPC,WAAY,sBACX,CACDviB,KAAM,gBACNsiB,MAAO,SACPC,WAAY,0BACZC,kBAAmB,oBAClB,CACDxiB,KAAM,SACNsiB,MAAO,SACPC,WAAY,oBACX,CACDviB,KAAM,iBACNsiB,MAAO,SACPC,WAAY,mBACX,CACDviB,KAAM,kBACNsiB,MAAO,SACPC,WAAY,kBACX,CACDviB,KAAM,UACNsiB,MAAO,UACPC,WAAY,qBACX,CACDviB,KAAM,aACNsiB,MAAO,QACPC,WAAY,wBACX,CACDviB,KAAM,QACNsiB,MAAO,QACPC,WAAY,mBACX,CACDviB,KAAM,QACNsiB,MAAO,QACPC,WAAY,kBACZC,kBAAmB,qBAClB,CACDxiB,KAAM,WACNsiB,MAAO,WACPC,WAAY,sBACX,CACDviB,KAAM,oBACNsiB,MAAO,WACPC,WAAY,wBACX,CACDviB,KAAM,oBACNsiB,MAAO,WACPC,WAAY,oBACZC,kBAAmB,gBAClB,CACDxiB,KAAM,UACNsiB,MAAO,UACPC,WAAY,iBACZC,kBAAmB,kBAClB,CACDxiB,KAAM,SACNsiB,MAAO,SACPC,WAAY,mBACZC,kBAAmB,sBAKjBC,EAAU,CAAC,CACbziB,KAAM,eACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,aACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,gBACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,YACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,YACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,cACNsiB,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD1iB,KAAM,aACNsiB,MAAO,UACPC,WAAY,kBACZG,QAAS,QACR,CACD1iB,KAAM,gBACNsiB,MAAO,gBACPC,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"}